(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"3V+g":function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return m});var r=n("h/KA"),i=(n("P7XM"),n("j8+i")),o=n.n(i),a=new o.a({name:"children",enumerable:!0,collection:!0},{name:"parent"}),s=new o.a({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),c=new o.a({name:"attachers",collection:!0},{name:"host"}),u=new o.a({name:"outgoing",collection:!0},{name:"source"}),l=new o.a({name:"incoming",collection:!0},{name:"target"});function p(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),a.bind(this,"parent"),s.bind(this,"labels"),u.bind(this,"outgoing"),l.bind(this,"incoming")}function h(){p.call(this),a.bind(this,"children"),c.bind(this,"host"),c.bind(this,"attachers")}function f(){h.call(this),s.bind(this,"labelTarget")}var d={connection:function(){p.call(this),u.bind(this,"source"),l.bind(this,"target")},shape:h,label:f,root:function(){h.call(this)}};function m(e,t){var n=d[e];if(!n)throw new Error("unknown type: <"+e+">");return Object(r.a)(new n,t)}},"4Ra4":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r=n("a4vW");function i(e,t,n,i,o){var a=Object(r.h)();a.setTranslate(t,n);var s=Object(r.h)();s.setRotate(i,0,0);var c=Object(r.h)();c.setScale(o||1,o||1),Object(r.k)(e,[a,s,c])}function o(e,t,n){var i=Object(r.h)();i.setTranslate(t,n),Object(r.k)(e,i)}function a(e,t){var n=Object(r.h)();n.setRotate(t,0,0),Object(r.k)(e,n)}},"56W2":function(e,t,n){var r;r="undefined"!=typeof global?global:this,e.exports=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),r=n.length,i=-1,o="",a=n.charCodeAt(0);++i<r;)0!=(t=n.charCodeAt(i))?o+=t>=1&&t<=31||127==t||0==i&&t>=48&&t<=57||1==i&&t>=48&&t<=57&&45==a?"\\"+t.toString(16)+" ":0==i&&1==r&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+n.charAt(i):n.charAt(i):o+="\ufffd";return o};return e.CSS||(e.CSS={}),e.CSS.escape=t,t}(r)},"5QZp":function(e,t,n){"use strict";function r(e,t,n){return 2==arguments.length?e.getAttribute(t):null===n?e.removeAttribute(t):(e.setAttribute(t,n),e)}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return _}),n.d(t,"f",function(){return x}),n.d(t,"g",function(){return b}),n.d(t,"h",function(){return C}),n.d(t,"i",function(){return k}),n.d(t,"j",function(){return T}),n.d(t,"k",function(){return A});var i=[].indexOf,o=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},a=/\s+/,s=Object.prototype.toString;function c(e){return new u(e)}function u(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function l(e){for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);return e}u.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~o(t,e)||t.push(e),this.el.className=t.join(" "),this},u.prototype.remove=function(e){if("[object RegExp]"==s.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=o(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},u.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},u.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},u.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(a);return""===e[0]&&e.shift(),e},u.prototype.has=u.prototype.contains=function(e){return this.list?this.list.contains(e):!!~o(this.array(),e)};var p,h=Element.prototype,f=h.matchesSelector||h.webkitMatchesSelector||h.mozMatchesSelector||h.msMatchesSelector||h.oMatchesSelector,d=function(e,t){if(f)return f.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;++r)if(n[r]==e)return!0;return!1},m=function(e,t,n){for(var r=n?e:e.parentNode;r&&r!==document;){if(d(r,t))return r;r=r.parentNode}},y=window.addEventListener?"addEventListener":"attachEvent",v=window.removeEventListener?"removeEventListener":"detachEvent",g="addEventListener"!==y?"on":"",b={bind:function(e,t,n,r){return e[y](g+t,n,r||!1),n},unbind:function(e,t,n,r){return e[v](g+t,n,r||!1),n}},w=["focus","blur"],_={bind:function(e,t,n,r,i){return-1!==w.indexOf(n)&&(i=!0),b.bind(e,n,function(n){n.delegateTarget=m(n.target||n.srcElement,t,!0,e),n.delegateTarget&&r.call(e,n)},i)},unbind:function(e,t,n,r){-1!==w.indexOf(t)&&(r=!0),b.unbind(e,t,n,r)}},x=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r){var i=t.createElement("html");return i.innerHTML=e,i.removeChild(i.lastChild)}var o=O[r]||O._default,a=o[0],s=o[1],c=o[2];for((i=t.createElement("div")).innerHTML=s+e+c;a--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);for(var u=t.createDocumentFragment();i.firstChild;)u.appendChild(i.removeChild(i.firstChild));return u},E=!1;"undefined"!=typeof document&&((p=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',E=!p.getElementsByTagName("link").length,p=void 0);var O={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:E?[1,"X<div>","</div>"]:[0,"",""]};O.td=O.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],O.option=O.optgroup=[1,'<select multiple="multiple">',"</select>"],O.thead=O.tbody=O.colgroup=O.caption=O.tfoot=[1,"<table>","</table>"],O.polyline=O.ellipse=O.polygon=O.circle=O.text=O.line=O.path=O.rect=O.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var j="undefined"!=typeof Element?Element.prototype:{},S=j.matches||j.matchesSelector||j.webkitMatchesSelector||j.mozMatchesSelector||j.msMatchesSelector||j.oMatchesSelector,C=function(e,t){if(!e||1!==e.nodeType)return!1;if(S)return S.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;r++)if(n[r]==e)return!0;return!1};function k(e,t){return(t=t||document).querySelector(e)}function T(e,t){return(t=t||document).querySelectorAll(e)}function A(e){e.parentNode&&e.parentNode.removeChild(e)}},"5Qq9":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=1e3;function i(e,t){var n=this;e.on(["render.shape","render.connection"],t=t||r,function(e,t){var r=e.type,i=t.element,o=t.gfx;if(n.canRender(i))return"render.shape"===r?n.drawShape(o,i):n.drawConnection(o,i)}),e.on(["render.getShapePath","render.getConnectionPath"],t,function(e,t){if(n.canRender(t))return"render.getShapePath"===e.type?n.getShapePath(t):n.getConnectionPath(t)})}i.prototype.canRender=function(){},i.prototype.drawShape=function(){},i.prototype.drawConnection=function(){},i.prototype.getShapePath=function(){},i.prototype.getConnectionPath=function(){}},"5avg":function(e,t,n){"use strict";var r="hasOwnProperty",i=/,?([a-z]),?/gi,o=parseFloat,a=Math,s=a.PI,c=a.min,u=a.max,l=a.pow,p=a.abs,h=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,f=/(-?\d*\.?\d*(?:e[-+]?\\d+)?)[\s]*,?[\s]*/gi;function d(e,t){return"finite"==(t=String.prototype.toLowerCase.call(t))?isFinite(e):!("array"!=t||!(e instanceof Array||Array.isArray&&Array.isArray(e)))||"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||Object.prototype.toString.call(e).slice(8,-1).toLowerCase()==t}function m(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[r](n)&&(t[n]=m(e[n]));return t}function y(e){var t=y.ps=y.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[r](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]}function v(e,t,n,r){return null==e&&(e=t=n=r=0),null==t&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:a.min(n,r)/2,r2:a.max(n,r)/2,r0:a.sqrt(n*n+r*r)/2,path:C(e,t,n,r),vb:[e,t,n,r].join(" ")}}function g(){return this.join(",").replace(i,"$1")}function b(e){var t=m(e);return t.toString=g,t}function w(e,t,n,r,i,o,c,u,p){var h=1-p,f=l(h,3),d=l(h,2),m=p*p,y=m*p,v=e+2*p*(n-e)+m*(i-2*n+e),g=t+2*p*(r-t)+m*(o-2*r+t),b=n+2*p*(i-n)+m*(c-2*i+n),w=r+2*p*(o-r)+m*(u-2*o+r);return{x:f*e+3*d*p*n+3*h*p*p*i+y*c,y:f*t+3*d*p*r+3*h*p*p*o+y*u,m:{x:v,y:g},n:{x:b,y:w},start:{x:h*e+p*n,y:h*t+p*r},end:{x:h*i+p*c,y:h*o+p*u},alpha:90-180*a.atan2(v-b,g-w)/s}}function _(e,t,n,r,i,o,s,l){d(e,"array")||(e=[e,t,n,r,i,o,s,l]);var h=(function(e,t,n,r,i,o,s,l){for(var h,f,d,m,y,v,g,b,w=[],_=[[],[]],x=0;x<2;++x)if(0==x?(f=6*e-12*n+6*i,h=-3*e+9*n-9*i+3*s,d=3*n-3*e):(f=6*t-12*r+6*o,h=-3*t+9*r-9*o+3*l,d=3*r-3*t),p(h)<1e-12){if(p(f)<1e-12)continue;0<(m=-d/f)&&m<1&&w.push(m)}else b=a.sqrt(g=f*f-4*d*h),g<0||(0<(y=(-f+b)/(2*h))&&y<1&&w.push(y),0<(v=(-f-b)/(2*h))&&v<1&&w.push(v));for(var E,O=w.length,j=O;O--;)_[0][O]=(E=1-(m=w[O]))*E*E*e+3*E*E*m*n+3*E*m*m*i+m*m*m*s,_[1][O]=E*E*E*t+3*E*E*m*r+3*E*m*m*o+m*m*m*l;return _[0][j]=e,_[1][j]=t,_[0][j+1]=s,_[1][j+1]=l,_[0].length=_[1].length=j+2,{min:{x:c.apply(0,_[0]),y:c.apply(0,_[1])},max:{x:u.apply(0,_[0]),y:u.apply(0,_[1])}}}).apply(null,e);return v(h.min.x,h.min.y,h.max.x-h.min.x,h.max.y-h.min.y)}function x(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function E(e,t,n,r,i){return e*(e*(-3*t+9*n-9*r+3*i)+6*t-12*n+6*r)-3*t+3*n}function O(e,t,n,r,i,o,s,c,u){null==u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,d=0;d<12;d++){var m=l*p[d]+l,y=E(m,e,n,i,s),v=E(m,t,r,o,c);f+=h[d]*a.sqrt(y*y+v*v)}return l*f}function j(e,t,n,r,i,o,a,s){if(!(u(e,n)<c(i,a)||c(e,n)>u(i,a)||u(t,r)<c(o,s)||c(t,r)>u(o,s))){var l=(e-n)*(o-s)-(t-r)*(i-a);if(l){var p=((e*r-t*n)*(i-a)-(e-n)*(i*s-o*a))/l,h=((e*r-t*n)*(o-s)-(t-r)*(i*s-o*a))/l,f=+p.toFixed(2),d=+h.toFixed(2);if(!(f<+c(e,n).toFixed(2)||f>+u(e,n).toFixed(2)||f<+c(i,a).toFixed(2)||f>+u(i,a).toFixed(2)||d<+c(t,r).toFixed(2)||d>+u(t,r).toFixed(2)||d<+c(o,s).toFixed(2)||d>+u(o,s).toFixed(2)))return{x:p,y:h}}}}function S(e,t,n){if(!function(e,t){return e=v(e),x(t=v(t),e.x,e.y)||x(t,e.x2,e.y)||x(t,e.x,e.y2)||x(t,e.x2,e.y2)||x(e,t.x,t.y)||x(e,t.x2,t.y)||x(e,t.x,t.y2)||x(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(_(e),_(t)))return n?0:[];for(var r=~~(O.apply(0,e)/5),i=~~(O.apply(0,t)/5),o=[],a=[],s={},c=n?0:[],u=0;u<r+1;u++){var l=w.apply(0,e.concat(u/r));o.push({x:l.x,y:l.y,t:u/r})}for(u=0;u<i+1;u++)l=w.apply(0,t.concat(u/i)),a.push({x:l.x,y:l.y,t:u/i});for(u=0;u<r;u++)for(var h=0;h<i;h++){var f=o[u],d=o[u+1],m=a[h],y=a[h+1],g=p(d.x-f.x)<.01?"y":"x",b=p(y.x-m.x)<.01?"y":"x",E=j(f.x,f.y,d.x,d.y,m.x,m.y,y.x,y.y);if(E){if(s[E.x.toFixed(0)]==E.y.toFixed(0))continue;s[E.x.toFixed(0)]=E.y.toFixed(0);var S=f.t+p((E[g]-f[g])/(d[g]-f[g]))*(d.t-f.t),C=m.t+p((E[b]-m[b])/(y[b]-m[b]))*(y.t-m.t);S>=0&&S<=1&&C>=0&&C<=1&&(n?c++:c.push({x:E.x,y:E.y,t1:S,t2:C}))}}return c}function C(e,t,n,r,i){if(i)return[["M",+e+ +i,t],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.toString=g,o}function k(e,t,n,r,i){if(null==i&&null==r&&(r=n),e=+e,t=+t,n=+n,r=+r,null!=i)var o=Math.PI/180,a=e+n*Math.cos(-r*o),s=e+n*Math.cos(-i*o),c=[["M",a,t+n*Math.sin(-r*o)],["A",n,n,0,+(i-r>180),0,s,t+n*Math.sin(-i*o)]];else c=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return c.toString=g,c}function T(e){var t=y(e);if(t.abs)return b(t.abs);if(d(e,"array")&&d(e&&e[0],"array")||(e=function(e){if(!e)return null;var t=y(e);if(t.arr)return m(t.arr);var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return d(e,"array")&&d(e[0],"array")&&(r=m(e)),r.length||String(e).replace(h,function(e,t,i){var o=[],a=t.toLowerCase();if(i.replace(f,function(e,t){t&&o.push(+t)}),"m"==a&&o.length>2&&(r.push([t].concat(o.splice(0,2))),a="l",t="m"==t?"l":"L"),"o"==a&&1==o.length&&r.push([t,o[0]]),"r"==a)r.push([t].concat(o));else for(;o.length>=n[a]&&(r.push([t].concat(o.splice(0,n[a]))),n[a]););}),r.toString=y.toString,t.arr=m(r),r}(e)),!e||!e.length)return[["M",0,0]];var n,r=[],i=0,o=0,a=0,s=0,c=0;"M"==e[0][0]&&(a=i=+e[0][1],s=o=+e[0][2],c++,r[0]=["M",i,o]);for(var u,l,p=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),v=c,w=e.length;v<w;v++){if(r.push(u=[]),(n=(l=e[v])[0])!=n.toUpperCase())switch(u[0]=n.toUpperCase(),u[0]){case"A":u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=+l[6]+i,u[7]=+l[7]+o;break;case"V":u[1]=+l[1]+o;break;case"H":u[1]=+l[1]+i;break;case"R":for(var _=[i,o].concat(l.slice(1)),x=2,E=_.length;x<E;x++)_[x]=+_[x]+i,_[++x]=+_[x]+o;r.pop(),r=r.concat(P(_,p));break;case"O":r.pop(),(_=k(i,o,l[1],l[2])).push(_[0]),r=r.concat(_);break;case"U":r.pop(),r=r.concat(k(i,o,l[1],l[2],l[3])),u=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+l[1]+i,s=+l[2]+o;default:for(x=1,E=l.length;x<E;x++)u[x]=+l[x]+(x%2?i:o)}else if("R"==n)_=[i,o].concat(l.slice(1)),r.pop(),r=r.concat(P(_,p)),u=["R"].concat(l.slice(-2));else if("O"==n)r.pop(),(_=k(i,o,l[1],l[2])).push(_[0]),r=r.concat(_);else if("U"==n)r.pop(),r=r.concat(k(i,o,l[1],l[2],l[3])),u=["U"].concat(r[r.length-1].slice(-2));else for(var O=0,j=l.length;O<j;O++)u[O]=l[O];if("O"!=(n=n.toUpperCase()))switch(u[0]){case"Z":i=+a,o=+s;break;case"H":i=u[1];break;case"V":o=u[1];break;case"M":a=u[u.length-2],s=u[u.length-1];default:i=u[u.length-2],o=u[u.length-1]}}return r.toString=g,t.abs=b(r),r}function A(e,t,n,r){return[e,t,n,r,n,r]}function R(e,t,n,r,i,o){return[1/3*e+2/3*n,1/3*t+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]}function P(e,t){for(var n=[],r=0,i=e.length;i-2*!t>r;r+=2){var o=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?i-4==r?o[3]={x:+e[0],y:+e[1]}:i-2==r&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[i-2],y:+e[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(6*o[1].x-o[0].x+o[2].x)/6,(6*o[1].y-o[0].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function M(e,t){var n=!t&&y(e);if(!t&&n.curve)return b(n.curve);for(var i=T(e),c=t&&T(t),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f=function(e,t,n){var i,o;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat((function e(t,n,i,o,c,u,l,h,f,d){var m,y,v=120*s/180,g=s/180*(+c||0),b=[],w=(y=function(e,t,n){return{x:e*a.cos(n)-t*a.sin(n),y:e*a.sin(n)+t*a.cos(n)}},function e(){var t=Array.prototype.slice.call(arguments,0),n=t.join("\u2400"),i=e.cache=e.cache||{},o=e.count=e.count||[];return i[r](n)?(function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}(o,n),i[n]):(o.length>=1e3&&delete i[o.shift()],o.push(n),i[n]=y.apply(void 0,t),i[n])});if(d)T=d[0],A=d[1],C=d[2],k=d[3];else{n=(m=w(t,n,-g)).y;var _=((t=m.x)-(h=(m=w(h,f,-g)).x))/2,x=(n-(f=m.y))/2,E=_*_/(i*i)+x*x/(o*o);E>1&&(i*=E=a.sqrt(E),o*=E);var O=i*i,j=o*o,S=(u==l?-1:1)*a.sqrt(p((O*j-O*x*x-j*_*_)/(O*x*x+j*_*_))),C=S*i*x/o+(t+h)/2,k=S*-o*_/i+(n+f)/2,T=a.asin(((n-k)/o).toFixed(9)),A=a.asin(((f-k)/o).toFixed(9));(T=t<C?s-T:T)<0&&(T=2*s+T),(A=h<C?s-A:A)<0&&(A=2*s+A),l&&T>A&&(T-=2*s),!l&&A>T&&(A-=2*s)}var R=A-T;if(p(R)>v){var P=A,M=h,D=f;b=e(h=C+i*a.cos(A=T+v*(l&&A>T?1:-1)),f=k+o*a.sin(A),i,o,c,0,l,M,D,[A,P,C,k])}R=A-T;var N=a.cos(T),I=a.sin(T),B=a.cos(A),L=a.sin(A),F=a.tan(R/4),z=4/3*i*F,V=4/3*o*F,U=[t,n],H=[t+z*I,n-V*N],$=[h+z*L,f-V*B],W=[h,f];if(H[0]=2*U[0]-H[0],H[1]=2*U[1]-H[1],d)return[H,$,W].concat(b);for(var G=[],q=0,K=(b=[H,$,W].concat(b).join().split(",")).length;q<K;q++)G[q]=q%2?w(b[q-1],b[q],g).y:w(b[q],b[q+1],g).x;return G}).apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*t.x-t.bx,o=2*t.y-t.by):(i=t.x,o=t.y),e=["C",i,o].concat(e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(R(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(R(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(A(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(A(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(A(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(A(t.x,t.y,t.X,t.Y))}return e},d=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)v[t]="A",c&&(g[t]="A"),e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),E=u(i.length,c&&c.length||0)}},m=function(e,t,n,r,o){e&&t&&"M"==e[o][0]&&"M"!=t[o][0]&&(t.splice(o,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=e[o][1],n.y=e[o][2],E=u(i.length,c&&c.length||0))},v=[],g=[],w="",_="",x=0,E=u(i.length,c&&c.length||0);x<E;x++){i[x]&&(w=i[x][0]),"C"!=w&&(v[x]=w,x&&(_=v[x-1])),i[x]=f(i[x],l,_),"A"!=v[x]&&"C"==w&&(v[x]="C"),d(i,x),c&&(c[x]&&(w=c[x][0]),"C"!=w&&(g[x]=w,x&&(_=g[x-1])),c[x]=f(c[x],h,_),"A"!=g[x]&&"C"==w&&(g[x]="C"),d(c,x)),m(i,c,l,h,x),m(c,i,h,l,x);var O=i[x],j=c&&c[x],S=O.length,C=c&&j.length;l.x=O[S-2],l.y=O[S-1],l.bx=o(O[S-4])||l.x,l.by=o(O[S-3])||l.y,h.bx=c&&(o(j[C-4])||h.x),h.by=c&&(o(j[C-3])||h.y),h.x=c&&j[C-2],h.y=c&&j[C-1]}return c||(n.curve=b(i)),c?[i,c]:i}e.exports=function(e,t,n){e=M(e),t=M(t);for(var r,i,o,a,s,c,u,l,p,h,f=n?0:[],d=0,m=e.length;d<m;d++){var y=e[d];if("M"==y[0])r=s=y[1],i=c=y[2];else{"C"==y[0]?(p=[r,i].concat(y.slice(1)),r=p[6],i=p[7]):(p=[r,i,r,i,s,c,s,c],r=s,i=c);for(var v=0,g=t.length;v<g;v++){var b=t[v];if("M"==b[0])o=u=b[1],a=l=b[2];else{"C"==b[0]?(h=[o,a].concat(b.slice(1)),o=h[6],a=h[7]):(h=[o,a,o,a,u,l,u,l],o=u,a=l);var w=S(p,h,n);if(n)f+=w;else{for(var _=0,x=w.length;_<x;_++)w[_].segment1=d,w[_].segment2=v,w[_].bez1=p,w[_].bez2=h;f=f.concat(w)}}}}}return f}},"5oaf":function(e,t,n){"use strict";n.r(t);var r=n("tqCT"),i=(n("P7XM"),n("5Qq9")),o=n("9Ue4"),a=n("a4vW"),s=1;function c(e,t){i.a.call(this,e,s),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2})}c.prototype.canRender=function(){return!0},c.prototype.drawShape=function(e,t){var n=Object(a.f)("rect");return Object(a.b)(n,{x:0,y:0,width:t.width||0,height:t.height||0}),Object(a.b)(n,this.SHAPE_STYLE),Object(a.a)(e,n),n},c.prototype.drawConnection=function(e,t){var n=Object(o.b)(t.waypoints,this.CONNECTION_STYLE);return Object(a.a)(e,n),n},c.prototype.getShapePath=function(e){var t=e.width,n=[["M",e.x,e.y],["l",t,0],["l",0,e.height],["l",-t,0],["z"]];return Object(o.a)(n)},c.prototype.getConnectionPath=function(e){var t,n,r=e.waypoints,i=[];for(t=0;n=r[t];t++)i.push([0===t?"M":"L",(n=n.original||n).x,n.y]);return Object(o.a)(i)},c.$inject=["eventBus","styles"];var u=n("h/KA"),l={__init__:["defaultRenderer"],defaultRenderer:["type",c],styles:["type",function(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(e,t,n){var r=this.style(t,n);return Object(u.a)(r,{class:e})},this.style=function(t,n){Object(u.l)(t)||n||(n=t,t=[]);var r=Object(u.x)(t,function(t,n){return Object(u.a)(t,e[n]||{})},{});return n?Object(u.a)(r,n):r},this.computeStyle=function(e,n,r){return Object(u.l)(n)||(r=n,n=[]),t.style(n||[],Object(u.a)({},r,e||{}))}}]},p=n("XMNj");function h(e,t){return Math.round(e*t)/t}function f(e){return Object(u.o)(e)?e+"px":e}function d(e,t,n){var r=Object(a.f)("g");return Object(a.c)(r).add(t),e.insertBefore(r,e.childNodes[void 0!==n?n:e.childNodes.length-1]||null),r}var m={shape:["x","y","width","height"],connection:["waypoints"]};function y(e,t,n,r){this._eventBus=t,this._elementRegistry=r,this._graphicsFactory=n,this._init(e||{})}function v(e,t){e.setAttribute("transform","matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")")}y.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],y.prototype._init=function(e){var t=this._eventBus,n=this._container=function(e){var t=(e=Object(u.a)({},{width:"100%",height:"100%"},e)).container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container"),Object(u.a)(n.style,{position:"relative",overflow:"hidden",width:f(e.width),height:f(e.height)}),t.appendChild(n),n}(e),r=this._svg=Object(a.f)("svg");Object(a.b)(r,{width:"100%",height:"100%"}),Object(a.a)(n,r);var i=this._viewport=d(r,"viewport");this._layers={},!1!==e.deferUpdate&&(this._viewboxChanged=Object(u.c)(Object(u.b)(this._viewboxChanged,this),300)),t.on("diagram.init",function(){t.fire("canvas.init",{svg:r,viewport:i})},this),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)},y.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},y.prototype._clear=function(){var e=this;this._elementRegistry.getAll().forEach(function(t){var n=Object(p.b)(t);"root"===n?e.setRootElement(null,!0):e._removeElement(t,n)}),delete this._cachedViewbox},y.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},y.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");var n=this._layers[e];if(n||(n=this._layers[e]=this._createLayer(e,t)),void 0!==t&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group},y.prototype._createLayer=function(e,t){t||(t=0);var n=Object(u.x)(this._layers,function(e,n){return t>=n.index&&e++,e},0);return{group:d(this._viewport,"layer-"+e,n),index:t}},y.prototype.getContainer=function(){return this._container},y.prototype._updateMarker=function(e,t,n){var r;e.id||(e=this._elementRegistry.get(e)),(r=this._elementRegistry._elements[e.id])&&(Object(u.i)([r.gfx,r.secondaryGfx],function(e){e&&(n?Object(a.c)(e).add(t):Object(a.c)(e).remove(t))}),this._eventBus.fire("element.marker.update",{element:e,gfx:r.gfx,marker:t,add:!!n}))},y.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},y.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},y.prototype.hasMarker=function(e,t){e.id||(e=this._elementRegistry.get(e));var n=this.getGraphics(e);return Object(a.c)(n).has(t)},y.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},y.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},y.prototype.setRootElement=function(e,t){e&&this._ensureValid("root",e);var n=this._rootElement,r=this._elementRegistry,i=this._eventBus;if(n){if(!t)throw new Error("rootElement already set, need to specify override");i.fire("root.remove",{element:n}),i.fire("root.removed",{element:n}),r.remove(n)}if(e){var o=this.getDefaultLayer();i.fire("root.add",{element:e}),r.add(e,o,this._svg),i.fire("root.added",{element:e,gfx:o})}return this._rootElement=e,e},y.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element with id "+t.id+" already exists");var n=m[e];if(!Object(u.d)(n,function(e){return void 0!==t[e]}))throw new Error("must supply { "+n.join(", ")+" } with "+e)},y.prototype._setParent=function(e,t,n){!function(e,t,n){if(e&&t){"number"!=typeof n&&(n=-1);var r=e.indexOf(t);if(-1!==r){if(r===n)return;if(-1===n)return;e.splice(r,1)}-1!==n?e.splice(n,0,t):e.push(t)}}(t.children,e,n),e.parent=t},y.prototype._addElement=function(e,t,n,r){n=n||this.getRootElement();var i=this._eventBus,o=this._graphicsFactory;this._ensureValid(e,t),i.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,r);var a=o.create(e,t,r);return this._elementRegistry.add(t,a),o.update(e,t,a),i.fire(e+".added",{element:t,gfx:a}),t},y.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)},y.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)},y.prototype._removeElement=function(e,t){var n=this._elementRegistry,r=this._graphicsFactory,i=this._eventBus;if(e=n.get(e.id||e))return i.fire(t+".remove",{element:e}),r.remove(e),function(e,t){if(!e||!t)return-1;var n=e.indexOf(t);-1!==n&&e.splice(n,1)}(e.parent&&e.parent.children,e),e.parent=null,i.fire(t+".removed",{element:e}),n.remove(e),e},y.prototype.removeShape=function(e){return this._removeElement(e,"shape")},y.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},y.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},y.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},y.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},y.prototype.viewbox=function(e){if(void 0===e&&this._cachedViewbox)return this._cachedViewbox;var t,n,r,i,o,s,c=this._viewport,u=this.getSize();return e?(this._changeViewbox(function(){i=Math.min(u.width/e.width,u.height/e.height);var t=this._svg.createSVGMatrix().scale(i).translate(-e.x,-e.y);Object(a.k)(c,t)}),e):(t=this.getDefaultLayer().getBBox(),n=(r=Object(a.k)(c))?r.matrix:Object(a.g)(),i=h(n.a,1e3),o=h(-n.e||0,1e3),s=h(-n.f||0,1e3),e=this._cachedViewbox={x:o?o/i:0,y:s?s/i:0,width:u.width/i,height:u.height/i,scale:i,inner:{width:t.width,height:t.height,x:t.x,y:t.y},outer:u})},y.prototype.scroll=function(e){var t=this._viewport,n=t.getCTM();return e&&this._changeViewbox(function(){e=Object(u.a)({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),v(t,n)}),{x:n.e,y:n.f}},y.prototype.zoom=function(e,t){return e?"fit-viewport"===e?this._fitViewport(t):(this._changeViewbox(function(){"object"!=typeof t&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),r=this._setZoom(e,t)}),h(r.a,1e3)):this.viewbox(e).scale;var n,r},y.prototype._fitViewport=function(e){var t,n,r=this.viewbox(),i=r.outer,o=r.inner;return o.x>=0&&o.y>=0&&o.x+o.width<=i.width&&o.y+o.height<=i.height&&!e?n={x:0,y:0,width:Math.max(o.width+o.x,i.width),height:Math.max(o.height+o.y,i.height)}:(t=Math.min(1,i.width/o.width,i.height/o.height),n={x:o.x+(e?o.width/2-i.width/t/2:0),y:o.y+(e?o.height/2-i.height/t/2:0),width:i.width/t,height:i.height/t}),this.viewbox(n),this.viewbox(!1).scale},y.prototype._setZoom=function(e,t){var n,r,i,o,a=this._svg,s=this._viewport,c=a.createSVGMatrix(),l=a.createSVGPoint(),p=(r=s.getCTM()).a;return t?(n=Object(u.a)(l,t).matrixTransform(r.inverse()),i=c.translate(n.x,n.y).scale(1/p*e).translate(-n.x,-n.y),o=r.multiply(i)):o=c.scale(e),v(this._viewport,o),o},y.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},y.prototype.getAbsoluteBBox=function(e){var t,n=this.viewbox();return{x:(t=e.waypoints?this.getGraphics(e).getBBox():e).x*n.scale-n.x*n.scale,y:t.y*n.scale-n.y*n.scale,width:t.width*n.scale,height:t.height*n.scale}},y.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var g="data-element-id";function b(e){this._elements={},this._eventBus=e}b.$inject=["eventBus"],b.prototype.add=function(e,t,n){var r=e.id;this._validateId(r),Object(a.b)(t,g,r),n&&Object(a.b)(n,g,r),this._elements[r]={element:e,gfx:t,secondaryGfx:n}},b.prototype.remove=function(e){var t=this._elements,n=e.id||e,r=n&&t[n];r&&(Object(a.b)(r.gfx,g,""),r.secondaryGfx&&Object(a.b)(r.secondaryGfx,g,""),delete t[n])},b.prototype.updateId=function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),r=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,r)},b.prototype.get=function(e){var t;t="string"==typeof e?e:e&&Object(a.b)(e,g);var n=this._elements[t];return n&&n.element},b.prototype.filter=function(e){var t=[];return this.forEach(function(n,r){e(n,r)&&t.push(n)}),t},b.prototype.getAll=function(){return this.filter(function(e){return e})},b.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach(function(n){var r=t[n];return e(r.element,r.gfx)})},b.prototype.getGraphics=function(e,t){var n=this._elements[e.id||e];return n&&(t?n.secondaryGfx:n.gfx)},b.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};var w=n("j8+i"),_=n.n(w),x=new _.a({name:"children",enumerable:!0,collection:!0},{name:"parent"}),E=new _.a({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),O=new _.a({name:"attachers",collection:!0},{name:"host"}),j=new _.a({name:"outgoing",collection:!0},{name:"source"}),S=new _.a({name:"incoming",collection:!0},{name:"target"});function C(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),x.bind(this,"parent"),E.bind(this,"labels"),j.bind(this,"outgoing"),S.bind(this,"incoming")}function k(){C.call(this),x.bind(this,"children"),O.bind(this,"host"),O.bind(this,"attachers")}var T={connection:function(){C.call(this),j.bind(this,"source"),S.bind(this,"target")},shape:k,label:function(){k.call(this),E.bind(this,"labelTarget")},root:function(){k.call(this)}};function A(){this._uid=12}A.prototype.createRoot=function(e){return this.create("root",e)},A.prototype.createLabel=function(e){return this.create("label",e)},A.prototype.createShape=function(e){return this.create("shape",e)},A.prototype.createConnection=function(e){return this.create("connection",e)},A.prototype.create=function(e,t){return(t=Object(u.a)({},t||{})).id||(t.id=e+"_"+this._uid++),function(e,t){var n=T[e];if(!n)throw new Error("unknown type: <"+e+">");return Object(u.a)(new n,t)}(e,t)};var R=Array.prototype.slice;function P(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function M(){}P.prototype.on=function(e,t,n,r){if(e=Object(u.l)(e)?e:[e],Object(u.n)(t)&&(r=n,n=t,t=1e3),!Object(u.o)(t))throw new Error("priority must be a number");var i=n;r&&((i=Object(u.b)(n,r)).__fn=n.__fn||n);var o=this,a={priority:t,callback:i};e.forEach(function(e){o._addListener(e,a)})},P.prototype.once=function(e,t,n,r){var i=this;if(Object(u.n)(t)&&(r=n,n=t,t=1e3),!Object(u.o)(t))throw new Error("priority must be a number");function o(){return i.off(e,o),n.apply(r,arguments)}o.__fn=n,this.on(e,t,o)},P.prototype.off=function(e,t){e=Object(u.l)(e)?e:[e];var n=this;e.forEach(function(e){n._removeListener(e,t)})},P.prototype.createEvent=function(e){var t=new M;return t.init(e),t},P.prototype.fire=function(e,t){var n,r,i,o;if(o=R.call(arguments),"object"==typeof e&&(e=(n=e).type),!e)throw new Error("no event type specified");if(r=this._listeners[e]){n=t instanceof M?t:this.createEvent(t),o[0]=n;var a=n.type;e!==a&&(n.type=e);try{i=this._invokeListeners(n,o,r)}finally{e!==a&&(n.type=a)}return void 0===i&&n.defaultPrevented&&(i=!1),i}},P.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},P.prototype._destroy=function(){this._listeners={}},P.prototype._invokeListeners=function(e,t,n){var r,i,o;for(r=0;(i=n[r])&&!e.cancelBubble;r++)o=this._invokeListener(e,t,i);return o},P.prototype._invokeListener=function(e,t,n){var r;try{void 0!==(r=function(e,t){return n.callback.apply(null,t)}(0,t))&&(e.returnValue=r,e.stopPropagation()),!1===r&&e.preventDefault()}catch(i){if(!this.handleError(i))throw console.error("unhandled error in event listener"),console.error(i.stack),i}return r},P.prototype._addListener=function(e,t){var n,r,i=this._getListeners(e);for(r=0;n=i[r];r++)if(n.priority<t.priority)return void i.splice(r,0,t);i.push(t)},P.prototype._getListeners=function(e){var t=this._listeners[e];return t||(this._listeners[e]=t=[]),t},P.prototype._removeListener=function(e,t){var n,r,i,o=this._getListeners(e);if(t)for(i=o.length-1;n=o[i];i--)(r=n.callback)!==t&&r.__fn!==t||o.splice(i,1);else o.length=0},M.prototype.stopPropagation=function(){this.cancelBubble=!0},M.prototype.preventDefault=function(){this.defaultPrevented=!0},M.prototype.init=function(e){Object(u.a)(this,e||{})};var D=n("5QZp");function N(e,t){this._eventBus=e,this._elementRegistry=t}function I(e,t,n){t.insertBefore(e,n||t.firstChild)}N.$inject=["eventBus","elementRegistry"],N.prototype._getChildren=function(e){var t,n=this._elementRegistry.getGraphics(e);return e.parent?(t=function(e){return e.parentNode.childNodes[1]}(n))||(t=Object(a.f)("g"),Object(a.c)(t).add("djs-children"),Object(a.a)(n.parentNode,t)):t=n,t},N.prototype._clear=function(e){var t=function(e){return Object(D.i)(".djs-visual",e)}(e);return Object(D.c)(t),t},N.prototype._createContainer=function(e,t,n){var r=Object(a.f)("g");Object(a.c)(r).add("djs-group"),void 0!==n?I(r,t,t.childNodes[n]):Object(a.a)(t,r);var i=Object(a.f)("g");Object(a.c)(i).add("djs-element"),Object(a.c)(i).add("djs-"+e),Object(a.a)(r,i);var o=Object(a.f)("g");return Object(a.c)(o).add("djs-visual"),Object(a.a)(i,o),i},N.prototype.create=function(e,t,n){var r=this._getChildren(t.parent);return this._createContainer(e,r,n)},N.prototype.updateContainments=function(e){var t,n=this,r=this._elementRegistry;t=Object(u.x)(e,function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e},{}),Object(u.i)(t,function(e){var t=e.children;if(t){var i=n._getChildren(e);Object(u.i)(t.slice().reverse(),function(e){I(r.getGraphics(e).parentNode,i)})}})},N.prototype.drawShape=function(e,t){return this._eventBus.fire("render.shape",{gfx:e,element:t})},N.prototype.getShapePath=function(e){return this._eventBus.fire("render.getShapePath",e)},N.prototype.drawConnection=function(e,t){return this._eventBus.fire("render.connection",{gfx:e,element:t})},N.prototype.getConnectionPath=function(e){return this._eventBus.fire("render.getConnectionPath",e)},N.prototype.update=function(e,t,n){if(t.parent){var r=this._clear(n);if("shape"===e)this.drawShape(r,t),function(e,t,n){var r=Object(a.h)();r.setTranslate(t,n),Object(a.k)(e,r)}(n,t.x,t.y);else{if("connection"!==e)throw new Error("unknown type: "+e);this.drawConnection(r,t)}t.hidden?Object(a.b)(n,"display","none"):Object(a.b)(n,"display","block")}},N.prototype.remove=function(e){var t=this._elementRegistry.getGraphics(e);Object(a.j)(t.parentNode)};var B={__depends__:[l],__init__:["canvas"],canvas:["type",y],elementRegistry:["type",b],elementFactory:["type",A],eventBus:["type",P],graphicsFactory:["type",N]};function L(e,t){this.injector=t=t||function(e){return function(e){var t=[],n=[];function i(e){return t.indexOf(e)>=0}e.forEach(function e(r){i(r)||((r.__depends__||[]).forEach(e),i(r)||(function(e){t.push(e)}(r),(r.__init__||[]).forEach(function(e){n.push(e)})))});var o=new r.a(t);return n.forEach(function(e){try{o["string"==typeof e?"get":"invoke"](e)}catch(t){throw console.error("Failed to instantiate component"),console.error(t.stack),t}}),o}([{config:["value",e=e||{}]},B].concat(e.modules||[]))}(e),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("diagram.init")}n.d(t,"default",function(){return L}),L.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},L.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},"6m0L":function(e,t,n){"use strict";function r(e,t){if(!e||!t)return-1;var n=e.indexOf(t);return-1!==n&&e.splice(n,1),n}function i(e,t,n){if(e&&t){"number"!=typeof n&&(n=-1);var r=e.indexOf(t);if(-1!==r){if(r===n)return;if(-1===n)return;e.splice(r,1)}-1!==n?e.splice(n,0,t):e.push(t)}}function o(e,t){return e&&t?e.indexOf(t):-1}n.d(t,"c",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})},"7NMx":function(e){e.exports={name:"DMN",uri:"http://www.omg.org/spec/DMN/20151101/dmn.xsd",xml:{tagAlias:"lowerCase"},prefix:"dmn",types:[{name:"DMNElement",isAbstract:!0,properties:[{name:"description",type:"String"},{name:"id",type:"String",isAttr:!0,isId:!0},{name:"label",type:"String",isAttr:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"NamedElement",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"name",type:"String",isAttr:!0}]},{name:"DMNElementReference",properties:[{name:"href",type:"String",isAttr:!0}]},{name:"ExtensionElements",properties:[{name:"values",type:"Element",isMany:!0}]},{name:"Definitions",superClass:["NamedElement"],properties:[{name:"namespace",type:"String",isAttr:!0},{name:"typeLanguage",type:"String",isAttr:!0,default:"http://www.omg.org/spec/FEEL/20140401"},{name:"expressionLanguage",type:"String",isAttr:!0,default:"http://www.omg.org/spec/FEEL/20140401"},{name:"exporter",type:"String",isAttr:!0},{name:"exporterVersion",type:"String",isAttr:!0},{name:"itemDefinition",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"drgElements",type:"DRGElement",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"Import",properties:[{name:"namespace",type:"String",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0},{name:"importType",type:"String",isAttr:!0}]},{name:"DRGElement",isAbstract:!0,superClass:["NamedElement"]},{name:"Decision",superClass:["DRGElement"],properties:[{name:"question",type:"String"},{name:"allowedAnswers",type:"String"},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"informationRequirement",type:"InformationRequirement",isMany:!0,xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0,xml:{serialize:"property"}},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}},{name:"decisionTable",type:"DecisionTable",xml:{serialize:"property"}},{name:"literalExpression",type:"LiteralExpression",xml:{serialize:"property"}}]},{name:"BusinessKnowledgeModel",superClass:["DRGElement"],properties:[{name:"encapsulatedLogic",type:"FunctionDefinition"},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0,xml:{serialize:"property"}},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}}]},{name:"InputData",superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"KnowledgeSource",superClass:["DRGElement"],properties:[{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}},{name:"type",type:"String",isAttr:!0},{name:"owner",type:"DMNElementReference",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0}]},{name:"InformationRequirement",properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"KnowledgeRequirement",properties:[{name:"requiredKnowledge",type:"DMNElementReference",isUnique:!0,xml:{serialize:"property"}}]},{name:"AuthorityRequirement",properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredAuthority",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"Expression",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"typeRef",type:"String",isAttr:!0}]},{name:"ItemDefinition",superClass:["NamedElement"],properties:[{name:"typeLanguage",type:"String",isAttr:!0},{name:"isCollection",type:"Boolean",isAttr:!0,default:!1},{name:"typeRef",type:"String"},{name:"allowedValues",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}}]},{name:"LiteralExpression",superClass:["Expression"],properties:[{name:"expressionLanguage",type:"String",isAttr:!0},{name:"importedValues",type:"ImportedValues"},{name:"text",type:"String"}]},{name:"InformationItem",superClass:["NamedElement"],properties:[{name:"typeRef",type:"String",isAttr:!0}]},{name:"DecisionTable",superClass:["Expression"],properties:[{name:"input",type:"InputClause",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"OutputClause",isMany:!0,xml:{serialize:"property"}},{name:"rule",type:"DecisionRule",isMany:!0,xml:{serialize:"property"}},{name:"hitPolicy",type:"HitPolicy",isAttr:!0,default:"UNIQUE"},{name:"aggregation",type:"BuiltinAggregator",isAttr:!0},{name:"preferredOrientation",type:"DecisionTableOrientation",isAttr:!0,default:"Rule-as-Row"},{name:"outputLabel",type:"String",isAttr:!0}]},{name:"DecisionRule",superClass:["DMNElement"],properties:[{name:"inputEntry",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}},{name:"outputEntry",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}}]},{name:"ImportedValues",superClass:["Import"],properties:[{name:"importedElement",type:"String",isMany:!0,xml:{serialize:"property"}},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"Artifact",isAbstract:!0,superClass:["DMNElement"]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String",xml:{serialize:"property"}},{name:"textFormat",type:"String",isAttr:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"sourceRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"targetRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"associationDirection",type:"AssociationDirection",isAttr:!0,default:"None"}]},{name:"InputClause",superClass:["DMNElement"],properties:[{name:"inputExpression",type:"LiteralExpression",xml:{serialize:"property"}},{name:"inputValues",type:"UnaryTests",xml:{serialize:"property"}}]},{name:"OutputClause",superClass:["DMNElement"],properties:[{name:"outputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"defaultOutputEntry",type:"LiteralExpression",xml:{serialize:"property"}},{name:"name",type:"String",isAttr:!0},{name:"typeRef",type:"String",isAttr:!0}]},{name:"UnaryTests",superClass:["DMNElement"],properties:[{name:"text",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"FunctionDefinition",superClass:["Expression"],properties:[{name:"formalParameter",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"expression",type:"String",isReference:!0,xml:{serialize:"property"}}]}],emumerations:[{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"HitPolicy",literalValues:[{name:"UNIQUE"},{name:"FIRST"},{name:"PRIORITY"},{name:"ANY"},{name:"COLLECT"},{name:"RULE ORDER"},{name:"OUTPUT ORDER"}]},{name:"BuiltinAggregator",literalValues:[{name:"SUM"},{name:"COUNT"},{name:"MIN"},{name:"MAX"}]},{name:"DecisionTableOrientation",literalValues:[{name:"Rule-as-Row"},{name:"Rule-as-Column"},{name:"CrossTable"}]}]}},"84TO":function(e,t,n){"use strict";n.r(t);var r=n("tqCT"),i=(n("P7XM"),n("kDbY")),o=n("vC9s"),a=n("a4vW"),s=1;function c(e,t){i.a.call(this,e,s),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2})}c.prototype.canRender=function(){return!0},c.prototype.drawShape=function(e,t){var n=Object(a.f)("rect");return Object(a.b)(n,{x:0,y:0,width:t.width||0,height:t.height||0}),Object(a.b)(n,this.SHAPE_STYLE),Object(a.a)(e,n),n},c.prototype.drawConnection=function(e,t){var n=Object(o.b)(t.waypoints,this.CONNECTION_STYLE);return Object(a.a)(e,n),n},c.prototype.getShapePath=function(e){var t=e.width,n=[["M",e.x,e.y],["l",t,0],["l",0,e.height],["l",-t,0],["z"]];return Object(o.a)(n)},c.prototype.getConnectionPath=function(e){var t,n,r=e.waypoints,i=[];for(t=0;n=r[t];t++)i.push([0===t?"M":"L",(n=n.original||n).x,n.y]);return Object(o.a)(i)},c.$inject=["eventBus","styles"];var u=n("h/KA"),l={__init__:["defaultRenderer"],defaultRenderer:["type",c],styles:["type",function(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(e,t,n){var r=this.style(t,n);return Object(u.a)(r,{class:e})},this.style=function(t,n){Object(u.l)(t)||n||(n=t,t=[]);var r=Object(u.x)(t,function(t,n){return Object(u.a)(t,e[n]||{})},{});return n?Object(u.a)(r,n):r},this.computeStyle=function(e,n,r){return Object(u.l)(n)||(r=n,n=[]),t.style(n||[],Object(u.a)({},r,e||{}))}}]},p=n("6m0L"),h=n("Q8bq");function f(e,t){return Math.round(e*t)/t}function d(e){return Object(u.o)(e)?e+"px":e}function m(e,t,n){var r=Object(a.f)("g");return Object(a.c)(r).add(t),e.insertBefore(r,e.childNodes[void 0!==n?n:e.childNodes.length-1]||null),r}var y={shape:["x","y","width","height"],connection:["waypoints"]};function v(e,t,n,r){this._eventBus=t,this._elementRegistry=r,this._graphicsFactory=n,this._init(e||{})}function g(e,t){e.setAttribute("transform","matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")")}v.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],v.prototype._init=function(e){var t=this._eventBus,n=this._container=function(e){var t=(e=Object(u.a)({},{width:"100%",height:"100%"},e)).container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container"),Object(u.a)(n.style,{position:"relative",overflow:"hidden",width:d(e.width),height:d(e.height)}),t.appendChild(n),n}(e),r=this._svg=Object(a.f)("svg");Object(a.b)(r,{width:"100%",height:"100%"}),Object(a.a)(n,r);var i=this._viewport=m(r,"viewport");this._layers={},!1!==e.deferUpdate&&(this._viewboxChanged=Object(u.c)(Object(u.b)(this._viewboxChanged,this),300)),t.on("diagram.init",function(){t.fire("canvas.init",{svg:r,viewport:i})},this),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)},v.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},v.prototype._clear=function(){var e=this;this._elementRegistry.getAll().forEach(function(t){var n=Object(h.e)(t);"root"===n?e.setRootElement(null,!0):e._removeElement(t,n)}),delete this._cachedViewbox},v.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},v.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");var n=this._layers[e];if(n||(n=this._layers[e]=this._createLayer(e,t)),void 0!==t&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group},v.prototype._createLayer=function(e,t){t||(t=0);var n=Object(u.x)(this._layers,function(e,n){return t>=n.index&&e++,e},0);return{group:m(this._viewport,"layer-"+e,n),index:t}},v.prototype.getContainer=function(){return this._container},v.prototype._updateMarker=function(e,t,n){var r;e.id||(e=this._elementRegistry.get(e)),(r=this._elementRegistry._elements[e.id])&&(Object(u.i)([r.gfx,r.secondaryGfx],function(e){e&&(n?Object(a.c)(e).add(t):Object(a.c)(e).remove(t))}),this._eventBus.fire("element.marker.update",{element:e,gfx:r.gfx,marker:t,add:!!n}))},v.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},v.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},v.prototype.hasMarker=function(e,t){e.id||(e=this._elementRegistry.get(e));var n=this.getGraphics(e);return Object(a.c)(n).has(t)},v.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},v.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},v.prototype.setRootElement=function(e,t){e&&this._ensureValid("root",e);var n=this._rootElement,r=this._elementRegistry,i=this._eventBus;if(n){if(!t)throw new Error("rootElement already set, need to specify override");i.fire("root.remove",{element:n}),i.fire("root.removed",{element:n}),r.remove(n)}if(e){var o=this.getDefaultLayer();i.fire("root.add",{element:e}),r.add(e,o,this._svg),i.fire("root.added",{element:e,gfx:o})}return this._rootElement=e,e},v.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element with id "+t.id+" already exists");var n=y[e];if(!Object(u.d)(n,function(e){return void 0!==t[e]}))throw new Error("must supply { "+n.join(", ")+" } with "+e)},v.prototype._setParent=function(e,t,n){Object(p.a)(t.children,e,n),e.parent=t},v.prototype._addElement=function(e,t,n,r){n=n||this.getRootElement();var i=this._eventBus,o=this._graphicsFactory;this._ensureValid(e,t),i.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,r);var a=o.create(e,t,r);return this._elementRegistry.add(t,a),o.update(e,t,a),i.fire(e+".added",{element:t,gfx:a}),t},v.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)},v.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)},v.prototype._removeElement=function(e,t){var n=this._elementRegistry,r=this._graphicsFactory,i=this._eventBus;if(e=n.get(e.id||e))return i.fire(t+".remove",{element:e}),r.remove(e),Object(p.c)(e.parent&&e.parent.children,e),e.parent=null,i.fire(t+".removed",{element:e}),n.remove(e),e},v.prototype.removeShape=function(e){return this._removeElement(e,"shape")},v.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},v.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},v.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},v.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},v.prototype.viewbox=function(e){if(void 0===e&&this._cachedViewbox)return this._cachedViewbox;var t,n,r,i,o,s,c=this._viewport,u=this.getSize();return e?(this._changeViewbox(function(){i=Math.min(u.width/e.width,u.height/e.height);var t=this._svg.createSVGMatrix().scale(i).translate(-e.x,-e.y);Object(a.k)(c,t)}),e):(t=this.getDefaultLayer().getBBox(),n=(r=Object(a.k)(c))?r.matrix:Object(a.g)(),i=f(n.a,1e3),o=f(-n.e||0,1e3),s=f(-n.f||0,1e3),e=this._cachedViewbox={x:o?o/i:0,y:s?s/i:0,width:u.width/i,height:u.height/i,scale:i,inner:{width:t.width,height:t.height,x:t.x,y:t.y},outer:u})},v.prototype.scroll=function(e){var t=this._viewport,n=t.getCTM();return e&&this._changeViewbox(function(){e=Object(u.a)({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),g(t,n)}),{x:n.e,y:n.f}},v.prototype.zoom=function(e,t){return e?"fit-viewport"===e?this._fitViewport(t):(this._changeViewbox(function(){"object"!=typeof t&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),r=this._setZoom(e,t)}),f(r.a,1e3)):this.viewbox(e).scale;var n,r},v.prototype._fitViewport=function(e){var t,n,r=this.viewbox(),i=r.outer,o=r.inner;return o.x>=0&&o.y>=0&&o.x+o.width<=i.width&&o.y+o.height<=i.height&&!e?n={x:0,y:0,width:Math.max(o.width+o.x,i.width),height:Math.max(o.height+o.y,i.height)}:(t=Math.min(1,i.width/o.width,i.height/o.height),n={x:o.x+(e?o.width/2-i.width/t/2:0),y:o.y+(e?o.height/2-i.height/t/2:0),width:i.width/t,height:i.height/t}),this.viewbox(n),this.viewbox(!1).scale},v.prototype._setZoom=function(e,t){var n,r,i,o,a=this._svg,s=this._viewport,c=a.createSVGMatrix(),l=a.createSVGPoint(),p=(r=s.getCTM()).a;return t?(n=Object(u.a)(l,t).matrixTransform(r.inverse()),i=c.translate(n.x,n.y).scale(1/p*e).translate(-n.x,-n.y),o=r.multiply(i)):o=c.scale(e),g(this._viewport,o),o},v.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},v.prototype.getAbsoluteBBox=function(e){var t,n=this.viewbox();return{x:(t=e.waypoints?this.getGraphics(e).getBBox():e).x*n.scale-n.x*n.scale,y:t.y*n.scale-n.y*n.scale,width:t.width*n.scale,height:t.height*n.scale}},v.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var b="data-element-id";function w(e){this._elements={},this._eventBus=e}w.$inject=["eventBus"],w.prototype.add=function(e,t,n){var r=e.id;this._validateId(r),Object(a.b)(t,b,r),n&&Object(a.b)(n,b,r),this._elements[r]={element:e,gfx:t,secondaryGfx:n}},w.prototype.remove=function(e){var t=this._elements,n=e.id||e,r=n&&t[n];r&&(Object(a.b)(r.gfx,b,""),r.secondaryGfx&&Object(a.b)(r.secondaryGfx,b,""),delete t[n])},w.prototype.updateId=function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),r=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,r)},w.prototype.get=function(e){var t;t="string"==typeof e?e:e&&Object(a.b)(e,b);var n=this._elements[t];return n&&n.element},w.prototype.filter=function(e){var t=[];return this.forEach(function(n,r){e(n,r)&&t.push(n)}),t},w.prototype.getAll=function(){return this.filter(function(e){return e})},w.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach(function(n){var r=t[n];return e(r.element,r.gfx)})},w.prototype.getGraphics=function(e,t){var n=this._elements[e.id||e];return n&&(t?n.secondaryGfx:n.gfx)},w.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};var _=n("SIjO"),x=Array.prototype.slice;function E(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function O(){}E.prototype.on=function(e,t,n,r){if(e=Object(u.l)(e)?e:[e],Object(u.n)(t)&&(r=n,n=t,t=1e3),!Object(u.o)(t))throw new Error("priority must be a number");var i=n;r&&((i=Object(u.b)(n,r)).__fn=n.__fn||n);var o=this,a={priority:t,callback:i};e.forEach(function(e){o._addListener(e,a)})},E.prototype.once=function(e,t,n,r){var i=this;if(Object(u.n)(t)&&(r=n,n=t,t=1e3),!Object(u.o)(t))throw new Error("priority must be a number");function o(){return i.off(e,o),n.apply(r,arguments)}o.__fn=n,this.on(e,t,o)},E.prototype.off=function(e,t){e=Object(u.l)(e)?e:[e];var n=this;e.forEach(function(e){n._removeListener(e,t)})},E.prototype.createEvent=function(e){var t=new O;return t.init(e),t},E.prototype.fire=function(e,t){var n,r,i,o;if(o=x.call(arguments),"object"==typeof e&&(e=(n=e).type),!e)throw new Error("no event type specified");if(r=this._listeners[e]){n=t instanceof O?t:this.createEvent(t),o[0]=n;var a=n.type;e!==a&&(n.type=e);try{i=this._invokeListeners(n,o,r)}finally{e!==a&&(n.type=a)}return void 0===i&&n.defaultPrevented&&(i=!1),i}},E.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},E.prototype._destroy=function(){this._listeners={}},E.prototype._invokeListeners=function(e,t,n){var r,i,o;for(r=0;(i=n[r])&&!e.cancelBubble;r++)o=this._invokeListener(e,t,i);return o},E.prototype._invokeListener=function(e,t,n){var r;try{void 0!==(r=function(e,t){return n.callback.apply(null,t)}(0,t))&&(e.returnValue=r,e.stopPropagation()),!1===r&&e.preventDefault()}catch(i){if(!this.handleError(i))throw console.error("unhandled error in event listener"),console.error(i.stack),i}return r},E.prototype._addListener=function(e,t){var n,r,i=this._getListeners(e);for(r=0;n=i[r];r++)if(n.priority<t.priority)return void i.splice(r,0,t);i.push(t)},E.prototype._getListeners=function(e){var t=this._listeners[e];return t||(this._listeners[e]=t=[]),t},E.prototype._removeListener=function(e,t){var n,r,i,o=this._getListeners(e);if(t)for(i=o.length-1;n=o[i];i--)(r=n.callback)!==t&&r.__fn!==t||o.splice(i,1);else o.length=0},O.prototype.stopPropagation=function(){this.cancelBubble=!0},O.prototype.preventDefault=function(){this.defaultPrevented=!0},O.prototype.init=function(e){Object(u.a)(this,e||{})};var j=n("5QZp"),S=n("4Ra4");function C(e,t){this._eventBus=e,this._elementRegistry=t}function k(e,t,n){t.insertBefore(e,n||t.firstChild)}C.$inject=["eventBus","elementRegistry"],C.prototype._getChildren=function(e){var t,n=this._elementRegistry.getGraphics(e);return e.parent?(t=function(e){return e.parentNode.childNodes[1]}(n))||(t=Object(a.f)("g"),Object(a.c)(t).add("djs-children"),Object(a.a)(n.parentNode,t)):t=n,t},C.prototype._clear=function(e){var t=function(e){return Object(j.i)(".djs-visual",e)}(e);return Object(j.c)(t),t},C.prototype._createContainer=function(e,t,n){var r=Object(a.f)("g");Object(a.c)(r).add("djs-group"),void 0!==n?k(r,t,t.childNodes[n]):Object(a.a)(t,r);var i=Object(a.f)("g");Object(a.c)(i).add("djs-element"),Object(a.c)(i).add("djs-"+e),Object(a.a)(r,i);var o=Object(a.f)("g");return Object(a.c)(o).add("djs-visual"),Object(a.a)(i,o),i},C.prototype.create=function(e,t,n){var r=this._getChildren(t.parent);return this._createContainer(e,r,n)},C.prototype.updateContainments=function(e){var t,n=this,r=this._elementRegistry;t=Object(u.x)(e,function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e},{}),Object(u.i)(t,function(e){var t=e.children;if(t){var i=n._getChildren(e);Object(u.i)(t.slice().reverse(),function(e){k(r.getGraphics(e).parentNode,i)})}})},C.prototype.drawShape=function(e,t){return this._eventBus.fire("render.shape",{gfx:e,element:t})},C.prototype.getShapePath=function(e){return this._eventBus.fire("render.getShapePath",e)},C.prototype.drawConnection=function(e,t){return this._eventBus.fire("render.connection",{gfx:e,element:t})},C.prototype.getConnectionPath=function(e){return this._eventBus.fire("render.getConnectionPath",e)},C.prototype.update=function(e,t,n){if(t.parent){var r=this._clear(n);if("shape"===e)this.drawShape(r,t),Object(S.c)(n,t.x,t.y);else{if("connection"!==e)throw new Error("unknown type: "+e);this.drawConnection(r,t)}t.hidden?Object(a.b)(n,"display","none"):Object(a.b)(n,"display","block")}},C.prototype.remove=function(e){var t=this._elementRegistry.getGraphics(e);Object(a.j)(t.parentNode)};var T={__depends__:[l],__init__:["canvas"],canvas:["type",v],elementRegistry:["type",w],elementFactory:["type",_.a],eventBus:["type",E],graphicsFactory:["type",C]};function A(e,t){this.injector=t=t||function(e){return function(e){var t=[],n=[];function i(e){return t.indexOf(e)>=0}e.forEach(function e(r){i(r)||((r.__depends__||[]).forEach(e),i(r)||(function(e){t.push(e)}(r),(r.__init__||[]).forEach(function(e){n.push(e)})))});var o=new r.a(t);return n.forEach(function(e){try{o["string"==typeof e?"get":"invoke"](e)}catch(t){throw console.error("Failed to instantiate component"),console.error(t.stack),t}}),o}([{config:["value",e=e||{}]},T].concat(e.modules||[]))}(e),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("diagram.init")}n.d(t,"default",function(){return A}),A.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},A.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},"9Irz":function(e,t,n){e.exports=n("5oaf")},"9Ue4":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s});var r=n("a4vW");function i(e){return e.join(",").replace(/,?([A-z]),?/g,"$1")}function o(e){for(var t,n="",r=0;t=e[r];r++)n+=t.x+","+t.y+" ";return n}function a(e,t){var n=Object(r.f)("polyline");return Object(r.b)(n,{points:o(e)}),t&&Object(r.b)(n,t),n}function s(e,t){return Object(r.b)(e,{points:o(t)}),e}},Ff6h:function(e){e.exports={name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}},H0ED:function(e){e.exports={name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",type:"String",isAttr:!0}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",type:"String",isAttr:!0}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",type:"LaneSet",isMany:!0,replaces:"FlowElementsContainer#laneSets"},{name:"flowElements",type:"FlowElement",isMany:!0,replaces:"FlowElementsContainer#flowElements"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isAttr:!0,isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"assignment",type:"Assignment",isMany:!0},{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",type:"String",isBody:!0}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",type:"String",isAttr:!0},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isVirtual:!0,isMany:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isVirtual:!0,isMany:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],prefix:"bpmn",xml:{tagAlias:"lowerCase",typePrefix:"t"}}},LFrU:function(e){e.exports={name:"bpmn.io DI for DMN",uri:"http://bpmn.io/schema/dmn/biodi/1.0",prefix:"biodi",xml:{tagAlias:"lowerCase"},types:[{name:"Edge",superClass:["Element"],properties:[{name:"source",type:"String",isAttr:!0},{name:"waypoints",type:"Waypoint",isMany:!0,xml:{serialize:"property"}}]},{name:"Bounds",superClass:["dc:Bounds","Element"]},{name:"Waypoint",superClass:["dc:Point"]}]}},P7XM:function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},Q8bq:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return l});var r=n("h/KA");function i(e,t,n){var r=!n||-1===e.indexOf(t);return r&&e.push(t),r}function o(e,t,n){n=n||0,Object(r.l)(e)||(e=[e]),Object(r.i)(e,function(e,i){var a=t(e,i,n);Object(r.l)(a)&&a.length&&o(a,t,n+1)})}function a(e,t){return function(e,t,n){var r=[],a=[];return o(e,function(e,n,o){i(r,e,t);var s=e.children;if(s&&i(a,s,t))return s}),r}(e,!t)}function s(e,t,n){Object(r.r)(t)&&(t=!0),Object(r.p)(t)&&(n=t,t=!0);var i=p((n=n||{}).allShapes),a=p(n.allConnections),s=p(n.enclosedElements),c=p(n.enclosedConnections),u=p(n.topLevel,t&&Object(r.j)(e,function(e){return e.id}));function l(e){u[e.source.id]&&u[e.target.id]&&(u[e.id]=[e]),i[e.source.id]&&i[e.target.id]&&(c[e.id]=s[e.id]=e),a[e.id]=e}return o(e,function(e){if(s[e.id]=e,!e.waypoints)return i[e.id]=e,Object(r.i)(e.incoming,l),Object(r.i)(e.outgoing,l),e.children;c[e.id]=a[e.id]=e}),{allShapes:i,allConnections:a,topLevel:u,enclosedConnections:c,enclosedElements:s}}function c(e,t){var n,i,o,a;return t=!!t,Object(r.l)(e)||(e=[e]),Object(r.i)(e,function(e){var r=e;e.waypoints&&!t&&(r=c(e.waypoints,!0));var s=r.x,u=r.y,l=r.height||0,p=r.width||0;(s<n||void 0===n)&&(n=s),(u<i||void 0===i)&&(i=u),(s+p>o||void 0===o)&&(o=s+p),(u+l>a||void 0===a)&&(a=u+l)}),{x:n,y:i,height:a-i,width:o-n}}function u(e,t){var n={};return Object(r.i)(e,function(e){var i=e;i.waypoints&&(i=c(i)),!Object(r.o)(t.y)&&i.x>t.x&&(n[e.id]=e),!Object(r.o)(t.x)&&i.y>t.y&&(n[e.id]=e),i.x>t.x&&i.y>t.y&&(Object(r.o)(t.width)&&Object(r.o)(t.height)&&i.width+i.x<t.width+t.x&&i.height+i.y<t.height+t.y?n[e.id]=e:Object(r.o)(t.width)&&Object(r.o)(t.height)||(n[e.id]=e))}),n}function l(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}function p(e,t){return Object(r.a)({},e||{},t||{})}},S0vh:function(e){e.exports={name:"Camunda",uri:"http://camunda.org/schema/1.0/dmn",prefix:"camunda",xml:{tagAlias:"lowerCase"},types:[{name:"InputVariable",extends:["dmn:InputClause"],properties:[{name:"inputVariable",isAttr:!0,type:"String"}]}]}},SIjO:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("3V+g"),i=n("h/KA");function o(){this._uid=12}o.prototype.createRoot=function(e){return this.create("root",e)},o.prototype.createLabel=function(e){return this.create("label",e)},o.prototype.createShape=function(e){return this.create("shape",e)},o.prototype.createConnection=function(e){return this.create("connection",e)},o.prototype.create=function(e,t){return(t=Object(i.a)({},t||{})).id||(t.id=e+"_"+this._uid++),Object(r.c)(e,t)}},VbFZ:function(e,t){var n=e.exports=function(e,t){if(t||(t=16),void 0===e&&(e=128),e<=0)return"0";for(var r=Math.log(Math.pow(2,e))/Math.log(t),i=2;r===1/0;i*=2)r=Math.log(Math.pow(2,e/i))/Math.log(t)*i;var o=r-Math.floor(r),a="";for(i=0;i<Math.floor(r);i++)a=Math.floor(Math.random()*t).toString(t)+a;if(o){var s=Math.pow(t,o);a=Math.floor(Math.random()*s).toString(t)+a}var c=parseInt(a,t);return c!==1/0&&c>=Math.pow(2,e)?n(e,t):a};n.rack=function(e,t,r){var i=function(i){var a=0;do{if(a++>10){if(!r)throw new Error("too many ID collisions, use more bits");e+=r}var s=n(e,t)}while(Object.hasOwnProperty.call(o,s));return o[s]=i,s},o=i.hats={};return i.get=function(e){return i.hats[e]},i.set=function(e,t){return i.hats[e]=t,i},i.bits=e||128,i.base=t||16,i}},VcIm:function(e,t,n){e.exports=n("84TO")},XMNj:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("h/KA");function i(e,t){var n,o,a,s;return t=!!t,Object(r.l)(e)||(e=[e]),Object(r.i)(e,function(e){var r=e;e.waypoints&&!t&&(r=i(e.waypoints,!0));var c=r.x,u=r.y,l=r.height||0,p=r.width||0;(c<n||void 0===n)&&(n=c),(u<o||void 0===o)&&(o=u),(c+p>a||void 0===a)&&(a=c+p),(u+l>s||void 0===s)&&(s=u+l)}),{x:n,y:o,height:s-o,width:a-n}}function o(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}},Z5v3:function(e,t,n){"use strict";var r=n("VbFZ");function i(e){if(!(this instanceof i))return new i(e);this._seed=(e=e||[128,36,1]).length?r.rack(e[0],e[1],e[2]):e}e.exports=i,i.prototype.next=function(e){return this._seed(e||!0)},i.prototype.nextPrefixed=function(e,t){var n;do{n=e+this.next(!0)}while(this.assigned(n));return this.claim(n,t),n},i.prototype.claim=function(e,t){this._seed.set(e,t||!0)},i.prototype.assigned=function(e){return this._seed.get(e)||!1},i.prototype.unclaim=function(e){delete this._seed.hats[e]},i.prototype.clear=function(){var e,t=this._seed.hats;for(e in t)this.unclaim(e)}},Zo0m:function(e,t,n){"use strict";var r=n("fX2e");function i(e,t,n){var i=r.extend(n[t.name]||[],e,t,n);Object.defineProperty(n,t.name,{enumerable:t.enumerable,value:i}),i.length&&i.forEach(function(r){e.set(r,t.inverse,n)})}function o(e,t){if(!(this instanceof o))return new o(e,t);e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}o.prototype.bind=function(e,t){if("string"==typeof t){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?i(this,t,e):function(e,t,n){var r=t.inverse,i=n[t.name];Object.defineProperty(n,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return i},set:function(t){if(t!==i){var o=i;i=null,o&&e.unset(o,r,n),e.set(i=t,r,n)}}})}(this,t,e)},o.prototype.ensureRefsCollection=function(e,t){var n=e[t.name];return r.isExtended(n)||i(this,t,e),n},o.prototype.ensureBound=function(e,t){(function(t,n){return Object.prototype.hasOwnProperty.call(e,n.name||n)})(0,t)||this.bind(e,t)},o.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)},o.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)},e.exports=o},a4vW:function(e,t,n){"use strict";function r(e,t){return t.appendChild(function(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch(n){}return e}(e,t))}function i(e,t){return r(t,e),e}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return v}),n.d(t,"f",function(){return _}),n.d(t,"i",function(){return A}),n.d(t,"j",function(){return m}),n.d(t,"k",function(){return P}),n.d(t,"g",function(){return E}),n.d(t,"h",function(){return O});var o=2,a={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":o,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":o,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function s(e,t,n){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=a[r];i?(i===o&&"number"==typeof n&&(n=String(n)+"px"),e.style[r]=n):e.setAttributeNS(null,t,n)}function c(e,t,n){if("string"==typeof t){if(void 0===n)return function(e,t){return a[t]?e.style[t]:e.getAttributeNS(null,t)}(e,t);s(e,t,n)}else!function(e,t){var n,r,i=Object.keys(t);for(n=0;r=i[n];n++)s(e,r,t[r])}(e,t);return e}function u(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var l=/\s+/,p=Object.prototype.toString;function h(e){return void 0!==e}function f(e){return new d(e)}function d(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function m(e){var t=e.parentNode;return t&&t.removeChild(e),e}function y(e){for(var t;t=e.firstChild;)m(t);return e}function v(e){return e.cloneNode(!0)}d.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~u(t,e)||t.push(e),h(this.el.className.baseVal)?this.el.className.baseVal=t.join(" "):this.el.className=t.join(" "),this},d.prototype.remove=function(e){if("[object RegExp]"===p.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=u(t,e);return~n&&t.splice(n,1),this.el.className.baseVal=t.join(" "),this},d.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},d.prototype.toggle=function(e,t){return this.list?(h(t)?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(h(t)?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},d.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(l);return""===e[0]&&e.shift(),e},d.prototype.has=d.prototype.contains=function(e){return this.list?this.list.contains(e):!!~u(this.array(),e)};var g={svg:"http://www.w3.org/2000/svg"},b='<svg xmlns="'+g.svg+'"';function w(e){var t=!1;"<svg"===e.substring(0,4)?-1===e.indexOf(g.svg)&&(e=b+e.substring(4)):(e=b+">"+e+"</svg>",t=!0);var n=function(e){var t;return(t=new DOMParser).async=!1,t.parseFromString(e,"text/xml")}(e);if(!t)return n;for(var r=document.createDocumentFragment(),i=n.firstChild;i.firstChild;)r.appendChild(i.firstChild);return r}function _(e,t){var n;return"<"===e.charAt(0)?(n=w(e).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(g.svg,e),t&&c(n,t),n}var x=_("svg");function E(e,t,n,r,i,o){var a=x.createSVGMatrix();switch(arguments.length){case 0:return a;case 6:e={a:e,b:t,c:n,d:r,e:i,f:o}}return function(e,t){var n,r,i=Object.keys(t);for(n=0;r=i[n];n++)e[r]=t[r];return e}(a,e)}function O(e){return e?x.createSVGTransformFromMatrix(e):x.createSVGTransform()}var j=/([&<>]{1})/g,S=/([\n\r"]{1})/g,C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function k(e,t){return e.replace(t,function(e,t){return C[t]||t})}function T(e,t){var n,r,i,o,a;switch(e.nodeType){case 3:t.push(k(e.textContent,j));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(n=0,r=(i=e.attributes).length;n<r;++n)o=i.item(n),t.push(" ",o.name,'="',k(o.value,S),'"');if(e.hasChildNodes()){for(t.push(">"),n=0,r=(a=e.childNodes).length;n<r;++n)T(a.item(n),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("\x3c!--",k(e.nodeValue,j),"--\x3e");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function A(e,t){if(void 0!==t){try{!function(e,t){var n=w(t);if(y(e),t){"#document-fragment"!==n.nodeName&&(n=n.documentElement);for(var i=Array.prototype.slice.call(n.childNodes),o=0;o<i.length;o++)r(i[o],e)}}(e,t)}catch(n){throw new Error("error parsing SVG: "+n.message)}return e}return function(e){for(var t=e.firstChild,n=[];t;)T(t,n),t=t.nextSibling;return n.join("")}(e)}function R(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}function P(e,t){var n=e.transform.baseVal;if(1===arguments.length)return n.consolidate();t.length?function(e,t){var n,r;for(e.clear(),n=0;r=t[n];n++)e.appendItem(R(e,r));e.consolidate()}(n,t):n.initialize(R(n,t))}},cgRi:function(e){e.exports={name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],prefix:"dc",associations:[]}},crnd:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},fX2e:function(e,t,n){"use strict";e.exports.extend=function(e,t,n,r){var i=n.inverse;return Object.defineProperty(e,"remove",{value:function(e){var n=this.indexOf(e);return-1!==n&&(this.splice(n,1),t.unset(e,i,r)),e}}),Object.defineProperty(e,"contains",{value:function(e){return-1!==this.indexOf(e)}}),Object.defineProperty(e,"add",{value:function(e,n){var o=this.indexOf(e);if(void 0===n){if(-1!==o)return;n=this.length}-1!==o&&this.splice(o,1),this.splice(n,0,e),-1===o&&t.set(e,i,r)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e},e.exports.isExtended=function(e){return!0===e.__refs_collection}},"h/KA":function(e,t,n){"use strict";function r(e){return Array.prototype.concat.apply([],e)}n.d(t,"h",function(){return r}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return m}),n.d(t,"e",function(){return y}),n.d(t,"i",function(){return v}),n.d(t,"E",function(){return g}),n.d(t,"x",function(){return b}),n.d(t,"d",function(){return w}),n.d(t,"z",function(){return _}),n.d(t,"t",function(){return x}),n.d(t,"s",function(){return E}),n.d(t,"y",function(){return O}),n.d(t,"D",function(){return j}),n.d(t,"j",function(){return S}),n.d(t,"C",function(){return C}),n.d(t,"B",function(){return k}),n.d(t,"A",function(){return T}),n.d(t,"u",function(){return A}),n.d(t,"c",function(){return I}),n.d(t,"b",function(){return B}),n.d(t,"r",function(){return a}),n.d(t,"m",function(){return s}),n.d(t,"l",function(){return c}),n.d(t,"p",function(){return u}),n.d(t,"o",function(){return l}),n.d(t,"n",function(){return p}),n.d(t,"q",function(){return h}),n.d(t,"k",function(){return f}),n.d(t,"a",function(){return F}),n.d(t,"w",function(){return z}),n.d(t,"v",function(){return V});var i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;function a(e){return void 0===e}function s(e){return void 0!==e}function c(e){return"[object Array]"===i.call(e)}function u(e){return"[object Object]"===i.call(e)}function l(e){return"[object Number]"===i.call(e)}function p(e){return"[object Function]"===i.call(e)}function h(e){return"[object String]"===i.call(e)}function f(e,t){return o.call(e,t)}function d(e,t){var n;return t=P(t),v(e,function(e,r){if(t(e,r))return n=e,!1}),n}function m(e,t){t=P(t);var n=c(e)?-1:void 0;return v(e,function(e,r){if(t(e,r))return n=r,!1}),n}function y(e,t){var n=[];return v(e,function(e,r){t(e,r)&&n.push(e)}),n}function v(e,t){if(!a(e)){var n=c(e)?D:M;for(var r in e)if(f(e,r)&&!1===t(e[r],n(r)))return}}function g(e,t){return a(e)?[]:(function(t){if(!c(e))throw new Error("must supply array")}(),t=P(t),e.filter(function(e,n){return!t(e,n)}))}function b(e,t,n){return v(e,function(e,r){n=t(n,e,r)}),n}function w(e,t){return b(e,function(e,n,r){return e&&t(n,r)},!0)}function _(e,t){return!!d(e,t)}function x(e,t){var n=[];return v(e,function(e,r){n.push(t(e,r))}),n}function E(e){return e&&Object.keys(e)||[]}function O(e){return E(e).length}function j(e){return x(e,function(e){return e})}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=R(t),v(e,function(e){var r=t(e)||"_",i=n[r];i||(i=n[r]=[]),i.push(e)}),n}function C(e){e=R(e);for(var t={},n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return v(r,function(n){return S(n,e,t)}),x(t,function(e,t){return e[0]})}var k=C;function T(e,t){t=R(t);var n=[];return v(e,function(e,r){for(var i=t(e,r),o={d:i,v:e},a=0;a<n.length;a++)if(i<n[a].d)return void n.splice(a,0,o);n.push(o)}),x(n,function(e){return e.v})}function A(e){return function(t){return w(e,function(e,n){return t[n]===e})}}function R(e){return p(e)?e:function(t){return t[e]}}function P(e){return p(e)?e:function(t){return t===e}}function M(e){return e}function D(e){return Number(e)}var N=Array.prototype.slice;function I(e,t){var n;return function(){var r=N.call(arguments);n&&clearTimeout(n),n=setTimeout(function(){e.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r))},t)}}function B(e,t){return e.bind(t)}var L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function F(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return L.apply(void 0,[e].concat(n))}function z(e,t){var n={},r=Object(e);return v(t,function(t){t in r&&(n[t]=e[t])}),n}function V(e,t){var n={};return v(Object(e),function(e,r){-1===t.indexOf(r)&&(n[r]=e)}),n}},"j8+i":function(e,t,n){e.exports=n("Zo0m"),e.exports.Collection=n("fX2e")},kDbY:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=1e3;function i(e,t){var n=this;e.on(["render.shape","render.connection"],t=t||r,function(e,t){var r=e.type,i=t.element,o=t.gfx;if(n.canRender(i))return"render.shape"===r?n.drawShape(o,i):n.drawConnection(o,i)}),e.on(["render.getShapePath","render.getConnectionPath"],t,function(e,t){if(n.canRender(t))return"render.getShapePath"===e.type?n.getShapePath(t):n.getConnectionPath(t)})}i.prototype.canRender=function(){},i.prototype.drawShape=function(){},i.prototype.drawConnection=function(){},i.prototype.getShapePath=function(){},i.prototype.getConnectionPath=function(){}},"m4+6":function(e){e.exports={name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],prefix:"dc",associations:[]}},rOWP:function(e){e.exports={name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",type:"String",isAttr:!0,isId:!0},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isMany:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",type:"String",isAttr:!0,isId:!0},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isVirtual:!0,isMany:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isVirtual:!0,isMany:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isVirtual:!0,isMany:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",type:"String",isAttr:!0,isId:!0}]},{name:"Extension",properties:[{name:"values",type:"Element",isMany:!0}]}],associations:[],prefix:"di",xml:{tagAlias:"lowerCase"}}},tqCT:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=/^class /;function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(){var e=Array.prototype.slice.call(arguments);1===e.length&&i(e[0])&&(e=e[0]);var t=e.pop();return t.$inject=e,t}var a=/constructor\s*[^(]*\(\s*([^)]*)\)/m,s=/^function\s*[^(]*\(\s*([^)]*)\)/m,c=/\/\*([^*]*)\*\//m;function u(e){if("function"!=typeof e)throw new Error('Cannot annotate "'+e+'". Expected a function!');var t=e.toString().match(function(e){return r.test(e.toString())}(e)?a:s);return t&&t[1]&&t[1].split(",").map(function(e){return(t=e.match(c))?t[1].trim():e.trim()})||[]}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function h(e,t){t=t||{get:function(e,t){if(n.push(e),!1===t)return null;throw c('No provider for "'+e+'"!')}};var n=[],r=this._providers=Object.create(t._providers||null),a=this._instances=Object.create(null),s=a.injector=this,c=function(e){var t=n.join(" -> ");return n.length=0,new Error(t?e+" (Resolving: "+t+")":e)},d=function e(i,o){if(!r[i]&&-1!==i.indexOf(".")){for(var s=i.split("."),u=e(s.shift());s.length;)u=u[s.shift()];return u}if(f(a,i))return a[i];if(f(r,i)){if(-1!==n.indexOf(i))throw n.push(i),c("Cannot resolve circular dependency!");return n.push(i),a[i]=r[i][0](r[i][1]),n.pop(),a[i]}return t.get(i,o)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof e){if(!i(e))throw new Error('Cannot invoke "'+e+'". Expected a function!');e=o(e.slice())}return{fn:e,dependencies:(e.$inject||u(e)).map(function(e){return f(t,e)?t[e]:d(e)})}},y=function(e){var t=m(e);return new(Function.prototype.bind.apply(t.fn,[null].concat(p(t.dependencies))))},v=function(e,t,n){var r=m(e,n),i=r.fn;return i.call.apply(i,[t].concat(p(r.dependencies)))},g=function(e){return o(function(t){return e.get(t)})},b={factory:v,type:y,value:function(e){return e}};e.forEach(function(e){function t(e,t){return"value"!==e&&i(t)&&(t=o(t.slice())),t}if(e instanceof function(){var e=[];this.factory=function(t,n){return e.push([t,"factory",n]),this},this.value=function(t,n){return e.push([t,"value",n]),this},this.type=function(t,n){return e.push([t,"type",n]),this},this.forEach=function(t){e.forEach(t)}})e.forEach(function(e){var n=e[1];r[e[0]]=[b[n],t(n,e[2]),n]});else if("object"===(void 0===e?"undefined":l(e)))if(e.__exports__){var n=Object.keys(e).reduce(function(t,n){return"__"!==n.substring(0,2)&&(t[n]=e[n]),t},Object.create(null)),a=new h((e.__modules__||[]).concat([n]),s),c=o(function(e){return a.get(e)});e.__exports__.forEach(function(e){r[e]=[c,e,"private",a]})}else Object.keys(e).forEach(function(n){if("private"!==e[n][2]){var i=e[n][0];r[n]=[b[i],t(i,e[n][1]),i]}else r[n]=e[n]})}),this.get=d,this.invoke=v,this.instantiate=y,this.createChild=function(e,t){if(t&&t.length){var n,i,o,a,c=Object.create(null),u=Object.create(null),l=[],p=[],f=[];for(var d in r)n=r[d],-1!==t.indexOf(d)&&("private"===n[2]?-1===(i=l.indexOf(n[3]))?(o=n[3].createChild([],t),a=g(o),l.push(n[3]),p.push(o),f.push(a),c[d]=[a,d,"private",o]):c[d]=[f[i],d,"private",p[i]]:c[d]=[n[2],n[1]],u[d]=!0),"factory"!==n[2]&&"type"!==n[2]||!n[1].$scope||t.forEach(function(e){-1!==n[1].$scope.indexOf(e)&&(c[d]=[n[2],n[1]],u[e]=!0)});t.forEach(function(e){if(!u[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')}),e.unshift(c)}return new h(e,s)}}function f(e,t){return Object.hasOwnProperty.call(e,t)}},vC9s:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s});var r=n("a4vW");function i(e){return e.join(",").replace(/,?([A-z]),?/g,"$1")}function o(e){for(var t,n="",r=0;t=e[r];r++)n+=t.x+","+t.y+" ";return n}function a(e,t){var n=Object(r.f)("polyline");return Object(r.b)(n,{points:o(e)}),t&&Object(r.b)(n,t),n}function s(e,t){return Object(r.b)(e,{points:o(t)}),e}},xOv9:function(e,t,n){"use strict";var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();"undefined"!=typeof window?window:global,r=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.data=[null].concat(n),this.top=this.data.length-1}return i(e,[{key:"clear",value:function(){return this.data.length=1,this.top=0,this}},{key:"empty",value:function(){return 0===this.top}},{key:"length",value:function(){return this.top}},{key:"peek",value:function(){return this.data[this.top]}},{key:"pop",value:function(){var e=void 0;return this.top>0&&(e=this.data.pop(),this.top--),e}},{key:"push",value:function(e){return this.data[++this.top]=e,this}},{key:"search",value:function(e){var t=this.data.indexOf(e);return-1===t?-1:this.data.length-t}}]),e}(),e.exports=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new(Function.prototype.bind.apply(r,[null].concat(t)))}},yJHR:function(e){e.exports={name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[],prefix:"bpmndi"}},yLV6:function(e,t,n){var r;!function(i,o,a,s){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),p="function",h=Math.round,f=Math.abs,d=Date.now;function m(e,t,n){return setTimeout(x(e,n),t)}function y(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function g(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var b=g(function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e},"extend","Use `assign`."),w=g(function(e,t){return b(e,t,!0)},"merge","Use `assign`.");function _(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&c(r,n)}function x(e,t){return function(){return e.apply(t,arguments)}}function E(e,t){return typeof e==p?e.apply(t&&t[0]||s,t):e}function O(e,t){return e===s?t:e}function j(e,t,n){v(T(t),function(t){e.addEventListener(t,n,!1)})}function S(e,t,n){v(T(t),function(t){e.removeEventListener(t,n,!1)})}function C(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function k(e,t){return e.indexOf(t)>-1}function T(e){return e.trim().split(/\s+/g)}function A(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function R(e){return Array.prototype.slice.call(e,0)}function P(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];A(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function M(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<u.length;){if((r=(n=u[o])?n+i:t)in e)return r;o++}return s}var D=1;function N(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var I="ontouchstart"in i,B=M(i,"PointerEvent")!==s,L=I&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=25,z=1,V=4,U=8,H=1,$=2,W=4,G=8,q=16,K=$|W,Z=G|q,X=K|Z,Y=["x","y"],Q=["clientX","clientY"];function J(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){E(e.options.enable,[e])&&n.handler(t)},this.init()}function ee(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&z&&r-i==0,a=t&(V|U)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=te(t)),i>1&&!n.firstMultiple?n.firstMultiple=te(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,c=a?a.center:o.center,u=t.center=ne(r);t.timeStamp=d(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=ae(c,u),t.distance=oe(c,u),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==z&&o.eventType!==V||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=ie(t.deltaX,t.deltaY);var l,p,h=re(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=h.x,t.overallVelocityY=h.y,t.overallVelocity=f(h.x)>f(h.y)?h.x:h.y,t.scale=a?(l=a.pointers,oe((p=r)[0],p[1],Q)/oe(l[0],l[1],Q)):1,t.rotation=a?function(e,t){return ae(r[1],r[0],Q)+ae(e[1],e[0],Q)}(a.pointers):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,c=t.timeStamp-a.timeStamp;if(t.eventType!=U&&(c>F||a.velocity===s)){var u=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,p=re(c,u,l);r=p.x,i=p.y,n=f(p.x)>f(p.y)?p.x:p.y,o=ie(u,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var m=e.element;C(t.srcEvent.target,m)&&(m=t.srcEvent.target),t.target=m}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function te(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:h(e.pointers[n].clientX),clientY:h(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:ne(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ne(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:h(n/t),y:h(r/t)}}function re(e,t,n){return{x:t/e||0,y:n/e||0}}function ie(e,t){return e===t?H:f(e)>=f(t)?e<0?$:W:t<0?G:q}function oe(e,t,n){n||(n=Y);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function ae(e,t,n){return n||(n=Y),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}J.prototype={handler:function(){},init:function(){this.evEl&&j(this.element,this.evEl,this.domHandler),this.evTarget&&j(this.target,this.evTarget,this.domHandler),this.evWin&&j(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(N(this.element),this.evWin,this.domHandler)}};var se={mousedown:z,mousemove:2,mouseup:V},ce="mousedown",ue="mousemove mouseup";function le(){this.evEl=ce,this.evWin=ue,this.pressed=!1,J.apply(this,arguments)}_(le,J,{handler:function(e){var t=se[e.type];t&z&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=V),this.pressed&&(t&V&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var pe={pointerdown:z,pointermove:2,pointerup:V,pointercancel:U,pointerout:U},he={2:"touch",3:"pen",4:"mouse",5:"kinect"},fe="pointerdown",de="pointermove pointerup pointercancel";function me(){this.evEl=fe,this.evWin=de,J.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(fe="MSPointerDown",de="MSPointerMove MSPointerUp MSPointerCancel"),_(me,J,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=pe[r],o=he[e.pointerType]||e.pointerType,a="touch"==o,s=A(t,e.pointerId,"pointerId");i&z&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(V|U)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ye={touchstart:z,touchmove:2,touchend:V,touchcancel:U},ve="touchstart",ge="touchstart touchmove touchend touchcancel";function be(){this.evTarget=ve,this.evWin=ge,this.started=!1,J.apply(this,arguments)}_(be,J,{handler:function(e){var t=ye[e.type];if(t===z&&(this.started=!0),this.started){var n=(function(e,t){var n=R(e.touches),r=R(e.changedTouches);return t&(V|U)&&(n=P(n.concat(r),"identifier",!0)),[n,r]}).call(this,e,t);t&(V|U)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var we={touchstart:z,touchmove:2,touchend:V,touchcancel:U},_e="touchstart touchmove touchend touchcancel";function xe(){this.evTarget=_e,this.targetIds={},J.apply(this,arguments)}_(xe,J,{handler:function(e){var t=we[e.type],n=(function(e,t){var n=R(e.touches),r=this.targetIds;if(t&(2|z)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=R(e.changedTouches),s=[],c=this.target;if(o=n.filter(function(e){return C(e.target,c)}),t===z)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),t&(V|U)&&delete r[a[i].identifier],i++;return s.length?[P(o.concat(s),"identifier",!0),s]:void 0}).call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var Ee=2500;function Oe(){J.apply(this,arguments);var e=x(this.handler,this);this.touch=new xe(this.manager,e),this.mouse=new le(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function je(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},Ee)}}_(Oe,J,{handler:function(e,t,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)(function(e,t){e&z?(this.primaryTouch=t.changedPointers[0].identifier,je.call(this,t)):e&(V|U)&&je.call(this,t)}).call(this,t,n);else if(r&&(function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}).call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Se=M(l.style,"touchAction"),Ce=Se!==s,ke=function(){if(!Ce)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||i.CSS.supports("touch-action",n)}),e}();function Te(e,t){this.manager=e,this.set(t)}Te.prototype={set:function(e){"compute"==e&&(e=this.compute()),Ce&&this.manager.element.style&&ke[e]&&(this.manager.element.style[Se]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,function(t){E(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(k(e,"none"))return"none";var t=k(e,"pan-x"),n=k(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":k(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=k(r,"none")&&!ke.none,o=k(r,"pan-y")&&!ke["pan-y"],a=k(r,"pan-x")&&!ke["pan-x"];if(i&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;if(!a||!o)return i||o&&n&K||a&&n&Z?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ae=1,Re=2,Pe=4,Me=8,De=Me,Ne=16;function Ie(e){this.options=c({},this.defaults,e||{}),this.id=D++,this.manager=null,this.options.enable=O(this.options.enable,!0),this.state=Ae,this.simultaneous={},this.requireFail=[]}function Be(e){return e&Ne?"cancel":e&Me?"end":e&Pe?"move":e&Re?"start":""}function Le(e){return e==q?"down":e==G?"up":e==$?"left":e==W?"right":""}function Fe(e,t){var n=t.manager;return n?n.get(e):e}function ze(){Ie.apply(this,arguments)}function Ve(){ze.apply(this,arguments),this.pX=null,this.pY=null}function Ue(){ze.apply(this,arguments)}function He(){Ie.apply(this,arguments),this._timer=null,this._input=null}function $e(){ze.apply(this,arguments)}function We(){ze.apply(this,arguments)}function Ge(){Ie.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function qe(e,t){return(t=t||{}).recognizers=O(t.recognizers,qe.defaults.preset),new Ke(e,t)}function Ke(e,t){var n;this.options=c({},qe.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(B?me:L?xe:I?Oe:le))(n,ee),this.touchAction=new Te(this,this.options.touchAction),Ze(this,!0),v(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function Ze(e,t){var n,r=e.element;r.style&&(v(e.options.cssProps,function(i,o){n=M(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}Ie.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(y(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Fe(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return y(e,"dropRecognizeWith",this)?this:(e=Fe(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(y(e,"requireFailure",this))return this;var t=this.requireFail;return-1===A(t,e=Fe(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(y(e,"dropRequireFailure",this))return this;e=Fe(e,this);var t=A(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<Me&&r(t.options.event+Be(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=Me&&r(t.options.event+Be(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Ae)))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!E(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(De|Ne|32)&&(this.state=Ae),this.state=this.process(t),this.state&(Re|Pe|Me|Ne)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(ze,Ie,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(Re|Pe),i=this.attrTest(e);return r&&(n&U||!i)?t|Ne:r||i?n&V?t|Me:t&Re?t|Pe:Re:32}}),_(Ve,ze,{defaults:{event:"pan",threshold:10,pointers:1,direction:X},getTouchAction:function(){var e=this.options.direction,t=[];return e&K&&t.push("pan-y"),e&Z&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&K?(i=0===o?H:o<0?$:W,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?H:a<0?G:q,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return ze.prototype.attrTest.call(this,e)&&(this.state&Re||!(this.state&Re)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Le(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(Ue,ze,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Re)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),_(He,Ie,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(V|U)&&!i)this.reset();else if(e.eventType&z)this.reset(),this._timer=m(function(){this.state=De,this.tryEmit()},t.time,this);else if(e.eventType&V)return De;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===De&&(e&&e.eventType&V?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),_($e,ze,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Re)}}),_(We,ze,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|Z,pointers:1},getTouchAction:function(){return Ve.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(K|Z)?t=e.overallVelocity:n&K?t=e.overallVelocityX:n&Z&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&e.eventType&V},emit:function(e){var t=Le(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(Ge,Ie,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&z&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=V)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||oe(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=m(function(){this.state=De,this.tryEmit()},t.interval,this),Re):De}return 32},failTimeout:function(){return this._timer=m(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==De&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),qe.VERSION="2.0.7",qe.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[$e,{enable:!1}],[Ue,{enable:!1},["rotate"]],[We,{direction:K}],[Ve,{direction:K},["swipe"]],[Ge],[Ge,{event:"doubletap",taps:2},["tap"]],[He]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ke.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&De)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(Re|Pe|Me)&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Ie)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(y(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(y(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=A(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return v(T(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==s){var n=this.handlers;return v(T(e),function(e){t?n[e]&&n[e].splice(A(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Ze(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(qe,{INPUT_START:z,INPUT_MOVE:2,INPUT_END:V,INPUT_CANCEL:U,STATE_POSSIBLE:Ae,STATE_BEGAN:Re,STATE_CHANGED:Pe,STATE_ENDED:Me,STATE_RECOGNIZED:De,STATE_CANCELLED:Ne,STATE_FAILED:32,DIRECTION_NONE:H,DIRECTION_LEFT:$,DIRECTION_RIGHT:W,DIRECTION_UP:G,DIRECTION_DOWN:q,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:Z,DIRECTION_ALL:X,Manager:Ke,Input:J,TouchAction:Te,TouchInput:xe,MouseInput:le,PointerEventInput:me,TouchMouseInput:Oe,SingleTouchInput:be,Recognizer:Ie,AttrRecognizer:ze,Tap:Ge,Pan:Ve,Swipe:We,Pinch:Ue,Rotate:$e,Press:He,on:j,off:S,each:v,merge:w,extend:b,assign:c,inherit:_,bindFn:x,prefixed:M}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=qe,(r=(function(){return qe}).call(t,n,t,e))===s||(e.exports=r)}(window,document)},zUnb:function(e,t,n){"use strict";n.r(t);var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}var p=Array.isArray||function(e){return e&&"number"==typeof e.length};function h(e){return null!=e&&"object"==typeof e}function f(e){return"function"==typeof e}var d,m={e:{}};function y(){try{return d.apply(this,arguments)}catch(e){return m.e=e,m}}function v(e){return d=e,y}function g(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}g.prototype=Object.create(Error.prototype);var b=g,w=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,r=this._parents,i=this._unsubscribe,o=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var a=-1,s=r?r.length:0;n;)n.remove(this),n=++a<s&&r[a]||null;if(f(i)&&v(i).call(this)===m&&(t=!0,e=e||(m.e instanceof b?_(m.e.errors):[m.e])),p(o))for(a=-1,s=o.length;++a<s;){var c=o[a];if(h(c)&&v(c.unsubscribe).call(c)===m){t=!0,e=e||[];var u=m.e;u instanceof b?e=e.concat(_(u.errors)):e.push(u)}}if(t)throw new b(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function _(e){return e.reduce(function(e,t){return e.concat(t instanceof b?t.errors:t)},[])}var x=!1,E={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){x=e},get useDeprecatedSynchronousErrorHandling(){return x}};function O(e){setTimeout(function(){throw e})}var j={closed:!0,next:function(e){},error:function(e){if(E.useDeprecatedSynchronousErrorHandling)throw e;O(e)},complete:function(){}},S="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),C=function(e){function t(n,r,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,o._parentSubscription=null,arguments.length){case 0:o.destination=j;break;case 1:if(!n){o.destination=j;break}if("object"==typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new k(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new k(o,n,r,i)}return o}return i(t,e),t.prototype[S]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(w),k=function(e){function t(t,n,r,i){var o,a=e.call(this)||this;a._parentSubscriber=t;var s=a;return f(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==j&&(f((s=Object.create(n)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=o,a._error=r,a._complete=i,a}return i(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;E.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=E.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):O(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;O(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};E.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),E.useDeprecatedSynchronousErrorHandling)throw n;O(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!E.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return E.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(O(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(C),T="function"==typeof Symbol&&Symbol.observable||"@@observable";function A(){}function R(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return P(e)}function P(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:A}var M=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof C)return e;if(e[S])return e[S]()}return e||t||n?new C(e,t,n):new C(j)}(e,t,n);if(r?r.call(i,this.source):i.add(this.source||E.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),E.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){E.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof C?t:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=D(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[T]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:P(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=D(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function D(e){if(e||(e=E.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function N(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}N.prototype=Object.create(Error.prototype);var I=N,B=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return i(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(w),L=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return i(t,e),t}(C),F=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i(t,e),t.prototype[S]=function(){return new L(this)},t.prototype.lift=function(e){var t=new z(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new I;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new I;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new I;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new I;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new I;return this.hasError?(e.error(this.thrownError),w.EMPTY):this.isStopped?(e.complete(),w.EMPTY):(this.observers.push(e),new B(this,e))},t.prototype.asObservable=function(){var e=new M;return e.source=this,e},t.create=function(e,t){return new z(e,t)},t}(M),z=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return i(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):w.EMPTY},t}(F);function V(e){return e&&"function"==typeof e.schedule}var U=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return i(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(C),H=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},$=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,O),t}};function W(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var G=W(),q=function(e){return function(t){for(var n=e[G]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}},K=function(e){return function(t){var n=e[T]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},Z=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function X(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Y=function(e){if(e instanceof M)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[T])return K(e);if(Z(e))return H(e);if(X(e))return $(e);if(e&&"function"==typeof e[G])return q(e);var t=h(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Q(e,t,n,r,i){if(void 0===i&&(i=new U(e,n,r)),!i.closed)return Y(t)(i)}var J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(C);function ee(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new te(e,t))}}var te=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new ne(e,this.project,this.thisArg))},e}(),ne=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return i(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(C);function re(e,t){return new M(t?function(n){var r=new w,i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:H(e))}function ie(e,t){if(!t)return e instanceof M?e:new M(Y(e));if(null!=e){if(function(e){return e&&"function"==typeof e[T]}(e))return function(e,t){return new M(t?function(n){var r=new w;return r.add(t.schedule(function(){var i=e[T]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r}:K(e))}(e,t);if(X(e))return function(e,t){return new M(t?function(n){var r=new w;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r}:$(e))}(e,t);if(Z(e))return re(e,t);if(function(e){return e&&"function"==typeof e[G]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new M(t?function(n){var r,i=new w;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(function(){r=e[G](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}}))})),i}:q(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function oe(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(oe(function(n,r){return ie(e(n,r)).pipe(ee(function(e,i){return t(n,e,r,i)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new ae(e,n))})}var ae=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new se(e,this.project,this.concurrent))},e}(),se=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new U(this,void 0,void 0);this.destination.add(r),Q(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(J);function ce(e){return e}function ue(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),oe(ce,e)}function le(){return function(e){return e.lift(new pe(e))}}var pe=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new he(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),he=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return i(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(C),fe=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new w).add(this.source.subscribe(new me(this.getSubject(),this))),e.closed?(this._connection=null,e=w.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return le()(this)},t}(M).prototype,de={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:fe._subscribe},_isComplete:{value:fe._isComplete,writable:!0},getSubject:{value:fe.getSubject},connect:{value:fe.connect},refCount:{value:fe.refCount}},me=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return i(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(L);function ye(){return new F}function ve(e){for(var t in e)if(e[t]===ve)return t;throw Error("Could not find renamed property on target object.")}function ge(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}var be=ve({ngComponentDef:ve}),we=ve({ngInjectableDef:ve}),_e=ve({ngInjectorDef:ve}),xe=ve({ngModuleDef:ve}),Ee=ve({ngBaseDef:ve});function Oe(e){return{providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function je(e){return e.hasOwnProperty(we)?e[we]:null}function Se(e){return e.hasOwnProperty(_e)?e[_e]:null}var Ce=function(){function e(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==t?Oe({providedIn:t.providedIn||"root",factory:t.factory}):void 0}return e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(),ke="__parameters__",Te="__prop__metadata__";function Ae(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e){var r=e.apply(void 0,l(t));for(var i in r)this[i]=r[i]}}}function Re(e,t,n){var r=Ae(t);function i(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=new((e=i).bind.apply(e,l([void 0],t)));return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty(ke)?e[ke]:Object.defineProperty(e,ke,{value:[]})[ke];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}function Pe(e,t,n,r){var i=Ae(t);function o(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof o)return i.apply(this,t),this;var a=new((e=o).bind.apply(e,l([void 0],t)));return function(e,n){var i=e.constructor,o=i.hasOwnProperty(Te)?i[Te]:Object.defineProperty(i,Te,{value:{}})[Te];o[n]=o.hasOwnProperty(n)&&o[n]||[],o[n].unshift(a),r&&r.apply(void 0,l([e,n],t))}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}var Me=new Ce("AnalyzeForEntryComponents"),De="undefined"!=typeof window&&window,Ne="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ie="undefined"!=typeof global&&global||De||Ne,Be=Promise.resolve(0),Le=null;function Fe(){if(!Le){var e=Ie.Symbol;if(e&&e.iterator)Le=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Le=r)}}return Le}function ze(e){"undefined"==typeof Zone?Be.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function Ve(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Ue(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Ue).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function He(e){return e.__forward_ref__=He,e.toString=function(){return Ue(this())},e}function $e(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===He?e():e}var We=Re("Inject",function(e){return{token:e}}),Ge=Re("Optional"),qe=Re("Self"),Ke=Re("SkipSelf"),Ze="__source",Xe=new Object,Ye=Xe,Qe=new Ce("INJECTOR"),Je=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=Xe),t===Xe)throw new Error("NullInjectorError: No provider for "+Ue(e)+"!");return t},e}(),et=function(){function e(){}return e.create=function(e,t){return Array.isArray(e)?new ut(e,t):new ut(e.providers,e.parent,e.name||null)},e.THROW_IF_NOT_FOUND=Xe,e.NULL=new Je,e.ngInjectableDef=Oe({providedIn:"any",factory:function(){return mt(Qe)}}),e}(),tt=function(e){return e},nt=[],rt=tt,it=function(){return Array.prototype.slice.call(arguments)},ot=ve({provide:String,useValue:ve}),at=et.NULL,st=/\n/gm,ct="\u0275",ut=function(){function e(e,t,n){void 0===t&&(t=at),void 0===n&&(n=null),this.parent=t,this.source=n;var r=this._records=new Map;r.set(et,{token:et,fn:tt,deps:nt,value:this,useNew:!1}),r.set(Qe,{token:Qe,fn:tt,deps:nt,value:this,useNew:!1}),function e(t,n){if(n)if((n=$e(n))instanceof Array)for(var r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw ht("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ht("Unexpected provider",n);var i=$e(n.provide),o=function(e){var t=function(e){var t=nt,n=e.deps;if(n&&n.length){t=[];for(var r=0;r<n.length;r++){var i=6;if((c=$e(n[r]))instanceof Array)for(var o=0,a=c;o<a.length;o++){var s=a[o];s instanceof Ge||s==Ge?i|=1:s instanceof Ke||s==Ke?i&=-3:s instanceof qe||s==qe?i&=-5:c=s instanceof We?s.token:$e(s)}t.push({token:c,options:i})}}else if(e.useExisting){var c;t=[{token:c=$e(e.useExisting),options:6}]}else if(!(n||ot in e))throw ht("'deps' required",e);return t}(e),n=tt,r=nt,i=!1,o=$e(e.provide);if(ot in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=$e(e.useClass);else{if("function"!=typeof o)throw ht("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=t.get(i);if(a){if(a.fn!==it)throw lt(i)}else t.set(i,a={token:n.provide,deps:[],useNew:!1,fn:it,value:nt});a.deps.push({token:i=n,options:6})}var s=t.get(i);if(s&&s.fn==it)throw lt(i);t.set(i,o)}}(r,e)}return e.prototype.get=function(e,t,n){void 0===n&&(n=0);var r=this._records.get(e);try{return function e(t,n,r,i,o,a){try{return function(t,n,r,i,o,a){var s,c;if(!n||4&a)2&a||(c=i.get(t,o,0));else{if((c=n.value)==rt)throw Error(ct+"Circular dependency");if(c===nt){n.value=rt;var u=n.useNew,p=n.fn,h=n.deps,f=nt;if(h.length){f=[];for(var d=0;d<h.length;d++){var m=h[d],y=m.options,v=2&y?r.get(m.token):void 0;f.push(e(m.token,v,r,v||4&y?i:at,1&y?null:et.THROW_IF_NOT_FOUND,0))}}n.value=c=u?new((s=p).bind.apply(s,l([void 0],f))):p.apply(void 0,f)}}return c}(t,n,r,i,o,a)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(t),n&&n.value==rt&&(n.value=nt),s}}(e,r,this._records,this.parent,t,n)}catch(o){var i=o.ngTempTokenPath;throw e[Ze]&&i.unshift(e[Ze]),o.message=pt("\n"+o.message,i,this.source),o.ngTokenPath=i,o.ngTempTokenPath=null,o}},e.prototype.toString=function(){var e=[];return this._records.forEach(function(t,n){return e.push(Ue(n))}),"StaticInjector["+e.join(", ")+"]"},e}();function lt(e){return ht("Cannot mix multi providers and regular providers",e)}function pt(e,t,n){void 0===n&&(n=null),e=e&&"\n"===e.charAt(0)&&e.charAt(1)==ct?e.substr(2):e;var r=Ue(t);if(t instanceof Array)r=t.map(Ue).join(" -> ");else if("object"==typeof t){var i=[];for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):Ue(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+e.replace(st,"\n  ")}function ht(e,t){return new Error(pt(e,t))}var ft=void 0;function dt(e){var t=ft;return ft=e,t}function mt(e,t){if(void 0===t&&(t=0),void 0===ft)throw new Error("inject() must be called from an injection context");if(null===ft){var n=je(e);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(8&t)return null;throw new Error("Injector: NOT_FOUND ["+Ue(e)+"]")}return ft.get(e,8&t?null:void 0,t)}function yt(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=0,a=0;a<r.length;a++){var s=r[a];s instanceof Ge||"Optional"===s.ngMetadataName?o|=8:s instanceof Ke||"SkipSelf"===s.ngMetadataName?o|=4:s instanceof qe||"Self"===s.ngMetadataName?o|=2:i=s instanceof We?s.token:s}t.push(mt(i,o))}else t.push(mt(r))}return t}Function;var vt=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),gt="__ngContext__",bt=17,wt=0,_t=1,xt=2,Et=3,Ot=4,jt=5,St=6,Ct=7,kt=8,Tt=9,At=10,Rt=11,Pt=12,Mt=14,Dt=16;function Nt(e,t){var n=Lt(e),r=Lt(t);return n&&r?function(e,t,n){for(var r=e[Fe()](),i=t[Fe()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(e,t,Nt):!(n||!e||"object"!=typeof e&&"function"!=typeof e||r||!t||"object"!=typeof t&&"function"!=typeof t)||Ve(e,t)}var It=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e.unwrap=function(t){return e.isWrapped(t)?t.wrapped:t},e.isWrapped=function(t){return t instanceof e},e}(),Bt=function(){function e(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}return e.prototype.isFirstChange=function(){return this.firstChange},e}();function Lt(e){return!!Ft(e)&&(Array.isArray(e)||!(e instanceof Map)&&Fe()in e)}function Ft(e){return null!==e&&("function"==typeof e||"object"==typeof e)}var zt=0,Vt=1,Ut=6;function Ht(e){for(;Array.isArray(e);)e=e[jt];return e}function $t(e,t){return Ht(t[e.index])}function Wt(e,t){var n=t[e];return n.length>=bt?n:n[jt]}function Gt(e){return e[gt]}function qt(e){var t=Gt(e);return t?Array.isArray(t)?t:t.lViewData:null}function Kt(e,t){e[gt]=t}function Zt(e,t,n){e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked))}function Xt(e,t,n){e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked))}function Yt(e,t,n){null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}function Qt(e,t,n){16&e[_t]&&(Jt(e,t.initHooks,t.checkHooks,n),e[_t]&=-17)}function Jt(e,t,n,r){var i=r?t:n;i&&en(e,i)}function en(e,t){for(var n=0;n<t.length;n+=2)t[n+1].call(e[t[n]])}var tn=9,nn="ngProjectAs";function rn(e){return!!e.listen}var on={createRenderer:function(e,t){return document}},an=[];function sn(e){for(var t=e[St];t&&2===t.type;)t=(e=e[xt])[St];return e}function cn(e,t,n,r,i){0===e?rn(t)?t.insertBefore(n,r,i):n.insertBefore(r,i,!0):1===e?rn(t)?t.removeChild(n,r):n.removeChild(r):2===e&&t.destroyNode(r)}function un(e){var t=e[wt].childIndex;return-1===t?null:e[t]}function ln(e,t){var n;return e.length>=bt&&(n=e[St])&&2===n.type?function(t,n){if(-1===t.index){var r=e[Mt];return r>-1?e[xt][r]:null}return e[xt][t.parent.index]}(n):e[xt]===t?null:e[xt]}function pn(e){if(e.length>=bt){var t=e;!function(e){var t=e[wt].cleanup;if(null!=t){for(var n=0;n<t.length-1;n+=2)"string"==typeof t[n]?(Ht(e[t[n+1]]).removeEventListener(t[n],e[kt][t[n+2]],t[n+3]),n+=2):"number"==typeof t[n]?(0,e[kt][t[n]])():t[n].call(e[kt][t[n+1]]);e[kt]=null}}(t),function(e){var t,n=e[wt];null!=n&&null!=(t=n.destroyHooks)&&en(e,t)}(t),(r=(n=t)[wt]&&n[wt].pipeDestroyHooks)&&en(n,r),-1===t[wt].id&&rn(t[Rt])&&t[Rt].destroy()}var n,r}var hn,fn,dn,mn,yn,vn,gn,bn,wn=Promise.resolve(null);function _n(){return fn}var xn=!1,En=!0,On=-1;function jn(e,t){var n=bn;return yn=e&&e[wt],gn=e&&1==(1&e[_t]),En=e&&yn.firstTemplatePass,On=e&&yn.bindingStartIndex,hn=e&&e[Rt],dn=t,mn=!0,bn=e,n&&(n[Ot]=vn),vn=e&&e[Ot],n}function Sn(e,t){t||(xn||Jt(bn,yn.viewHooks,yn.viewCheckHooks,gn),bn[_t]&=-6),bn[_t]|=16,bn[Ct]=yn.bindingStartIndex,jn(e,null)}function Cn(){kn();var e=En;yn.firstTemplatePass=En=!1,xn||Qt(bn,yn,gn),function(e){for(var t=un(bn);null!==t;t=t[Et])if(t.length<bt&&-1===t[zt])for(var n=t,r=0;r<n[Vt].length;r++){var i=n[Vt][r];Rn(i,i[wt],i[Tt],2)}}(),function(e){if(null!=e.contentQueries)for(var t=0;t<e.contentQueries.length;t+=2){var n=e.contentQueries[t];e.data[n].contentQueriesRefresh(n-bt,e.contentQueries[t+1])}}(yn),xn||Jt(bn,yn.contentHooks,yn.contentCheckHooks,gn),function(e,t){if(null!=e)for(var n=0;n<e.length;n++)Fn(e[n],t)}(yn.components,e)}function kn(){if(yn.expandoInstructions){On=bn[Ct]=yn.expandoStartIndex;for(var e=-1,t=-1,n=0;n<yn.expandoInstructions.length;n++){var r=yn.expandoInstructions[n];"number"==typeof r?r<=0?(t=-r,"number"==typeof bn[On]&&(On+=tn),e=On):On+=r:(bn[Ct]=On,r(e-bt,t),e++)}}}function Tn(e,t,n,r,i){var o=t.blueprint.slice();return o[_t]=25|r,o[xt]=o[Dt]=bn,o[Tt]=n,o[At]=bn?bn[At]:null,o[Rt]=e,o[Pt]=i||null,o}function An(e,t,n,r,i){var o=e+bt;bn[o]=n;var a=yn.data[o];return null==a&&(a=yn.data[o]=Ln(t,o,r,i,null),dn&&(!mn||null!=dn.child||null===a.parent&&2!==dn.type?mn||(dn.next=a):dn.child=a)),null==yn.firstChild&&3===t&&(yn.firstChild=a),dn=a,mn=!0,a}function Rn(e,t,n,r){var i,o=mn,a=dn;if(64&e[_t])Vn(e[Tt]);else try{mn=!0,dn=null,i=jn(e,e[St]),Nn(),t.template(r,n),2&r?Cn():e[wt].firstTemplatePass=En=!1}finally{Sn(i,1==(1&r)),mn=o,dn=a}}function Pn(e,t,n){var r=jn(e,e[St]);try{fn.begin&&fn.begin(),n?(Nn(),n(Mn(e),t),Cn()):(xn||(Qt(bn,yn,gn),Jt(bn,yn.contentHooks,yn.contentCheckHooks,gn)),kn(),Fn(bt,!1))}finally{fn.end&&fn.end(),Sn(r)}}function Mn(e){return 1&e[_t]?3:2}var Dn=null;function Nn(){Dn=null}function In(e,t,n,r,i,o,a){var s=bt+n,c=s+r,u=function(e,t){var n=new Array(t).fill(null,0,e).fill(Wn,e);return n[Mt]=-1,n[Ct]=e,n}(s,c);return u[wt]={id:e,blueprint:u,template:t,viewQuery:a,node:null,data:u.slice(),childIndex:-1,bindingStartIndex:s,expandoStartIndex:c,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,currentMatches:null,firstChild:null}}function Bn(e,t){fn=e;var n=e.createRenderer(null,null);return"string"==typeof t?rn(n)?n.selectRootElement(t):n.querySelector(t):t}function Ln(e,t,n,r,i){var o=mn?dn:dn&&dn.parent,a=o&&bn&&o!==bn[St]?o:null;return{type:e,index:t,injectorIndex:a?a.injectorIndex:-1,flags:0,tagName:n,attrs:r,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:i,next:null,child:null,parent:a,detached:null,stylingTemplate:null,projection:null}}function Fn(e,t){var n=Wt(e,bn);zn(n)&&6&n[_t]&&(t&&function(e){for(var t=e[wt],n=e.length;n<t.blueprint.length;n++)e[n]=t.blueprint[n]}(n),$n(n,n[Tt]))}function zn(e){return 8==(8&e[_t])}function Vn(e){for(var t=0;t<e.components.length;t++){var n=e.components[t];Pn(qt(n),n)}}function Un(e){$n(function(e){var t,n=Gt(e);if(Array.isArray(n)){var r=function(e,t){var n=e[wt].components;if(n)for(var r=0;r<n.length;r++){var i=n[r];if(Wt(i,e)[Tt]===t)return i}else if(Wt(bt,e)[Tt]===t)return bt;return-1}(n,e);(i=function(e,t,n){return{lViewData:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}(n,r,(t=Wt(r,n))[jt])).component=e,Kt(e,i),Kt(i.native,i)}else{var i;t=Wt((i=n).nodeIndex,i.lViewData)}return t}(e),e)}function Hn(e){Vn(e[Tt])}function $n(e,t){var n=e[wt],r=jn(e,e[St]),i=n.template,o=n.viewQuery;try{Nn(),function(t,n,r){t&&1&e[_t]&&t(1,r)}(o,0,t),i(Mn(e),t),Cn(),function(e,t){e&&e(2,t)}(o,t)}finally{Sn(r)}}var Wn={},Gn=wn,qn=[0,1];function Kn(e,t,n,r,i,o){var a=function(e,t,n,r){if(Kt(t,bn),r&&Kt(r,bn),bn[e]=t,En){var i=dn.flags;0===i?dn.flags=e<<15|4096&i|1:dn.flags++,yn.data.push(n),yn.blueprint.push(null),n.hostBindings&&yn.expandoInstructions.push((a=n).hostBindings,a.hostVars)}else{var o=n.diPublic;o&&o(n)}var a;return null!=n.attributes&&3==dn.type&&function(e,t){for(var n=rn(hn),r=0;r<t.length;){var i=t[r];if(1===i)break;if(i===nn)r+=2;else if(0===i){var o=t[r+1],a=t[r+2],s=t[r+3];n?hn.setAttribute(e,a,s,o):e.setAttributeNS(o,a,s),r+=4}else s=t[r+1],n?hn.setAttribute(e,i,s):e.setAttribute(i,s),r+=2}}(r,n.attributes),t}(r.length,n.factory(),n,e);return i.components.push(a),t[Tt]=a,o&&o.forEach(function(e){return e(a,n)}),r[wt].firstTemplatePass&&function(e){for(var t=0;t<e;t++)bn.push(Wn),yn.blueprint.push(Wn),yn.data.push(null)}(n.hostVars),kn(),a}function Zn(e,t){return{components:[],scheduler:e,clean:Gn,playerHandler:t||null,flags:0}}function Xn(e,t){var n,r,i,o,a=qt(e)[wt],s=a.data.length-1;n=s,i=t.doCheck,o=a,(r=t.onInit)&&(o.initHooks||(o.initHooks=[])).push(n,r),i&&((o.initHooks||(o.initHooks=[])).push(n,i),(o.checkHooks||(o.checkHooks=[])).push(n,i)),function(e,t){if(t.firstTemplatePass)for(var n=e>>15,r=n+(4095&e),i=n;i<r;i++){var o=t.data[i];Zt(o,t,i),Xt(o,t,i),Yt(o,t,i)}}(s<<15|1,a)}var Yn=function(){return function(){}}(),Qn=function(){return function(){}}();function Jn(e){var t=Error("No component factory found for "+Ue(e)+". Did you add it to @NgModule.entryComponents?");return t[tr]=e,t}var er,tr="ngComponent",nr=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw Jn(e)},e}(),rr=function(){function e(){}return e.NULL=new nr,e}(),ir=function(){function e(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(var r=0;r<e.length;r++){var i=e[r];this._factories.set(i.componentType,i)}}return e.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Jn(e);return new or(t,this._ngModule)},e}(),or=function(e){function t(t,n){var r=e.call(this)||this;return r.factory=t,r.ngModule=n,r.selector=t.selector,r.componentType=t.componentType,r.ngContentSelectors=t.ngContentSelectors,r.inputs=t.inputs,r.outputs=t.outputs,r}return i(t,e),t.prototype.create=function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)},t}(Qn),ar=function(){return function(){}}(),sr=function(){return function(){}}(),cr=function(e){function t(t){var n=e.call(this,t,null,-1)||this;return n._view=t,n}return i(t,e),t.prototype.detectChanges=function(){Hn(this._view)},t.prototype.checkNoChanges=function(){!function(e){xn=!0;try{Hn(e)}finally{xn=!1}}(this._view)},t}(function(){function e(e,t,n){this._context=t,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._view=e}return Object.defineProperty(e.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 32==(32&this._view[_t])},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){var e,t;this._viewContainerRef&&zn(this._view)&&(this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),this._viewContainerRef=null),rn(t=(e=this._view)[Rt])&&t.destroyNode&&function(t,n,r,i,o){for(var a=e[wt].node,s=-1,c=e,u=a.child;u;){var l=null;if(3===u.type){cn(2,r,null,$t(u,c),o);var p=c[u.index];m=p,Array.isArray(m)&&"number"==typeof m[zt]&&cn(2,r,null,p[Ut],o)}else if(0===u.type){var h=c[u.index];cn(2,r,null,h[Ut],o),h[Vt].length&&(l=(c=h[Vt][0])[wt].node,o=h[Ut])}else if(1===u.type){var f=sn(c),d=f[St].projection[u.projection];an[++s]=u,an[++s]=c,d&&(l=(c=f[xt])[wt].data[d.index])}else l=u.child;if(null===l)for(null===u.next&&8192&u.flags&&(c=an[s--],u=an[s--]),l=u.next;!l;){if(null===(u=u.parent||c[wt].node)||u===a)return null;0===u.type&&(o=(c=c[xt])[u.index][Ut]),l=2===u.type&&c[Et]?(c=c[Et])[wt].node:u.next}u=l}var m}(0,0,t),function(e){if(-1===e[wt].childIndex)return pn(e);for(var t=un(e);t;){var n=null;if(t.length>=bt?t[wt].childIndex>-1&&(n=un(t)):t[Vt].length&&(n=t[Vt][0]),null==n){for(;t&&!t[Et]&&t!==e;)pn(t),t=ln(t,e);pn(t||e),n=t&&t[Et]}t=n}}(e),e[_t]|=32},e.prototype.onDestroy=function(e){var t,n;n=e,function(e){return e[kt]||(e[kt]=[])}(t=this._view).push(n),t[wt].firstTemplatePass&&function(e){return e[wt].cleanup||(e[wt].cleanup=[])}(t).push(t[kt].length-1,null)},e.prototype.markForCheck=function(){!function(e){for(var t=e;t&&!(64&t[_t]);)t[_t]|=4,t=t[xt];var n,r,i;t[_t]|=4,i=0===(n=t[Tt]).flags,n.flags|=1,i&&n.clean==wn&&(n.clean=new Promise(function(e){return r=e}),n.scheduler(function(){if(1&n.flags&&(n.flags&=-2,Vn(n)),2&n.flags){n.flags&=-3;var e=n.playerHandler;e&&e.flushPlayers()}n.clean=wn,r(null)}))}(this._view)},e.prototype.detach=function(){this._view[_t]&=-9},e.prototype.reattach=function(){this._view[_t]|=8},e.prototype.detectChanges=function(){var e=_n();e.begin&&e.begin(),Un(this.context),e.end&&e.end()},e.prototype.checkNoChanges=function(){!function(e){xn=!0;try{Un(e)}finally{xn=!1}}(this.context)},e.prototype.attachToViewContainerRef=function(e){this._viewContainerRef=e},e.prototype.detachFromAppRef=function(){this._appRef=null},e.prototype.attachToAppRef=function(e){this._appRef=e},e.prototype._lookUpContext=function(){return this._context=this._view[xt][this._componentIndex]},e}());function ur(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}var lr=ur,pr=ur,hr=ur,fr=ur,dr=ur,mr=function(){function e(e){this.nativeElement=e}return e.__NG_ELEMENT_ID__=function(){return lr(e)},e}(),yr=function(){return function(){}}(),vr=function(){return function(){}}(),gr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({}),br=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return dr()},e}(),wr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.resolveComponentFactory=function(e){return new jr(e[be]||null)},t}(rr);function _r(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var xr=new Ce("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return Zn(mt(Er))}}),Er=new Ce("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return"undefined"!=typeof requestAnimationFrame&&"undefined"!=typeof window?requestAnimationFrame.bind(window):setTimeout}}),Or=new Ce("WRAP_RENDERER_FACTORY2"),jr=function(e){function t(t){var n=e.call(this)||this;return n.componentDef=t,n.componentType=t.type,n.selector=t.selectors[0][0],n.ngContentSelectors=[],n}return i(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){return _r(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return _r(this.componentDef.outputs)},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,r){var o,a=void 0===n;o=r?r.injector.get(Or,function(e){return e})(r.injector.get(vr)):on;var s,c,u=a?(s=this.selector,rn(c=o.createRenderer(null,this.componentDef)||hn)?c.createElement(s,Dn):null===Dn?c.createElement(s):c.createElementNS(Dn,s)):Bn(o,n),l=this.componentDef.onPush?68:66,p=r&&!a?r.injector.get(xr):Zn(requestAnimationFrame.bind(window)),h=o.createRenderer(u,this.componentDef),f=Tn(h,In(-1,null,1,0,null,null,null),p,l);f[At]=r&&r.injector||null;var d,m,y,v,g=jn(f,null);try{o.begin&&o.begin();var b=function(e,t,n,r,i){mn=!1,dn=null;var o,a=n[wt],s=Tn(r,(o=t.template).ngPrivateData||(o.ngPrivateData=In(-1,o,t.consts,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery)),null,t.onPush?4:2,i),c=An(0,3,e,null,null);return a.firstTemplatePass&&(a.expandoInstructions=qn.slice(),t.diPublic&&t.diPublic(t),c.flags=n.length<<15|4096),s[jt]=n[bt],s[St]=c,n[bt]=s}(u,this.componentDef,f,h);if(m=f[wt].data[0+bt],t)for(var w=0,_=m.projection=[],x=0;x<t.length;x++){for(var E=t[x],O=null,j=null,S=0;S<E.length;S++){v=void 0,(v=(y=f)[wt]).firstTemplatePass&&(v.expandoStartIndex++,v.blueprint.push(null),y.push(null));var C=An(++w,3,E[S],null,null);j?j.next=C:O=C,j=C}_.push(O)}d=Kn(u,b,this.componentDef,f,p,[Xn]),Rn(b,b[wt],d,1),b[_t]&=-2}finally{jn(g,null),o.end&&o.end()}var k=new Sr(this.componentType,d,f,e,function(e,t,n){return er||(er=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(mr)),new er($t(t,n))}(0,m,f));return a&&(k.hostView._tViewNode.child=m),k},t}(Qn),Sr=function(e){function t(t,n,r,i,o){var a,s=e.call(this)||this;return s.location=o,s.destroyCbs=[],s.instance=n,s.hostView=s.changeDetectorRef=new cr(r),s.hostView._tViewNode=(-1,null==(a=r)[wt].node&&(a[wt].node=Ln(2,-1,null,null,null)),mn=!0,dn=a[St]=a[wt].node),s.injector=i,s.componentType=t,s}return i(t,e),t.prototype.destroy=function(){this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null},t.prototype.onDestroy=function(e){this.destroyCbs.push(e)},t}(Yn),Cr=new Ce("The presence of this token marks an injector as being the root injector."),kr={},Tr={},Ar=[],Rr=void 0;function Pr(){return void 0===Rr&&(Rr=new Je),Rr}var Mr=function(){function e(e,t,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1,Ir([e],function(e){return r.processInjectorType(e,new Set)}),t&&Ir(t,function(e){return r.processProvider(e)}),this.records.set(Qe,Nr(void 0,this)),this.isRootInjector=this.records.has(Cr),this.injectorDefTypes.forEach(function(e){return r.get(e)})}return e.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},e.prototype.get=function(e,t,n){void 0===t&&(t=Ye),void 0===n&&(n=0),this.assertNotDestroyed();var r,i=dt(this);try{if(!(4&n)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Ce)&&je(e);a&&this.injectableDefInScope(a)&&(o=Dr(e),this.records.set(e,o))}if(void 0!==o)return this.hydrate(e,o)}return 2&n&&Pr(),this.parent.get(e,t)}finally{dt(i)}},e.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},e.prototype.processInjectorType=function(e,t){var n=this,r=Se(e=$e(e)),i=null==r&&e.ngModule||void 0,o=void 0===i?e:i,a=void 0!==i&&e.providers||Ar;if(void 0!==i&&(r=Se(i)),null!=r){if(t.has(o))throw new Error("Circular dependency: type "+Ue(o)+" ends up importing itself.");if(this.injectorDefTypes.add(o),this.records.set(o,Nr(r.factory)),null!=r.imports){t.add(o);try{Ir(r.imports,function(e){return n.processInjectorType(e,t)})}finally{t.delete(o)}}null!=r.providers&&Ir(r.providers,function(e){return n.processProvider(e)}),Ir(a,function(e){return n.processProvider(e)})}},e.prototype.processProvider=function(e){var t=Br(e=$e(e))?e:$e(e.provide),n=function(e){var t=$e(e),n=kr,r=void 0;if(Br(e))return Dr(e);if(t=$e(e.provide),ot in e)n=e.useValue;else if(e.useExisting)r=function(){return mt(e.useExisting)};else if(e.useFactory)r=function(){return e.useFactory.apply(e,l(yt(e.deps||[])))};else{var i=e.useClass||t;if(!e.deps)return Dr(i);r=function(){return new(i.bind.apply(i,l([void 0],yt(e.deps))))}}return Nr(r,n)}(e);if(Br(e)||!0!==e.multi){var r=this.records.get(t);if(r&&void 0!==r.multi)throw new Error("Mixed multi-provider for "+Ue(t))}else{var i=this.records.get(t);if(i){if(void 0===i.multi)throw new Error("Mixed multi-provider for "+t+".")}else(i=Nr(void 0,kr,!0)).factory=function(){return yt(i.multi)},this.records.set(t,i);t=e,i.multi.push(e)}this.records.set(t,n)},e.prototype.hydrate=function(e,t){if(t.value===Tr)throw new Error("Circular dep for "+Ue(e));var n;return t.value===kr&&(t.value=Tr,t.value=t.factory()),"object"==typeof t.value&&t.value&&"object"==typeof(n=t.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value},e.prototype.injectableDefInScope=function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||"root"===e.providedIn&&this.isRootInjector:this.injectorDefTypes.has(e.providedIn))},e}();function Dr(e){var t=je(e);if(null===t){if(e instanceof Ce)throw new Error("Token "+Ue(e)+" is missing an ngInjectableDef definition.");return Nr(function(){return new e})}return Nr(t.factory)}function Nr(e,t,n){return void 0===t&&(t=kr),void 0===n&&(n=!1),{factory:e,value:t,multi:n?[]:void 0}}function Ir(e,t){e.forEach(function(e){return Array.isArray(e)?Ir(e,t):t(e)})}function Br(e){return"function"==typeof e}var Lr={provide:rr,useFactory:function(){return new wr},deps:[]},Fr=function(e){function t(t,n){var r=e.call(this)||this;return r._bootstrapComponents=[],r.destroyCbs=[],r._bootstrapComponents=(t[xe]||null).bootstrap,r.injector=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),t=t||Pr(),new Mr(e,n,t)}(t,n,[Lr,{provide:ar,useValue:r}]),r.instance=r.injector.get(t),r.componentFactoryResolver=new wr,r}return i(t,e),t.prototype.destroy=function(){this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null},t.prototype.onDestroy=function(e){this.destroyCbs.push(e)},t}(ar);!function(e){function t(t){var n=e.call(this)||this;return n.moduleType=t,n}i(t,e),t.prototype.create=function(e){return new Fr(this.moduleType,e)}}(sr);var zr=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.__isAsync=t,n}return i(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,n,r){var i,o=function(e){return null},a=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(o=this.__isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var s=e.prototype.subscribe.call(this,i,o,a);return t instanceof w&&t.add(s),s},t}(F),Vr=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return pr(e,mr)},e}(),Ur=!0,Hr=!1;function $r(){return Hr=!0,Ur}var Wr=function(){function e(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return e.prototype.getInertBodyElement_XHR=function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n},e.prototype.getInertBodyElement_DOMParser=function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}},e.prototype.getInertBodyElement_InertDocument=function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},e.prototype.stripCustomNsAttrs=function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},e}(),Gr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,qr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Kr(e){return(e=String(e)).match(Gr)||e.match(qr)?e:($r()&&console.warn("WARNING: sanitizing unsafe URL value "+e+" (see http://g.co/ng/security#xss)"),"unsafe:"+e)}function Zr(e){var t,n,r={};try{for(var i=c(e.split(",")),o=i.next();!o.done;o=i.next())r[o.value]=!0}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Xr(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i={};try{for(var o=c(n),a=o.next();!a.done;a=o.next()){var s=a.value;for(var u in s)s.hasOwnProperty(u)&&(i[u]=!0)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return i}var Yr,Qr=Zr("area,br,col,hr,img,wbr"),Jr=Zr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ei=Zr("rp,rt"),ti=Xr(ei,Jr),ni=Xr(Qr,Xr(Jr,Zr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xr(ei,Zr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ti),ri=Zr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ii=Zr("srcset"),oi=Xr(ri,ii,Zr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),ai=function(){function e(){this.sanitizedSomething=!1,this.buf=[]}return e.prototype.sanitizeChildren=function(e){for(var t=e.firstChild;t;)if(t.nodeType===Node.ELEMENT_NODE?this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var n=this.checkClobberedElement(t,t.nextSibling);if(n){t=n;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")},e.prototype.startElement=function(e){var t=e.nodeName.toLowerCase();if(ni.hasOwnProperty(t)){this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(oi.hasOwnProperty(s)){var c=o.value;ri[s]&&(c=Kr(c)),ii[s]&&(n=c,c=(n=String(n)).split(",").map(function(e){return Kr(e.trim())}).join(", ")),this.buf.push(" ",a,'="',ui(c),'"')}else this.sanitizedSomething=!0}this.buf.push(">")}else this.sanitizedSomething=!0},e.prototype.endElement=function(e){var t=e.nodeName.toLowerCase();ni.hasOwnProperty(t)&&!Qr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))},e.prototype.chars=function(e){this.buf.push(ui(e))},e.prototype.checkClobberedElement=function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t},e}(),si=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ci=/([^\#-~ |!])/g;function ui(e){return e.replace(/&/g,"&amp;").replace(si,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(ci,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function li(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var pi=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({}),hi=function(){return function(){}}(),fi=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),di=/^url\(([^)]+)\)$/;String,String;var mi=Pe("Input",function(e){return{bindingPropertyName:e}},void 0,function(e){return function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=e.constructor;i.hasOwnProperty(Ee)||function(e){var t=e.constructor,n=t.ngBaseDef,r=t.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(ge(r.inputs,n.inputs),ge(r.outputs,n.outputs),ge(r.declaredInputs,n.declaredInputs))}(e),(function(e){return e.inputs||{}}(i.ngBaseDef))[t]=n[0]}}()),yi=Pe("HostBinding",function(e){return{hostPropertyName:e}}),vi=new(function(){return function(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}())("7.0.4"),gi="ngDebugContext",bi="ngOriginalError",wi="ngErrorLogger";function _i(e){return e[gi]}function xi(e){return e[bi]}function Ei(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e.error.apply(e,l(t))}var Oi=function(){function e(){this._console=console}return e.prototype.handleError=function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[wi]||Ei}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)},e.prototype._findContext=function(e){return e?_i(e)?_i(e):this._findContext(xi(e)):null},e.prototype._findOriginalError=function(e){for(var t=xi(e);t&&xi(t);)t=xi(t);return t},e}();function ji(e){return!!e&&"function"==typeof e.then}function Si(e){return!!e&&"function"==typeof e.subscribe}var Ci=new Ce("Application Initializer"),ki=function(){function e(e){var t=this;this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return e.prototype.runInitializers=function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();ji(i)&&t.push(i)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}},e}(),Ti=new Ce("AppId");function Ai(){return""+Ri()+Ri()+Ri()}function Ri(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Pi=new Ce("Platform Initializer"),Mi=new Ce("Platform ID"),Di=new Ce("appBootstrapListener"),Ni=function(){function e(){}return e.prototype.log=function(e){console.log(e)},e.prototype.warn=function(e){console.warn(e)},e}();function Ii(){throw new Error("Runtime compiler is not loaded")}var Bi,Li,Fi=function(){function e(){}return e.prototype.compileModuleSync=function(e){throw Ii()},e.prototype.compileModuleAsync=function(e){throw Ii()},e.prototype.compileModuleAndAllComponentsSync=function(e){throw Ii()},e.prototype.compileModuleAndAllComponentsAsync=function(e){throw Ii()},e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(e){},e.prototype.getModuleId=function(e){},e}(),zi=function(){return function(){}}();function Vi(){var e=Ie.wtf;return!(!e||!(Bi=e.trace)||(Li=Bi.events,0))}var Ui=Vi();function Hi(e,t){return null}var $i=Ui?function(e,t){return void 0===t&&(t=null),Li.createScope(e,t)}:function(e,t){return Hi},Wi=Ui?function(e,t){return Bi.leaveScope(e,t),t}:function(e,t){return t},Gi=function(){function e(e){var t,n=e.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zr(!1),this.onMicrotaskEmpty=new zr(!1),this.onStable=new zr(!1),this.onError=new zr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,i,o,a){try{return Xi(t),e.invokeTask(r,i,o,a)}finally{Yi(t)}},onInvoke:function(e,n,r,i,o,a,s){try{return Xi(t),e.invoke(r,i,o,a,s)}finally{Yi(t)}},onHasTask:function(e,n,r,i){e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,Zi(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,n,r,i){return e.handleError(r,i),t.runOutsideAngular(function(){return t.onError.emit(i)}),!1}})}return e.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},e.assertInAngularZone=function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},e.assertNotInAngularZone=function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},e.prototype.run=function(e,t,n){return this._inner.run(e,t,n)},e.prototype.runTask=function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Ki,qi,qi);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}},e.prototype.runGuarded=function(e,t,n){return this._inner.runGuarded(e,t,n)},e.prototype.runOutsideAngular=function(e){return this._outer.run(e)},e}();function qi(){}var Ki={};function Zi(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Xi(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Yi(e){e._nesting--,Zi(e)}var Qi,Ji=function(){function e(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zr,this.onMicrotaskEmpty=new zr,this.onStable=new zr,this.onError=new zr}return e.prototype.run=function(e){return e()},e.prototype.runGuarded=function(e){return e()},e.prototype.runOutsideAngular=function(e){return e()},e.prototype.runTask=function(e){return e()},e}(),eo=function(){function e(e){var t=this;this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents(),e.run(function(){t.taskTrackingZone=Zone.current.get("TaskTrackingZone")})}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Gi.assertNotInAngularZone(),ze(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;if(this.isStable())ze(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}},e.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]},e.prototype.addCallback=function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})},e.prototype.whenStable=function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findProviders=function(e,t,n){return[]},e}(),to=function(){function e(){this._applications=new Map,no.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.unregisterApplication=function(e){this._applications.delete(e)},e.prototype.unregisterAllApplications=function(){this._applications.clear()},e.prototype.getTestability=function(e){return this._applications.get(e)||null},e.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},e.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),no.findTestabilityInTree(this,e,t)},a([s("design:paramtypes",[])],e)}(),no=new(function(){function e(){}return e.prototype.addToWindow=function(e){},e.prototype.findTestabilityInTree=function(e,t,n){return null},e}()),ro=new Ce("AllowMultipleToken"),io=function(){return function(e,t){this.name=e,this.token=t}}();function oo(e,t,n){void 0===n&&(n=[]);var r="Platform: "+t,i=new Ce(r);return function(t){void 0===t&&(t=[]);var o=ao();if(!o||o.injector.get(ro,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(Qi&&!Qi.destroyed&&!Qi.injector.get(ro,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Qi=e.get(so);var t=e.get(Pi,null);t&&t.forEach(function(e){return e()})}(et.create({providers:a,name:r}))}return function(e){var t=ao();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function ao(){return Qi&&!Qi.destroyed?Qi:null}var so=function(){function e(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return e.prototype.bootstrapModuleFactory=function(e,t){var n,r=this,i="noop"===(n=t?t.ngZone:void 0)?new Ji:("zone.js"===n?void 0:n)||new Gi({enableLongStackTrace:$r()}),o=[{provide:Gi,useValue:i}];return i.run(function(){var t=et.create({providers:o,parent:r.injector,name:e.moduleType.name}),n=e.create(t),a=n.injector.get(Oi,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return lo(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(e){a.handleError(e)}})}),function(e,t,i){try{var o=((a=n.injector.get(ki)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return ji(o)?o.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):o}catch(s){throw t.runOutsideAngular(function(){return e.handleError(s)}),s}var a}(a,i)})},e.prototype.bootstrapModule=function(e,t){var n=this;void 0===t&&(t=[]);var r=co({},t);return function(e,t,n){return e.get(zi).createCompiler([t]).compileModuleAsync(n)}(this.injector,r,e).then(function(e){return n.bootstrapModuleFactory(e,r)})},e.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(uo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module "+Ue(e.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');e.instance.ngDoBootstrap(t)}this._modules.push(e)},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e}();function co(e,t){return Array.isArray(t)?t.reduce(co,e):o({},e,t)}var uo=function(){function e(e,t,n,r,i,o){var a=this;this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=$r(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new M(function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){e.next(a._stable),e.complete()})}),c=new M(function(e){var t;a._zone.runOutsideAngular(function(){t=a._zone.onStable.subscribe(function(){Gi.assertNotInAngularZone(),ze(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Gi.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,i=e[e.length-1];return V(i)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof i&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof M?e[0]:ue(n)(re(e,r))}(s,c.pipe(function(e){return le()((t=ye,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,de);return r.source=e,r.subjectFactory=n,r})(e));var t}))}var t;return t=e,e.prototype.bootstrap=function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Qn?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n instanceof or?null:this._injector.get(ar),o=n.create(et.NULL,[],t||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(eo,null);return a&&o.injector.get(to).registerApplication(o.location.nativeElement,a),this._loadComponent(o),$r()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},e.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(e){return e.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,Wi(n)}},e.prototype.attachView=function(e){var t=e;this._views.push(t),t.attachToAppRef(this)},e.prototype.detachView=function(e){var t=e;lo(this._views,t),t.detachFromAppRef()},e.prototype._loadComponent=function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Di,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})},e.prototype._unloadComponent=function(e){this.detachView(e.hostView),lo(this.components,e)},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(e){return e.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),e._tickScope=$i("ApplicationRef#tick()"),e}();function lo(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var po=function(){return function(){}}(),ho=function(){function e(){this.dirty=!0,this._results=[],this.changes=new zr,this.length=0}return e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.find=function(e){return this._results.find(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype[Fe()]=function(){return this._results[Fe()]()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=function e(t){return t.reduce(function(t,n){var r=Array.isArray(n)?e(n):n;return t.concat(r)},[])}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},e.prototype.notifyOnChanges=function(){this.changes.emit(this)},e.prototype.setDirty=function(){this.dirty=!0},e.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},e}(),fo=function(){return function(){}}(),mo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},yo=function(){function e(e,t){this._compiler=e,this._config=t||mo}return e.prototype.load=function(e){return this._compiler instanceof Fi?this.loadFactory(e):this.loadAndCompile(e)},e.prototype.loadAndCompile=function(e){var t=this,r=u(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("crnd")(i).then(function(e){return e[o]}).then(function(e){return vo(e,i,o)}).then(function(e){return t._compiler.compileModuleAsync(e)})},e.prototype.loadFactory=function(e){var t=u(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("crnd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[i+o]}).then(function(e){return vo(e,r,i)})},e}();function vo(e,t,n){if(!e)throw new Error("Cannot find '"+n+"' in '"+t+"'");return e}var go,bo=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return fr(e,mr)},e}(),wo=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return hr()},e}(),_o=(i(function(){return null!==go&&go.apply(this,arguments)||this},go=wo),function(){return function(e,t){this.name=e,this.callback=t}}()),xo=function(){function e(e,t,n){this.nativeNode=e,this._debugContext=n,this.listeners=[],this.parent=null,t&&t instanceof Eo&&t.addChild(this)}return Object.defineProperty(e.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),e}(),Eo=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=t,i}return i(t,e),t.prototype.addChild=function(e){e&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var n,r=this,i=this.childNodes.indexOf(e);-1!==i&&((n=this.childNodes).splice.apply(n,l([i+1,0],t)),t.forEach(function(e){e.parent&&e.parent.removeChild(e),e.parent=r}))},t.prototype.insertBefore=function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))},t.prototype.query=function(e){return this.queryAll(e)[0]||null},t.prototype.queryAll=function(e){var t=[];return function e(t,n,r){t.childNodes.forEach(function(t){t instanceof Eo&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return function e(t,n,r){t instanceof Eo&&t.childNodes.forEach(function(t){n(t)&&r.push(t),t instanceof Eo&&e(t,n,r)})}(this,e,t),t},Object.defineProperty(t.prototype,"children",{get:function(){return this.childNodes.filter(function(e){return e instanceof t})},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(n){n.name==e&&n.callback(t)})},t}(xo),Oo=new Map;function jo(e){return Oo.get(e)||null}function So(e){Oo.set(e.nativeNode,e)}var Co=function(){function e(){}return e.prototype.supports=function(e){return Lt(e)},e.prototype.create=function(e){return new To(e)},e}(),ko=function(e,t){return t},To=function(){function e(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ko}return e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Mo(n,r,i)?t:n,a=Mo(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var c=a-r,u=s-r;if(c!=u){for(var l=0;l<c;l++){var p=l<i.length?i[l]:i[l]=0,h=p+l;u<=h&&h<c&&(i[l]=p+1)}i[o.previousIndex]=u-c}}a!==s&&e(o,a,s)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(null==e&&(e=[]),!Lt(e))throw new Error("Error trying to diff '"+Ue(e)+"'. Only arrays and iterables are allowed");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=e[s]),null!==o&&Ve(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Ve(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r=e[Fe()](),i=void 0;!(i=r.next()).done;)t(i.value)}(e,function(e){i=t._trackByFn(n,e),null!==o&&Ve(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Ve(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty},Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e=void 0,t=void 0;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ve(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ve(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Ao(t,n),i,r),e},e.prototype._verifyReinsertion=function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._moveAfter=function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._addAfter=function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Po),this._linkedRecords.put(e),e.currentIndex=n,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Po),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e},e}(),Ao=function(){return function(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Ro=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Ve(n.trackById,e))return n;return null},e.prototype.remove=function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head},e}(),Po=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Ro,this.map.set(t,n)),n.add(e)},e.prototype.get=function(e,t){var n=this.map.get(e);return n?n.get(e,t):null},e.prototype.remove=function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e}();function Mo(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Do=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||Ft(e)},e.prototype.create=function(){return new No},e}(),No=function(){function e(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(e){if(!(e instanceof Map||Ft(e)))throw new Error("Error trying to diff '"+Ue(e)+"'. Only maps and objects are allowed")}else e=new Map;return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},e.prototype._insertBeforeOrAppend=function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null},e.prototype._getOrCreateRecordForKey=function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Io(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o},e.prototype._reset=function(){if(this.isDirty){var e=void 0;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},e.prototype._maybeAddToChanges=function(e,t){Ve(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})},e}(),Io=function(){return function(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Bo=function(){function e(e){this.factories=e}return e.create=function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Ke,new Ge]]}},e.prototype.find=function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'")},e.ngInjectableDef=Oe({providedIn:"root",factory:function(){return new e([new Co])}}),e}(),Lo=function(){function e(e){this.factories=e}return e.create=function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Ke,new Ge]]}},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '"+e+"'")},e}(),Fo=[new Do],zo=new Bo([new Co]),Vo=new Lo(Fo),Uo=oo(null,"core",[{provide:Mi,useValue:"unknown"},{provide:so,deps:[et]},{provide:to,deps:[]},{provide:Ni,deps:[]}]),Ho=new Ce("LocaleId");function $o(){return zo}function Wo(){return Vo}function Go(e){return e||"en-US"}var qo=function(){return function(e){}}();function Ko(e,t,n){var r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function Zo(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Xo(e,t){return e.nodes[t]}function Yo(e,t){return e.nodes[t]}function Qo(e,t){return e.nodes[t]}function Jo(e,t){return e.nodes[t]}function ea(e,t){return e.nodes[t]}var ta={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function na(e,t,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return ra(n,t),n}(i,e)}function ra(e,t){e[gi]=t,e[wi]=t.logError.bind(t)}function ia(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}var oa=function(){},aa=new Map;function sa(e){var t=aa.get(e);return t||(t=Ue(e)+"_"+aa.size,aa.set(e,t)),t}var ca="$$undefined",ua="$$empty";function la(e){return{id:ca,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var pa=0;function ha(e,t,n,r){return!(!(2&e.state)&&Ve(e.oldValues[t.bindingIndex+n],r))}function fa(e,t,n,r){return!!ha(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function da(e,t,n,r){var i=e.oldValues[t.bindingIndex+n];if(1&e.state||!Nt(i,r)){var o=t.bindings[n].name;throw na(ta.createDebugContext(e,t.nodeIndex),o+": "+i,o+": "+r,0!=(1&e.state))}}function ma(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function ya(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function va(e,t,n,r){try{return ma(33554432&e.def.nodes[t].flags?Yo(e,t).componentView:e),ta.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function ga(e){return e.parent?Yo(e.parent,e.parentNodeDef.nodeIndex):null}function ba(e){return e.parent?e.parentNodeDef.parent:null}function wa(e,t){switch(201347067&t.flags){case 1:return Yo(e,t.nodeIndex).renderElement;case 2:return Xo(e,t.nodeIndex).renderText}}function _a(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function xa(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Ea(e){var t={},n=0,r={};return e&&e.forEach(function(e){var i=u(e,2),o=i[0],a=i[1];"number"==typeof o?(t[o]=a,n|=function(e){return 1<<e%32}(o)):r[o]=a}),{matchedQueries:t,references:r,matchedQueryIds:n}}function Oa(e,t){return e.map(function(e){var n,r,i;return Array.isArray(e)?(i=(n=u(e,2))[0],r=n[1]):(i=0,r=e),r&&("function"==typeof r||"object"==typeof r)&&t&&Object.defineProperty(r,Ze,{value:t,configurable:!0}),{flags:i,token:r,tokenKey:sa(r)}})}function ja(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===vt.Native?Yo(e,n.renderParent.nodeIndex).renderElement:void 0:t}var Sa=new WeakMap;function Ca(e){var t=Sa.get(e);return t||((t=e(function(){return oa})).factory=e,Sa.set(e,t)),t}function ka(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(wa(e,e.def.lastRenderRootNode))),Ta(e,t,0,e.def.nodes.length-1,n,r,i)}function Ta(e,t,n,r,i,o,a){for(var s=n;s<=r;s++){var c=e.def.nodes[s];11&c.flags&&Ra(e,c,t,i,o,a),s+=c.childCount}}function Aa(e,t,n,r,i,o){for(var a=e;a&&!_a(a);)a=a.parent;for(var s=a.parent,c=ba(a),u=c.nodeIndex+c.childCount,l=c.nodeIndex+1;l<=u;l++){var p=s.def.nodes[l];p.ngContentIndex===t&&Ra(s,p,n,r,i,o),l+=p.childCount}if(!s.parent){var h=e.root.projectableNodes[t];if(h)for(l=0;l<h.length;l++)Pa(e,h[l],n,r,i,o)}}function Ra(e,t,n,r,i,o){if(8&t.flags)Aa(e,t.ngContent.index,n,r,i,o);else{var a=wa(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Pa(e,a,n,r,i,o),32&t.bindingFlags&&Pa(Yo(e,t.nodeIndex).componentView,a,n,r,i,o)):Pa(e,a,n,r,i,o),16777216&t.flags)for(var s=Yo(e,t.nodeIndex).viewContainer._embeddedViews,c=0;c<s.length;c++)ka(s[c],n,r,i,o);1&t.flags&&!t.element.name&&Ta(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Pa(e,t,n,r,i,o){var a=e.renderer;switch(n){case 1:a.appendChild(r,t);break;case 2:a.insertBefore(r,t,i);break;case 3:a.removeChild(r,t);break;case 0:o.push(t)}}var Ma=/^:([^:]+):(.+)$/;function Da(e){if(":"===e[0]){var t=e.match(Ma);return[t[1],t[2]]}return["",e]}function Na(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function Ia(e,t,n,r,i,o,a,s,c,l,p,h){var f;void 0===a&&(a=[]),l||(l=oa);var d=Ea(n),m=d.matchedQueries,y=d.references,v=d.matchedQueryIds,g=null,b=null;o&&(g=(f=u(Da(o),2))[0],b=f[1]),s=s||[];for(var w=new Array(s.length),_=0;_<s.length;_++){var x=u(s[_],3),E=x[0],O=x[2],j=u(Da(x[1]),2),S=j[0],C=j[1],k=void 0,T=void 0;switch(15&E){case 4:T=O;break;case 1:case 8:k=O}w[_]={flags:E,ns:S,name:C,nonMinifiedName:C,securityContext:k,suffix:T}}c=c||[];var A=new Array(c.length);for(_=0;_<c.length;_++){var R=u(c[_],2);A[_]={type:0,target:R[0],eventName:R[1],propName:null}}var P=(a=a||[]).map(function(e){var t=u(e,2),n=t[1],r=u(Da(t[0]),2);return[r[0],r[1],n]});return h=function(e){if(e&&e.id===ca){var t=null!=e.encapsulation&&e.encapsulation!==vt.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+pa++:ua}return e&&e.id===ua&&(e=null),e||null}(h),p&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:m,matchedQueryIds:v,references:y,ngContentIndex:r,childCount:i,bindings:w,bindingFlags:Na(w),outputs:A,element:{ns:g,name:b,attrs:P,template:null,componentProvider:null,componentView:p||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:l||oa},provider:null,text:null,query:null,ngContent:null}}function Ba(e,t,n){var r,i=n.element,o=e.root.selectorOrNode,a=e.renderer;if(e.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=ja(e,t,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===vt.ShadowDom);if(i.attrs)for(var c=0;c<i.attrs.length;c++){var l=u(i.attrs[c],3);a.setAttribute(r,l[1],l[2],l[0])}return r}function La(e,t,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=Fa(e,n.nodeIndex,(p=o.eventName,(l=o.target)?l+":"+p:p)),s=o.target,c=e;"component"===o.target&&(s=null,c=t);var u=c.renderer.listen(s||r,o.eventName,a);e.disposables[n.outputIndex+i]=u}var l,p}function Fa(e,t,n){return function(r){return va(e,t,n,r)}}function za(e,t,n,r){if(!fa(e,t,n,r))return!1;var i=t.bindings[n],o=Yo(e,t.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){var a=t.securityContext,s=a?e.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var c=e.renderer;null!=o?c.setAttribute(n,i,s,r):c.removeAttribute(n,i,r)}(e,i,a,i.ns,s,r);break;case 2:!function(e,t,n,r){var i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,a,s,r);break;case 4:!function(e,t,n,r,i){var o=e.root.sanitizer.sanitize(pi.STYLE,i);if(null!=o){o=o.toString();var a=t.suffix;null!=a&&(o+=a)}else o=null;var s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,a,s,r);break;case 8:!function(e,t,n,r,i){var o=t.securityContext,a=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,a)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,a,s,r)}return!0}var Va=new Object,Ua=sa(et),Ha=sa(Qe),$a=sa(ar);function Wa(e,t,n,r){return n=$e(n),{index:-1,deps:Oa(r,Ue(t)),flags:e,token:t,value:n}}function Ga(e,t,n){void 0===n&&(n=et.THROW_IF_NOT_FOUND);var r,i,o=dt(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);var a=t.tokenKey;switch(a){case Ua:case Ha:case $a:return e}var s,c=e._def.providersByKey[a];if(c){var u=e._providers[c.index];return void 0===u&&(u=e._providers[c.index]=qa(e,c)),u===Va?void 0:u}if((s=je(t.token))&&(r=e,null!=(i=s).providedIn&&(function(e,t){return e._def.modules.indexOf(i.providedIn)>-1}(r)||"root"===i.providedIn&&r._def.isRoot))){var l=e._providers.length;return e._def.providersByKey[t.tokenKey]={flags:5120,value:s.factory,deps:[],index:l,token:t.token},e._providers[l]=Va,e._providers[l]=qa(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{dt(o)}}function qa(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(Ga(e,n[0]));case 2:return new t(Ga(e,n[0]),Ga(e,n[1]));case 3:return new t(Ga(e,n[0]),Ga(e,n[1]),Ga(e,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Ga(e,n[o]);return new(t.bind.apply(t,l([void 0],i)))}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(Ga(e,n[0]));case 2:return t(Ga(e,n[0]),Ga(e,n[1]));case 3:return t(Ga(e,n[0]),Ga(e,n[1]),Ga(e,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Ga(e,n[o]);return t.apply(void 0,l(i))}}(e,t.value,t.deps);break;case 2048:n=Ga(e,t.deps[0]);break;case 256:n=t.value}return n===Va||null==n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Va:n}function Ka(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,Qa(n,t),ta.dirtyParentQueries(r),Xa(r),r}function Za(e,t,n){var r=t?wa(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);ka(n,2,i,o,void 0)}function Xa(e){ka(e,3,null,null,void 0)}function Ya(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Qa(e,t){t>=e.length-1?e.pop():e.splice(t,1)}var Ja=new Object;function es(e,t,n,r,i,o){return new ts(e,t,n,r,i,o)}var ts=function(e){function t(t,n,r,i,o,a){var s=e.call(this)||this;return s.selector=t,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return i(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var i=Ca(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=ta.createRootView(e,t||[],n,i,r,Ja),s=Qo(a,o).instance;return n&&a.renderer.setAttribute(Yo(a,0).renderElement,"ng-version",vi.full),new ns(a,new as(a),s)},t}(Qn),ns=function(e){function t(t,n,r){var i=e.call(this)||this;return i._view=t,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return i(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return new mr(Yo(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new ls(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewRef.destroy()},t.prototype.onDestroy=function(e){this._viewRef.onDestroy(e)},t}(Yn);function rs(e,t,n){return new is(e,t,n)}var is=function(){function e(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}return Object.defineProperty(e.prototype,"element",{get:function(){return new mr(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new ls(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=ba(e),e=e.parent;return e?new ls(e,t):new ls(this._view,null)},enumerable:!0,configurable:!0}),e.prototype.clear=function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Ka(this._data,e);ta.destroyView(t)}},e.prototype.get=function(e){var t=this._embeddedViews[e];if(t){var n=new as(t);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(e.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r},e.prototype.createComponent=function(e,t,n,r,i){var o=n||this.parentInjector;i||e instanceof or||(i=o.get(ar));var a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a},e.prototype.insert=function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=e;return o=(n=this._data).viewContainer._embeddedViews,null==(r=t)&&(r=o.length),(i=a._view).viewContainerParent=this._view,Ya(o,r,i),function(e,t){var n=ga(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,n){if(!(4&n.flags)){t.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,t.parentNodeDef)}}(n,i),ta.dirtyParentQueries(i),Za(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),e},e.prototype.move=function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(e._view);return i=t,a=(o=(n=this._data).viewContainer._embeddedViews)[r=s],Qa(o,r),null==i&&(i=o.length),Ya(o,i,a),ta.dirtyParentQueries(a),Xa(a),Za(n,i>0?o[i-1]:null,a),e},e.prototype.indexOf=function(e){return this._embeddedViews.indexOf(e._view)},e.prototype.remove=function(e){var t=Ka(this._data,e);t&&ta.destroyView(t)},e.prototype.detach=function(e){var t=Ka(this._data,e);return t?new as(t):null},e}();function os(e){return new as(e)}var as=function(){function e(e){this._view=e,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){return ka(this._view,0,void 0,void 0,e=[]),e;var e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){ma(this._view)},e.prototype.detach=function(){this._view.state&=-5},e.prototype.detectChanges=function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{ta.checkAndUpdateView(this._view)}finally{e.end&&e.end()}},e.prototype.checkNoChanges=function(){ta.checkNoChangesView(this._view)},e.prototype.reattach=function(){this._view.state|=4},e.prototype.onDestroy=function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)},e.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ta.destroyView(this._view)},e.prototype.detachFromAppRef=function(){this._appRef=null,Xa(this._view),ta.dirtyParentQueries(this._view)},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e}();function ss(e,t){return new cs(e,t)}var cs=function(e){function t(t,n){var r=e.call(this)||this;return r._parentView=t,r._def=n,r}return i(t,e),t.prototype.createEmbeddedView=function(e){return new as(ta.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))},Object.defineProperty(t.prototype,"elementRef",{get:function(){return new mr(Yo(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),t}(Vr);function us(e,t){return new ls(e,t)}var ls=function(){function e(e,t){this.view=e,this.elDef=t}return e.prototype.get=function(e,t){return void 0===t&&(t=et.THROW_IF_NOT_FOUND),ta.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:sa(e)},t)},e}();function ps(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=Yo(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Xo(e,n.nodeIndex).renderText;if(20240&n.flags)return Qo(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function hs(e){return new fs(e.renderer)}var fs=function(){function e(e){this.delegate=e}return e.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},e.prototype.createElement=function(e,t){var n=u(Da(t),2),r=this.delegate.createElement(n[1],n[0]);return e&&this.delegate.appendChild(e,r),r},e.prototype.createViewRoot=function(e){return e},e.prototype.createTemplateAnchor=function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t},e.prototype.createText=function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n},e.prototype.projectNodes=function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])},e.prototype.attachViewAfter=function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},e.prototype.destroyView=function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])},e.prototype.listen=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.listenGlobal=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.setElementProperty=function(e,t,n){this.delegate.setProperty(e,t,n)},e.prototype.setElementAttribute=function(e,t,n){var r=u(Da(t),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(e,o,n,i):this.delegate.removeAttribute(e,o,i)},e.prototype.setBindingDebugInfo=function(e,t,n){},e.prototype.setElementClass=function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)},e.prototype.setElementStyle=function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,n){e[t].apply(e,n)},e.prototype.setText=function(e,t){this.delegate.setValue(e,t)},e.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},e}();function ds(e,t,n,r){return new ms(e,t,n,r)}var ms=function(){function e(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=qa(e,i))}}(this)}return e.prototype.get=function(e,t,n){void 0===t&&(t=et.THROW_IF_NOT_FOUND),void 0===n&&(n=0);var r=0;return 4&n?r|=1:2&n&&(r|=4),Ga(this,{token:e,tokenKey:sa(e),flags:r},t)},Object.defineProperty(e.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(rr)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+Ue(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=e._providers[i];if(o&&o!==Va){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(e){return e()})},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},e}(),ys=sa(yr),vs=sa(br),gs=sa(mr),bs=sa(bo),ws=sa(Vr),_s=sa(wo),xs=sa(et),Es=sa(Qe);function Os(e,t,n,r,i,o,a,s){var c=[];if(a)for(var l in a){var p=u(a[l],2);c[p[0]]={flags:8,name:l,nonMinifiedName:p[1],ns:null,securityContext:null,suffix:null}}var h=[];if(s)for(var f in s)h.push({type:1,propName:f,target:null,eventName:s[f]});return function(e,t,n,r,i,o,a,s,c){var u=Ea(n),l=u.matchedQueries,p=u.references,h=u.matchedQueryIds;c||(c=[]),s||(s=[]),o=$e(o);var f=Oa(a,Ue(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:h,references:p,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Na(s),outputs:c,element:null,provider:{token:i,value:o,deps:f},text:null,query:null,ngContent:null}}(e,t|=16384,n,r,i,i,o,c,h)}function js(e,t){return Ts(e,t)}function Ss(e,t){for(var n=e;n.parent&&!_a(n);)n=n.parent;return As(n.parent,ba(n),!0,t.provider.value,t.provider.deps)}function Cs(e,t){var n=As(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var i=t.outputs[r],o=n[i.propName];if(!Si(o))throw new Error("@Output "+i.propName+" not initialized in '"+n.constructor.name+"'.");var a=o.subscribe(ks(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=a.unsubscribe.bind(a)}return n}function ks(e,t,n){return function(r){return va(e,t,n,r)}}function Ts(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return As(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(Ps(e,t,n,i[0]));case 2:return r(Ps(e,t,n,i[0]),Ps(e,t,n,i[1]));case 3:return r(Ps(e,t,n,i[0]),Ps(e,t,n,i[1]),Ps(e,t,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=Ps(e,t,n,i[s]);return r.apply(void 0,l(a))}}(e,t.parent,n,r.value,r.deps);case 2048:return Ps(e,t.parent,n,r.deps[0]);case 256:return r.value}}function As(e,t,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(Ps(e,t,n,i[0]));case 2:return new r(Ps(e,t,n,i[0]),Ps(e,t,n,i[1]));case 3:return new r(Ps(e,t,n,i[0]),Ps(e,t,n,i[1]),Ps(e,t,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=Ps(e,t,n,i[s]);return new(r.bind.apply(r,l([void 0],a)))}}var Rs={};function Ps(e,t,n,r,i){if(void 0===i&&(i=et.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=e;2&r.flags&&(i=null);var a=r.tokenKey;a===_s&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var s=e;s;){if(t)switch(a){case ys:return hs(Ms(s,t,n));case vs:return Ms(s,t,n).renderer;case gs:return new mr(Yo(s,t.nodeIndex).renderElement);case bs:return Yo(s,t.nodeIndex).viewContainer;case ws:if(t.element.template)return Yo(s,t.nodeIndex).template;break;case _s:return os(Ms(s,t,n));case xs:case Es:return us(s,t);default:var c=(n?t.element.allProviders:t.element.publicProviders)[a];if(c){var u=Qo(s,c.nodeIndex);return u||(u={instance:Ts(s,c)},s.nodes[c.nodeIndex]=u),u.instance}}n=_a(s),t=ba(s),s=s.parent,4&r.flags&&(s=null)}var l=o.root.injector.get(r.token,Rs);return l!==Rs||i===Rs?l:o.root.ngModule.injector.get(r.token,i)}function Ms(e,t,n){var r;if(n)r=Yo(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!_a(r);)r=r.parent;return r}function Ds(e,t,n,r,i,o){if(32768&n.flags){var a=Yo(e,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=It.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Bt(s,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function Ns(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&t&&Bs(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&t&&(r=Is(e,a,t,r)),a=a.parent}}function Is(e,t,n,r){for(var i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){var o=e.def.nodes[i];o.flags&n&&Bs(e,i,o.flags&n,r++),i+=o.childCount}return r}function Bs(e,t,n,r){var i=Qo(e,t);if(i){var o=i.instance;o&&(ta.setCurrentNode(e,t),1048576&n&&Zo(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Zo(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function Ls(e){for(var t=e.def.nodeMatchedQueries;e.parent&&xa(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=e.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&t)===o.query.filterId&&ea(e,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&e.def.nodeFlags)for(i=0;i<e.def.nodes.length;i++){var o;134217728&(o=e.def.nodes[i]).flags&&536870912&o.flags&&ea(e,i).setDirty(),i+=o.childCount}}function Fs(e,t){var n=ea(e,t.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&t.flags){var o=t.parent.parent;i=zs(e,o.nodeIndex,o.nodeIndex+o.childCount,t.query,[]),r=Qo(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=zs(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);for(var a=t.query.bindings,s=!1,c=0;c<a.length;c++){var u=a[c],l=void 0;switch(u.bindingType){case 0:l=n.first;break;case 1:l=n,s=!0}r[u.propName]=l}s&&n.notifyOnChanges()}}function zs(e,t,n,r,i){for(var o=t;o<=n;o++){var a=e.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(Vs(e,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var c=Yo(e,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(zs(e,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var u=c.viewContainer._embeddedViews,l=0;l<u.length;l++){var p=u[l],h=ga(p);h&&h===c&&zs(p,0,p.def.nodes.length-1,r,i)}var f=c.template._projectedViews;if(f)for(l=0;l<f.length;l++){var d=f[l];zs(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function Vs(e,t,n){if(null!=n)switch(n){case 1:return Yo(e,t.nodeIndex).renderElement;case 0:return new mr(Yo(e,t.nodeIndex).renderElement);case 2:return Yo(e,t.nodeIndex).template;case 3:return Yo(e,t.nodeIndex).viewContainer;case 4:return Qo(e,t.nodeIndex).instance}}function Us(e,t,n){var r=ja(e,t,n);r&&Aa(e,n.ngContent.index,1,r,null,void 0)}function Hs(e,t,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function $s(e,t,n){var r,i=e.renderer;r=i.createText(n.text.prefix);var o=ja(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function Ws(e,t){return(null!=e?e.toString():"")+t.suffix}function Gs(e,t,n,r){for(var i=0,o=0,a=0,s=0,c=0,u=null,l=null,p=!1,h=!1,f=null,d=0;d<t.length;d++){var m=t[d];if(m.nodeIndex=d,m.parent=u,m.bindingIndex=i,m.outputIndex=o,m.renderParent=l,a|=m.flags,c|=m.matchedQueryIds,m.element){var y=m.element;y.publicProviders=u?u.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,p=!1,h=!1,m.element.template&&(c|=m.element.template.nodeMatchedQueries)}if(Ks(u,m,t.length),i+=m.bindings.length,o+=m.outputs.length,!l&&3&m.flags&&(f=m),20224&m.flags){p||(p=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var v=0!=(32768&m.flags);0==(8192&m.flags)||v?u.element.publicProviders[sa(m.provider.token)]=m:(h||(h=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[sa(m.provider.token)]=m),v&&(u.element.componentProvider=m)}if(u?(u.childFlags|=m.flags,u.directChildFlags|=m.flags,u.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(u.childMatchedQueries|=m.element.template.nodeMatchedQueries)):s|=m.flags,m.childCount>0)u=m,qs(m)||(l=m);else for(;u&&d===u.nodeIndex+u.childCount;){var g=u.parent;g&&(g.childFlags|=u.childFlags,g.childMatchedQueries|=u.childMatchedQueries),l=(u=g)&&qs(u)?u.renderParent:u}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:c,flags:e,nodes:t,updateDirectives:n||oa,updateRenderer:r||oa,handleEvent:function(e,n,r,i){return t[n].element.handleEvent(e,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:f}}function qs(e){return 0!=(1&e.flags)&&null===e.element.name}function Ks(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+t.nodeIndex+"!")}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+t.nodeIndex+"!");if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+t.nodeIndex+"!");if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+t.nodeIndex+"!")}if(t.childCount){var i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+t.nodeIndex+"!")}}function Zs(e,t,n,r){var i=Qs(e.root,e.renderer,e,t,n);return Js(i,e.component,r),ec(i),i}function Xs(e,t,n){var r=Qs(e,e.renderer,null,null,t);return Js(r,n,n),ec(r),r}function Ys(e,t,n,r){var i,o=t.element.componentRendererType;return i=o?e.root.rendererFactory.createRenderer(r,o):e.root.renderer,Qs(e.root,i,e,t.element.componentProvider,n)}function Qs(e,t,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Js(e,t,n){e.component=t,e.context=n}function ec(e){var t;_a(e)&&(t=Yo(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];ta.setCurrentNode(e,i);var a=void 0;switch(201347067&o.flags){case 1:var s=Ba(e,t,o),c=void 0;if(33554432&o.flags){var u=Ca(o.element.componentView);c=ta.createComponentView(e,o,u,s)}La(e,c,o,s),a={renderElement:s,componentView:c,viewContainer:null,template:o.element.template?ss(e,o):void 0},16777216&o.flags&&(a.viewContainer=rs(e,o,a));break;case 2:a=$s(e,t,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:js(e,o)});break;case 16:a={instance:Ss(e,o)};break;case 16384:(a=r[i])||(a={instance:Cs(e,o)}),32768&o.flags&&Js(Yo(e,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new ho;break;case 8:Us(e,t,o),a=void 0}r[i]=a}uc(e,cc.CreateViewNodes),fc(e,201326592,268435456,0)}function tc(e){ic(e),ta.updateDirectives(e,1),lc(e,cc.CheckNoChanges),ta.updateRenderer(e,1),uc(e,cc.CheckNoChanges),e.state&=-97}function nc(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Ko(e,0,256),ic(e),ta.updateDirectives(e,0),lc(e,cc.CheckAndUpdate),fc(e,67108864,536870912,0);var t=Ko(e,256,512);Ns(e,2097152|(t?1048576:0)),ta.updateRenderer(e,0),uc(e,cc.CheckAndUpdate),fc(e,134217728,536870912,0),Ns(e,8388608|((t=Ko(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Ko(e,768,1024)}function rc(e,t,n,r,i,o,a,s,c,u,p,h,f){return 0===n?function(e,t,n,r,i,o,a,s,c,u,l,p){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,a,s,c,u,l,p){var h=t.bindings.length,f=!1;return h>0&&za(e,t,0,n)&&(f=!0),h>1&&za(e,t,1,r)&&(f=!0),h>2&&za(e,t,2,i)&&(f=!0),h>3&&za(e,t,3,o)&&(f=!0),h>4&&za(e,t,4,a)&&(f=!0),h>5&&za(e,t,5,s)&&(f=!0),h>6&&za(e,t,6,c)&&(f=!0),h>7&&za(e,t,7,u)&&(f=!0),h>8&&za(e,t,8,l)&&(f=!0),h>9&&za(e,t,9,p)&&(f=!0),f}(e,t,n,r,i,o,a,s,c,u,l,p);case 2:return function(e,t,n,r,i,o,a,s,c,u,l,p){var h=!1,f=t.bindings,d=f.length;if(d>0&&fa(e,t,0,n)&&(h=!0),d>1&&fa(e,t,1,r)&&(h=!0),d>2&&fa(e,t,2,i)&&(h=!0),d>3&&fa(e,t,3,o)&&(h=!0),d>4&&fa(e,t,4,a)&&(h=!0),d>5&&fa(e,t,5,s)&&(h=!0),d>6&&fa(e,t,6,c)&&(h=!0),d>7&&fa(e,t,7,u)&&(h=!0),d>8&&fa(e,t,8,l)&&(h=!0),d>9&&fa(e,t,9,p)&&(h=!0),h){var m=t.text.prefix;d>0&&(m+=Ws(n,f[0])),d>1&&(m+=Ws(r,f[1])),d>2&&(m+=Ws(i,f[2])),d>3&&(m+=Ws(o,f[3])),d>4&&(m+=Ws(a,f[4])),d>5&&(m+=Ws(s,f[5])),d>6&&(m+=Ws(c,f[6])),d>7&&(m+=Ws(u,f[7])),d>8&&(m+=Ws(l,f[8])),d>9&&(m+=Ws(p,f[9]));var y=Xo(e,t.nodeIndex).renderText;e.renderer.setValue(y,m)}return h}(e,t,n,r,i,o,a,s,c,u,l,p);case 16384:return function(e,t,n,r,i,o,a,s,c,u,l,p){var h=Qo(e,t.nodeIndex),f=h.instance,d=!1,m=void 0,y=t.bindings.length;return y>0&&ha(e,t,0,n)&&(d=!0,m=Ds(e,h,t,0,n,m)),y>1&&ha(e,t,1,r)&&(d=!0,m=Ds(e,h,t,1,r,m)),y>2&&ha(e,t,2,i)&&(d=!0,m=Ds(e,h,t,2,i,m)),y>3&&ha(e,t,3,o)&&(d=!0,m=Ds(e,h,t,3,o,m)),y>4&&ha(e,t,4,a)&&(d=!0,m=Ds(e,h,t,4,a,m)),y>5&&ha(e,t,5,s)&&(d=!0,m=Ds(e,h,t,5,s,m)),y>6&&ha(e,t,6,c)&&(d=!0,m=Ds(e,h,t,6,c,m)),y>7&&ha(e,t,7,u)&&(d=!0,m=Ds(e,h,t,7,u,m)),y>8&&ha(e,t,8,l)&&(d=!0,m=Ds(e,h,t,8,l,m)),y>9&&ha(e,t,9,p)&&(d=!0,m=Ds(e,h,t,9,p,m)),m&&f.ngOnChanges(m),65536&t.flags&&Zo(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),d}(e,t,n,r,i,o,a,s,c,u,l,p);case 32:case 64:case 128:return function(e,t,n,r,i,o,a,s,c,u,l,p){var h=t.bindings,f=!1,d=h.length;if(d>0&&fa(e,t,0,n)&&(f=!0),d>1&&fa(e,t,1,r)&&(f=!0),d>2&&fa(e,t,2,i)&&(f=!0),d>3&&fa(e,t,3,o)&&(f=!0),d>4&&fa(e,t,4,a)&&(f=!0),d>5&&fa(e,t,5,s)&&(f=!0),d>6&&fa(e,t,6,c)&&(f=!0),d>7&&fa(e,t,7,u)&&(f=!0),d>8&&fa(e,t,8,l)&&(f=!0),d>9&&fa(e,t,9,p)&&(f=!0),f){var m=Jo(e,t.nodeIndex),y=void 0;switch(201347067&t.flags){case 32:y=new Array(h.length),d>0&&(y[0]=n),d>1&&(y[1]=r),d>2&&(y[2]=i),d>3&&(y[3]=o),d>4&&(y[4]=a),d>5&&(y[5]=s),d>6&&(y[6]=c),d>7&&(y[7]=u),d>8&&(y[8]=l),d>9&&(y[9]=p);break;case 64:y={},d>0&&(y[h[0].name]=n),d>1&&(y[h[1].name]=r),d>2&&(y[h[2].name]=i),d>3&&(y[h[3].name]=o),d>4&&(y[h[4].name]=a),d>5&&(y[h[5].name]=s),d>6&&(y[h[6].name]=c),d>7&&(y[h[7].name]=u),d>8&&(y[h[8].name]=l),d>9&&(y[h[9].name]=p);break;case 128:var v=n;switch(d){case 1:y=v.transform(n);break;case 2:y=v.transform(r);break;case 3:y=v.transform(r,i);break;case 4:y=v.transform(r,i,o);break;case 5:y=v.transform(r,i,o,a);break;case 6:y=v.transform(r,i,o,a,s);break;case 7:y=v.transform(r,i,o,a,s,c);break;case 8:y=v.transform(r,i,o,a,s,c,u);break;case 9:y=v.transform(r,i,o,a,s,c,u,l);break;case 10:y=v.transform(r,i,o,a,s,c,u,l,p)}}m.value=y}return f}(e,t,n,r,i,o,a,s,c,u,l,p);default:throw"unreachable"}}(e,t,r,i,o,a,s,c,u,p,h,f):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,i=0;i<n.length;i++)za(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)fa(e,t,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=Ws(n[o],r[o]);a=t.text.prefix+a;var s=Xo(e,t.nodeIndex).renderText;e.renderer.setValue(s,a)}return i}(e,t,n);case 16384:return function(e,t,n){for(var r=Qo(e,t.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)ha(e,t,s,n[s])&&(o=!0,a=Ds(e,r,t,s,n[s],a));return a&&i.ngOnChanges(a),65536&t.flags&&Zo(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)fa(e,t,o,n[o])&&(i=!0);if(i){var a=Jo(e,t.nodeIndex),s=void 0;switch(201347067&t.flags){case 32:s=n;break;case 64:for(s={},o=0;o<n.length;o++)s[r[o].name]=n[o];break;case 128:var c=n[0],u=n.slice(1);s=c.transform.apply(c,l(u))}a.value=s}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function ic(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var i=Yo(e,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,ya(a,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function oc(e,t,n,r,i,o,a,s,c,u,l,p,h){return 0===n?function(e,t,n,r,i,o,a,s,c,u,l,p){var h=t.bindings.length;h>0&&da(e,t,0,n),h>1&&da(e,t,1,r),h>2&&da(e,t,2,i),h>3&&da(e,t,3,o),h>4&&da(e,t,4,a),h>5&&da(e,t,5,s),h>6&&da(e,t,6,c),h>7&&da(e,t,7,u),h>8&&da(e,t,8,l),h>9&&da(e,t,9,p)}(e,t,r,i,o,a,s,c,u,l,p,h):function(e,t,n){for(var r=0;r<n.length;r++)da(e,t,r,n[r])}(e,t,r),!1}function ac(e,t){if(ea(e,t.nodeIndex).dirty)throw na(ta.createDebugContext(e,t.nodeIndex),"Query "+t.query.id+" not dirty","Query "+t.query.id+" dirty",0!=(1&e.state))}function sc(e){if(!(128&e.state)){if(lc(e,cc.Destroy),uc(e,cc.Destroy),Ns(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=ga(e);if(t){var n=t.template._projectedViews;n&&(Qa(n,n.indexOf(e)),ta.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(Yo(e,n).renderElement):2&r.flags?e.renderer.destroyNode(Xo(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&ea(e,n).destroy()}}(e),_a(e)&&e.renderer.destroy(),e.state|=128}}var cc=function(e){return e[e.CreateViewNodes=0]="CreateViewNodes",e[e.CheckNoChanges=1]="CheckNoChanges",e[e.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate=3]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",e[e.Destroy=5]="Destroy",e}({});function uc(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?pc(Yo(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function lc(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Yo(e,r).viewContainer._embeddedViews,a=0;a<o.length;a++)pc(o[a],t);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function pc(e,t){var n=e.state;switch(t){case cc.CheckNoChanges:0==(128&n)&&(12==(12&n)?tc(e):64&n&&hc(e,cc.CheckNoChangesProjectedViews));break;case cc.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?tc(e):64&n&&hc(e,t));break;case cc.CheckAndUpdate:0==(128&n)&&(12==(12&n)?nc(e):64&n&&hc(e,cc.CheckAndUpdateProjectedViews));break;case cc.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?nc(e):64&n&&hc(e,t));break;case cc.Destroy:sc(e);break;case cc.CreateViewNodes:ec(e)}}function hc(e,t){lc(e,t),uc(e,t)}function fc(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var i=e.def.nodes.length,o=0;o<i;o++){var a=e.def.nodes[o];if(a.flags&t&&a.flags&n)switch(ta.setCurrentNode(e,a.nodeIndex),r){case 0:Fs(e,a);break;case 1:ac(e,a)}a.childFlags&t&&a.childFlags&n||(o+=a.childCount)}}var dc=!1;function mc(e,t,n,r,i,o){var a=i.injector.get(vr);return Xs(vc(e,i,a,t,n),r,o)}function yc(e,t,n,r,i,o){var a=i.injector.get(vr),s=vc(e,i,new Yc(a),t,n),c=Cc(r);return Zc(Ic.create,Xs,null,[s,c,o])}function vc(e,t,n,r,i){var o=t.injector.get(hi),a=t.injector.get(Oi),s=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function gc(e,t,n,r){var i=Cc(n);return Zc(Ic.create,Zs,null,[e,t,i,r])}function bc(e,t,n,r){return n=Ec.get(t.element.componentProvider.provider.token)||Cc(n),Zc(Ic.create,Ys,null,[e,t,n,r])}function wc(e,t,n,r){return ds(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===_c.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(function(e){var r=_c.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(function(e){xc.forEach(function(r,i){je(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasDeprecatedOverrides;return t.hasOverrides?(function(e){for(var t=0;t<e.providers.length;t++){var r=e.providers[t];n&&(r.flags|=4096);var i=_c.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Oa(i.deps),r.value=i.value)}if(xc.size>0){var o=new Set(e.modules);xc.forEach(function(t,r){if(o.has(je(r).providedIn)){var i={token:r,flags:t.flags|(n?4096:0),deps:Oa(t.deps),value:t.value,index:e.providers.length};e.providers.push(i),e.providersByKey[sa(r)]=i}})}}(e=e.factory(function(){return oa})),e):e}(r))}var _c=new Map,xc=new Map,Ec=new Map;function Oc(e){var t;_c.set(e.token,e),"function"==typeof e.token&&(t=je(e.token))&&"function"==typeof t.providedIn&&xc.set(e.token,e)}function jc(e,t){var n=Ca(t.viewDefFactory),r=Ca(n.nodes[0].element.componentView);Ec.set(e,r)}function Sc(){_c.clear(),xc.clear(),Ec.clear()}function Cc(e){if(0===_c.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&_c.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(function(){return oa});for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=_c.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=Oa(o.deps),i.value=o.value)}}}}function kc(e,t,n,r,i,o,a,s,c,u,l,p,h){var f=e.def.nodes[t];return rc(e,f,n,r,i,o,a,s,c,u,l,p,h),224&f.flags?Jo(e,t).value:void 0}function Tc(e,t,n,r,i,o,a,s,c,u,l,p,h){var f=e.def.nodes[t];return oc(e,f,n,r,i,o,a,s,c,u,l,p,h),224&f.flags?Jo(e,t).value:void 0}function Ac(e){return Zc(Ic.detectChanges,nc,null,[e])}function Rc(e){return Zc(Ic.checkNoChanges,tc,null,[e])}function Pc(e){return Zc(Ic.destroy,sc,null,[e])}var Mc,Dc,Nc,Ic=function(e){return e[e.create=0]="create",e[e.detectChanges=1]="detectChanges",e[e.checkNoChanges=2]="checkNoChanges",e[e.destroy=3]="destroy",e[e.handleEvent=4]="handleEvent",e}({});function Bc(e,t){Dc=e,Nc=t}function Lc(e,t,n,r){return Bc(e,t),Zc(Ic.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function Fc(e,t){if(128&e.state)throw ia(Ic[Mc]);return Bc(e,Wc(e,0)),e.def.updateDirectives(function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=e.def.nodes[n];return 0===t?Vc(e,a,r,i):Uc(e,a,r,i),16384&a.flags&&Bc(e,Wc(e,n)),224&a.flags?Jo(e,a.nodeIndex).value:void 0},e)}function zc(e,t){if(128&e.state)throw ia(Ic[Mc]);return Bc(e,Gc(e,0)),e.def.updateRenderer(function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=e.def.nodes[n];return 0===t?Vc(e,a,r,i):Uc(e,a,r,i),3&a.flags&&Bc(e,Gc(e,n)),224&a.flags?Jo(e,a.nodeIndex).value:void 0},e)}function Vc(e,t,n,r){if(rc.apply(void 0,l([e,t,n],r))){var i=1===n?r[0]:r;if(16384&t.flags){for(var o={},a=0;a<t.bindings.length;a++){var s=t.bindings[a],c=i[a];8&s.flags&&(o[(f=s.nonMinifiedName,d=void 0,d=f.replace(/[$@]/g,"_"),"ng-reflect-"+(f=d.replace(Hc,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"-"+e[1].toLowerCase()})))]=$c(c))}var u=t.parent,p=Yo(e,u.nodeIndex).renderElement;if(u.element.name)for(var h in o)null!=(c=o[h])?e.renderer.setAttribute(p,h,c):e.renderer.removeAttribute(p,h);else e.renderer.setValue(p,"bindings="+JSON.stringify(o,null,2))}}var f,d}function Uc(e,t,n,r){oc.apply(void 0,l([e,t,n],r))}var Hc=/([A-Z])/g;function $c(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function Wc(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Gc(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var qc=function(){function e(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];for(var n=this.nodeDef,r=e;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=ba(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(e.prototype,"elOrCompView",{get:function(){return Yo(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return us(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){var e={};if(this.elDef){Kc(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&Kc(this.elView,n,e),t+=n.childCount}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentRenderElement",{get:function(){var e=function(e){for(;e&&!_a(e);)e=e.parent;return e.parent?Yo(e.parent,ba(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?wa(this.view,this.nodeDef):wa(this.elView,this.elDef)},enumerable:!0,configurable:!0}),e.prototype.logError=function(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];2&this.nodeDef.flags?(t=this.view.def,n=this.nodeDef.nodeIndex):(t=this.elView.def,n=this.elDef.nodeIndex);var o=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(t,n),a=-1;t.factory(function(){var t;return++a===o?(t=e.error).bind.apply(t,l([e],r)):oa}),a<o&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,l(r)))},e}();function Kc(e,t,n){for(var r in t.references)n[r]=Vs(e,t,t.references[r])}function Zc(e,t,n,r){var i=Mc,o=Dc,a=Nc;try{Mc=e;var s=t.apply(n,r);return Dc=o,Nc=a,Mc=i,s}catch(c){if(_i(c)||!Dc)throw c;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),ra(e,t),e}(c,Xc())}}function Xc(){return Dc?new qc(Dc,Nc):null}var Yc=function(){function e(e){this.delegate=e}return e.prototype.createRenderer=function(e,t){return new Qc(this.delegate.createRenderer(e,t))},e.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},e.prototype.end=function(){this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},e}(),Qc=function(){function e(e){this.delegate=e,this.debugContextFactory=Xc,this.data=this.delegate.data}return e.prototype.createDebugContext=function(e){return this.debugContextFactory(e)},e.prototype.destroyNode=function(e){!function(e){Oo.delete(e.nativeNode)}(jo(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)},e.prototype.destroy=function(){this.delegate.destroy()},e.prototype.createElement=function(e,t){var n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){var i=new Eo(n,null,r);i.name=e,So(i)}return n},e.prototype.createComment=function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&So(new xo(t,null,n)),t},e.prototype.createText=function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&So(new xo(t,null,n)),t},e.prototype.appendChild=function(e,t){var n=jo(e),r=jo(t);n&&r&&n instanceof Eo&&n.addChild(r),this.delegate.appendChild(e,t)},e.prototype.insertBefore=function(e,t,n){var r=jo(e),i=jo(t),o=jo(n);r&&i&&r instanceof Eo&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)},e.prototype.removeChild=function(e,t){var n=jo(e),r=jo(t);n&&r&&n instanceof Eo&&n.removeChild(r),this.delegate.removeChild(e,t)},e.prototype.selectRootElement=function(e,t){var n=this.delegate.selectRootElement(e,t),r=Xc()||null;return r&&So(new Eo(n,null,r)),n},e.prototype.setAttribute=function(e,t,n,r){var i=jo(e);i&&i instanceof Eo&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)},e.prototype.removeAttribute=function(e,t,n){var r=jo(e);r&&r instanceof Eo&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)},e.prototype.addClass=function(e,t){var n=jo(e);n&&n instanceof Eo&&(n.classes[t]=!0),this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){var n=jo(e);n&&n instanceof Eo&&(n.classes[t]=!1),this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,n,r){var i=jo(e);i&&i instanceof Eo&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)},e.prototype.removeStyle=function(e,t,n){var r=jo(e);r&&r instanceof Eo&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)},e.prototype.setProperty=function(e,t,n){var r=jo(e);r&&r instanceof Eo&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)},e.prototype.listen=function(e,t,n){if("string"!=typeof e){var r=jo(e);r&&r.listeners.push(new _o(t,n))}return this.delegate.listen(e,t,n)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setValue=function(e,t){return this.delegate.setValue(e,t)},e}();function Jc(e,t,n){return new eu(e,t,n)}var eu=function(e){function t(t,n,r){var i=e.call(this)||this;return i.moduleType=t,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return i(t,e),t.prototype.create=function(e){!function(){if(!dc){dc=!0;var e=$r()?{setCurrentNode:Bc,createRootView:yc,createEmbeddedView:gc,createComponentView:bc,createNgModuleRef:wc,overrideProvider:Oc,overrideComponentView:jc,clearOverrides:Sc,checkAndUpdateView:Ac,checkNoChangesView:Rc,destroyView:Pc,createDebugContext:function(e,t){return new qc(e,t)},handleEvent:Lc,updateDirectives:Fc,updateRenderer:zc}:{setCurrentNode:function(){},createRootView:mc,createEmbeddedView:Zs,createComponentView:Ys,createNgModuleRef:ds,overrideProvider:oa,overrideComponentView:oa,clearOverrides:oa,checkAndUpdateView:nc,checkNoChangesView:tc,destroyView:sc,createDebugContext:function(e,t){return new qc(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?kc:Tc,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?kc:Tc,e)}};ta.setCurrentNode=e.setCurrentNode,ta.createRootView=e.createRootView,ta.createEmbeddedView=e.createEmbeddedView,ta.createComponentView=e.createComponentView,ta.createNgModuleRef=e.createNgModuleRef,ta.overrideProvider=e.overrideProvider,ta.overrideComponentView=e.overrideComponentView,ta.clearOverrides=e.clearOverrides,ta.checkAndUpdateView=e.checkAndUpdateView,ta.checkNoChangesView=e.checkNoChangesView,ta.destroyView=e.destroyView,ta.resolveDep=Ps,ta.createDebugContext=e.createDebugContext,ta.handleEvent=e.handleEvent,ta.updateDirectives=e.updateDirectives,ta.updateRenderer=e.updateRenderer,ta.dirtyParentQueries=Ls}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(Ca(this._ngModuleDefFactory));return ta.createNgModuleRef(this.moduleType,e||et.NULL,this._bootstrapComponents,t)},t}(sr),tu=function(){return function(){}}(),nu=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),ru=new M(function(e){return e.complete()});function iu(e){return e?function(e){return new M(function(t){return e.schedule(function(){return t.complete()})})}(e):ru}function ou(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r,i=e[e.length-1];switch(V(i)?e.pop():i=void 0,e.length){case 0:return iu(i);case 1:return i?re(e,i):(n=e[0],(r=new M(function(e){e.next(n),e.complete()}))._isScalar=!0,r.value=n,r);default:return re(e,i)}}var au=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(F);function su(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}su.prototype=Object.create(Error.prototype);var cu=su;function uu(){return ue(1)}function lu(e,t){return function(n){return n.lift(new pu(e,t))}}var pu=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new hu(e,this.predicate,this.thisArg))},e}(),hu=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(C);function fu(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}fu.prototype=Object.create(Error.prototype);var du=fu;function mu(e){return function(t){return 0===e?iu():t.lift(new yu(e))}}var yu=function(){function e(e){if(this.total=e,this.total<0)throw new du}return e.prototype.call=function(e,t){return t.subscribe(new vu(e,this.total))},e}(),vu=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return i(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(C);function gu(e,t,n){return function(r){return r.lift(new bu(e,t,n))}}var bu=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new wu(e,this.nextOrObserver,this.error,this.complete))},e}(),wu=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._tapNext=A,o._tapError=A,o._tapComplete=A,o._tapError=r||A,o._tapComplete=i||A,f(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||A,o._tapError=n.error||A,o._tapComplete=n.complete||A),o}return i(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(C),_u=function(e){return void 0===e&&(e=xu),gu({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function xu(){return new cu}function Eu(e){return void 0===e&&(e=null),function(t){return t.lift(new Ou(e))}}var Ou=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new ju(e,this.defaultValue))},e}(),ju=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return i(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(C);function Su(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?lu(function(t,n){return e(t,n,r)}):ce,mu(1),n?Eu(t):_u(function(){return new cu}))}}function Cu(e,t){return function(n){return n.lift(new ku(e,t,n))}}var ku=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new Tu(e,this.predicate,this.thisArg,this.source))},e}(),Tu=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return i(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(C);function Au(e){return function(t){var n=new Ru(e),r=t.lift(n);return n.caught=r}}var Ru=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new Pu(e,this.selector,this.caught))},e}(),Pu=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return i(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(i){return void e.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new U(this,void 0,void 0);this.add(r),Q(this,n,void 0,void 0,r)}},t}(J),Mu=function(){function e(e){if(this.total=e,this.total<0)throw new du}return e.prototype.call=function(e,t){return t.subscribe(new Du(e,this.total))},e}(),Du=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return i(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(C);function Nu(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?lu(function(t,n){return e(t,n,r)}):ce,function(e){return e.lift(new Mu(1))},n?Eu(t):_u(function(){return new cu}))}}function Iu(e,t){return"function"==typeof t?function(n){return n.pipe(Iu(function(n,r){return ie(e(n,r)).pipe(ee(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new Bu(e))}}var Bu=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new Lu(e,this.project))},e}(),Lu=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return i(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new U(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Q(this,e,t,n,i)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t}(J);function Fu(e,t){return oe(e,t,1)}function zu(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Vu(e,t,n))}}var Vu=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new Uu(e,this.accumulator,this.seed,this.hasSeed))},e}(),Uu=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return i(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)},t}(C),Hu=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new $u(e,this.callback))},e}(),$u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new w(n)),r}return i(t,e),t}(C),Wu=function(){return function(){}}(),Gu=new Ce("Location Initialized"),qu=function(){return function(){}}(),Ku=new Ce("appBaseHref"),Zu=function(){function e(e){var n=this;this._subject=new zr,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(Xu(r)),this._platformStrategy.onPopState(function(e){n._subject.emit({url:n.path(!0),pop:!0,state:e.state,type:e.type})})}var t;return t=e,e.prototype.path=function(e){return void 0===e&&(e=!1),this.normalize(this._platformStrategy.path(e))},e.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},e.prototype.normalize=function(e){return t.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Xu(e)))},e.prototype.prepareExternalUrl=function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)},e.prototype.go=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",e,t)},e.prototype.replaceState=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",e,t)},e.prototype.forward=function(){this._platformStrategy.forward()},e.prototype.back=function(){this._platformStrategy.back()},e.prototype.subscribe=function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})},e.normalizeQueryParams=function(e){return e&&"?"!==e[0]?"?"+e:e},e.joinWithSlash=function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t},e.stripTrailingSlash=function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)},e}();function Xu(e){return e.replace(/\/index.html$/,"")}var Yu=function(e){function t(t,n){var r=e.call(this)||this;return r._platformLocation=t,r._baseHref="",null!=n&&(r._baseHref=n),r}return i(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t},t.prototype.prepareExternalUrl=function(e){var t=Zu.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t},t.prototype.pushState=function(e,t,n,r){var i=this.prepareExternalUrl(n+Zu.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)},t.prototype.replaceState=function(e,t,n,r){var i=this.prepareExternalUrl(n+Zu.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(qu),Qu=function(e){function t(t,n){var r=e.call(this)||this;if(r._platformLocation=t,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return i(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.prepareExternalUrl=function(e){return Zu.joinWithSlash(this._baseHref,e)},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.pathname+Zu.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?""+t+n:t},t.prototype.pushState=function(e,t,n,r){var i=this.prepareExternalUrl(n+Zu.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)},t.prototype.replaceState=function(e,t,n,r){var i=this.prepareExternalUrl(n+Zu.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(qu),Ju=void 0,el=["en",[["a","p"],["AM","PM"],Ju],[["AM","PM"],Ju,Ju],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ju,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ju,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ju,"{1} 'at' {0}",Ju],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],tl={},nl=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),rl=new Ce("UseV4Plurals"),il=function(){return function(){}}(),ol=function(e){function t(t,n){var r=e.call(this)||this;return r.locale=t,r.deprecatedPluralFn=n,r}return i(t,e),t.prototype.getPluralCategory=function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return function(e){var t=e.toLowerCase().replace(/_/g,"-"),n=tl[t];if(n)return n;var r=t.split("-")[0];if(n=tl[r])return n;if("en"===r)return el;throw new Error('Missing locale data for the locale "'+e+'".')}(e)[18]}(t||this.locale)(e)){case nl.Zero:return"zero";case nl.One:return"one";case nl.Two:return"two";case nl.Few:return"few";case nl.Many:return"many";default:return"other"}},t}(il);function al(e,t){var n,r;t=encodeURIComponent(t);try{for(var i=c(e.split(";")),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.indexOf("="),l=u(-1==s?[a,""]:[a.slice(0,s),a.slice(s+1)],2),p=l[1];if(l[0].trim()===t)return decodeURIComponent(p)}}catch(h){n={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}var sl=function(){return function(){}}(),cl=new Ce("DocumentToken"),ul="server",ll=function(){function e(){}return e.ngInjectableDef=Oe({providedIn:"root",factory:function(){return new pl(mt(cl),window)}}),e}(),pl=function(){function e(e,t){this.document=e,this.window=t,this.offset=function(){return[0,0]}}return e.prototype.setOffset=function(e){this.offset=Array.isArray(e)?function(){return e}:e},e.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},e.prototype.scrollToPosition=function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])},e.prototype.scrollToAnchor=function(e){if(this.supportScrollRestoration()){var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='"+e+"']");if(n)return void this.scrollToElement(n)}},e.prototype.setHistoryScrollRestoration=function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}},e.prototype.scrollToElement=function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])},e.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}},e}(),hl=null;function fl(){return hl}var dl,ml={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},yl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};Ie.Node&&(dl=Ie.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))});var gl,bl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.parse=function(e){throw new Error("parse not implemented")},t.makeCurrent=function(){var e;e=new t,hl||(hl=e)},t.prototype.hasProperty=function(e,t){return t in e},t.prototype.setProperty=function(e,t,n){e[t]=n},t.prototype.getProperty=function(e,t){return e[t]},t.prototype.invoke=function(e,t,n){var r;(r=e)[t].apply(r,l(n))},t.prototype.logError=function(e){window.console&&(console.error?console.error(e):console.log(e))},t.prototype.log=function(e){window.console&&window.console.log&&window.console.log(e)},t.prototype.logGroup=function(e){window.console&&window.console.group&&window.console.group(e)},t.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return ml},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return dl.call(e,t)},t.prototype.querySelector=function(e,t){return e.querySelector(t)},t.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},t.prototype.on=function(e,t,n){e.addEventListener(t,n,!1)},t.prototype.onAndCancel=function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},t.prototype.createMouseEvent=function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t},t.prototype.createEvent=function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t},t.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},t.prototype.isPrevented=function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue},t.prototype.getInnerHTML=function(e){return e.innerHTML},t.prototype.getTemplateContent=function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null},t.prototype.getOuterHTML=function(e){return e.outerHTML},t.prototype.nodeName=function(e){return e.nodeName},t.prototype.nodeValue=function(e){return e.nodeValue},t.prototype.type=function(e){return e.type},t.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},t.prototype.firstChild=function(e){return e.firstChild},t.prototype.nextSibling=function(e){return e.nextSibling},t.prototype.parentElement=function(e){return e.parentNode},t.prototype.childNodes=function(e){return e.childNodes},t.prototype.childNodesAsList=function(e){for(var t=e.childNodes,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n},t.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.appendChild=function(e,t){e.appendChild(t)},t.prototype.removeChild=function(e,t){e.removeChild(t)},t.prototype.replaceChild=function(e,t,n){e.replaceChild(t,n)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.insertBefore=function(e,t,n){e.insertBefore(n,t)},t.prototype.insertAllBefore=function(e,t,n){n.forEach(function(n){return e.insertBefore(n,t)})},t.prototype.insertAfter=function(e,t,n){e.insertBefore(n,t.nextSibling)},t.prototype.setInnerHTML=function(e,t){e.innerHTML=t},t.prototype.getText=function(e){return e.textContent},t.prototype.setText=function(e,t){e.textContent=t},t.prototype.getValue=function(e){return e.value},t.prototype.setValue=function(e,t){e.value=t},t.prototype.getChecked=function(e){return e.checked},t.prototype.setChecked=function(e,t){e.checked=t},t.prototype.createComment=function(e){return this.getDefaultDocument().createComment(e)},t.prototype.createTemplate=function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t},t.prototype.createElement=function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)},t.prototype.createElementNS=function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)},t.prototype.createTextNode=function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)},t.prototype.createScriptTag=function(e,t,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r},t.prototype.createStyleElement=function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n},t.prototype.createShadowRoot=function(e){return e.createShadowRoot()},t.prototype.getShadowRoot=function(e){return e.shadowRoot},t.prototype.getHost=function(e){return e.host},t.prototype.clone=function(e){return e.cloneNode(!0)},t.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},t.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},t.prototype.addClass=function(e,t){e.classList.add(t)},t.prototype.removeClass=function(e,t){e.classList.remove(t)},t.prototype.hasClass=function(e,t){return e.classList.contains(t)},t.prototype.setStyle=function(e,t,n){e.style[t]=n},t.prototype.removeStyle=function(e,t){e.style[t]=""},t.prototype.getStyle=function(e,t){return e.style[t]},t.prototype.hasStyle=function(e,t,n){var r=this.getStyle(e,t)||"";return n?r==n:r.length>0},t.prototype.tagName=function(e){return e.tagName},t.prototype.attributeMap=function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var i=n.item(r);t.set(i.name,i.value)}return t},t.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},t.prototype.hasAttributeNS=function(e,t,n){return e.hasAttributeNS(t,n)},t.prototype.getAttribute=function(e,t){return e.getAttribute(t)},t.prototype.getAttributeNS=function(e,t,n){return e.getAttributeNS(t,n)},t.prototype.setAttribute=function(e,t,n){e.setAttribute(t,n)},t.prototype.setAttributeNS=function(e,t,n,r){e.setAttributeNS(t,n,r)},t.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},t.prototype.removeAttributeNS=function(e,t,n){e.removeAttributeNS(t,n)},t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},t.prototype.getDefaultDocument=function(){return document},t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},t.prototype.getTitle=function(e){return e.title},t.prototype.setTitle=function(e,t){e.title=t||""},t.prototype.elementMatches=function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))},t.prototype.isTemplateElement=function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName},t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.hasShadowRoot=function(e){return null!=e.shadowRoot&&e instanceof HTMLElement},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.importIntoDoc=function(e){return document.importNode(this.templateAwareRoot(e),!0)},t.prototype.adoptNode=function(e){return document.adoptNode(e)},t.prototype.getHref=function(e){return e.getAttribute("href")},t.prototype.getEventKey=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&vl.hasOwnProperty(t)&&(t=vl[t]))}return yl[t]||t},t.prototype.getGlobalEventTarget=function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(e){var t,n=wl||(wl=document.querySelector("base"))?wl.getAttribute("href"):null;return null==n?null:(t=n,gl||(gl=document.createElement("a")),gl.setAttribute("href",t),"/"===gl.pathname.charAt(0)?gl.pathname:"/"+gl.pathname)},t.prototype.resetBaseElement=function(){wl=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.setData=function(e,t,n){this.setAttribute(e,"data-"+t,n)},t.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)},t.prototype.getComputedStyle=function(e){return getComputedStyle(e)},t.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},t.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return al(document.cookie,e)},t.prototype.setCookie=function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)},t}(function(e){function t(){var t=e.call(this)||this;t._animationPrefix=null,t._transitionEnd=null;try{var n=t.createElement("div",document);if(null!=t.getStyle(n,"animationName"))t._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=t.getStyle(n,r[i]+"AnimationName")){t._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(e){null!=t.getStyle(n,e)&&(t._transitionEnd=o[e])})}catch(a){t._animationPrefix=null,t._transitionEnd=null}return t}return i(t,e),t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},t.prototype.resolveAndSetHref=function(e,t,n){e.href=null==n?t:t+"/../"+n},t.prototype.supportsDOMEvents=function(){return!0},t.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},t.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},t.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},t.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},t}(function(){function e(){this.resourceLoaderType=null}return Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),e}())),wl=null,_l=cl;function xl(){return!!window.history.pushState}var El=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._init(),n}var n;return i(t,e),t.prototype._init=function(){this.location=fl().getLocation(),this._history=fl().getHistory()},t.prototype.getBaseHrefFromDOM=function(){return fl().getBaseHref(this._doc)},t.prototype.onPopState=function(e){fl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)},t.prototype.onHashChange=function(e){fl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)},Object.defineProperty(t.prototype,"pathname",{get:function(){return this.location.pathname},set:function(e){this.location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(e,t,n){xl()?this._history.pushState(e,t,n):this.location.hash=n},t.prototype.replaceState=function(e,t,n){xl()?this._history.replaceState(e,t,n):this.location.hash=n},t.prototype.forward=function(){this._history.forward()},t.prototype.back=function(){this._history.back()},a([(n=We(_l),function(e,t){n(e,t,0)}),s("design:paramtypes",[Object])],t)}(Wu),Ol=new Ce("TRANSITION_ID"),jl=[{provide:Ci,useFactory:function(e,t,n){return function(){n.get(ki).donePromise.then(function(){var n=fl();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(function(t){return n.getAttribute(t,"ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[Ol,_l,et],multi:!0}],Sl=function(){function e(){}return e.init=function(){var t;t=new e,no=t},e.prototype.addToWindow=function(e){Ie.getAngularTestability=function(t,n){void 0===n&&(n=!0);var r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ie.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Ie.getAllAngularRootElements=function(){return e.getAllRootElements()},Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push(function(e){var t=Ie.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})},e.prototype.findTestabilityInTree=function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?fl().isShadowRoot(t)?this.findTestabilityInTree(e,fl().getHost(t),!0):this.findTestabilityInTree(e,fl().parentElement(t),!0):null},e}();function Cl(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Ie.ng=Ie.ng||{})[e]=t)}var kl={ApplicationRef:uo,NgZone:Gi};function Tl(e){return jo(e)}var Al=new Ce("EventManagerPlugins"),Rl=function(){function e(e,t){var n=this;this._zone=t,this._eventNameToPlugin=new Map,e.forEach(function(e){return e.manager=n}),this._plugins=e.slice().reverse()}return e.prototype.addEventListener=function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)},e.prototype.addGlobalEventListener=function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)},e}(),Pl=function(){function e(e){this._doc=e}return e.prototype.addGlobalEventListener=function(e,t,n){var r=fl().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target "+r+" for event "+t);return this.addEventListener(r,t,n)},e}(),Ml=function(){function e(){this._stylesSet=new Set}return e.prototype.addStyles=function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)},e.prototype.onStylesAdded=function(e){},e.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},e}(),Dl=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return i(t,e),t.prototype._addStylesToHost=function(e,t){var n=this;e.forEach(function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))})},t.prototype.addHost=function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){this._hostNodes.delete(e)},t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(n){return t._addStylesToHost(e,n)})},t.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(e){return fl().remove(e)})},t}(Ml),Nl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Il=/%COMP%/g,Bl="_nghost-%COMP%",Ll="_ngcontent-%COMP%";function Fl(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Fl(e,i,n):(i=i.replace(Il,e),n.push(i))}return n}function zl(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Vl=function(){function e(e,t){this.eventManager=e,this.sharedStylesHost=t,this.rendererByCompId=new Map,this.defaultRenderer=new Ul(e)}return e.prototype.createRenderer=function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case vt.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Gl(this.eventManager,this.sharedStylesHost,t),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case vt.Native:case vt.ShadowDom:return new ql(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Fl(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}},e.prototype.begin=function(){},e.prototype.end=function(){},e}(),Ul=function(){function e(e){this.eventManager=e,this.data=Object.create(null)}return e.prototype.destroy=function(){},e.prototype.createElement=function(e,t){return t?document.createElementNS(Nl[t],e):document.createElement(e)},e.prototype.createComment=function(e){return document.createComment(e)},e.prototype.createText=function(e){return document.createTextNode(e)},e.prototype.appendChild=function(e,t){e.appendChild(t)},e.prototype.insertBefore=function(e,t,n){e&&e.insertBefore(t,n)},e.prototype.removeChild=function(e,t){e&&e.removeChild(t)},e.prototype.selectRootElement=function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'+e+'" did not match any elements');return t||(n.textContent=""),n},e.prototype.parentNode=function(e){return e.parentNode},e.prototype.nextSibling=function(e){return e.nextSibling},e.prototype.setAttribute=function(e,t,n,r){if(r){t=r+":"+t;var i=Nl[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)},e.prototype.removeAttribute=function(e,t,n){if(n){var r=Nl[n];r?e.removeAttributeNS(r,t):e.removeAttribute(n+":"+t)}else e.removeAttribute(t)},e.prototype.addClass=function(e,t){e.classList.add(t)},e.prototype.removeClass=function(e,t){e.classList.remove(t)},e.prototype.setStyle=function(e,t,n,r){r&gr.DashCase?e.style.setProperty(t,n,r&gr.Important?"important":""):e.style[t]=n},e.prototype.removeStyle=function(e,t,n){n&gr.DashCase?e.style.removeProperty(t):e.style[t]=""},e.prototype.setProperty=function(e,t,n){$l(t,"property"),e[t]=n},e.prototype.setValue=function(e,t){e.nodeValue=t},e.prototype.listen=function(e,t,n){return $l(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,zl(n)):this.eventManager.addEventListener(e,t,zl(n))},e}(),Hl="@".charCodeAt(0);function $l(e,t){if(e.charCodeAt(0)===Hl)throw new Error("Found the synthetic "+t+" "+e+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var Wl,Gl=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.component=r;var o=Fl(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=Ll.replace(Il,r.id),i.hostAttr=Bl.replace(Il,r.id),i}return i(t,e),t.prototype.applyToHost=function(t){e.prototype.setAttribute.call(this,t,this.hostAttr,"")},t.prototype.createElement=function(t,n){var r=e.prototype.createElement.call(this,t,n);return e.prototype.setAttribute.call(this,r,this.contentAttr,""),r},t}(Ul),ql=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=i.encapsulation===vt.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=Fl(i.id,i.styles,[]),s=0;s<a.length;s++){var c=document.createElement("style");c.textContent=a[s],o.shadowRoot.appendChild(c)}return o}return i(t,e),t.prototype.nodeOrShadowRoot=function(e){return e===this.hostEl?this.shadowRoot:e},t.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},t.prototype.appendChild=function(t,n){return e.prototype.appendChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.insertBefore=function(t,n,r){return e.prototype.insertBefore.call(this,this.nodeOrShadowRoot(t),n,r)},t.prototype.removeChild=function(t,n){return e.prototype.removeChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.parentNode=function(t){return this.nodeOrShadowRoot(e.prototype.parentNode.call(this,this.nodeOrShadowRoot(t)))},t}(Ul),Kl="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},Zl=Kl("addEventListener"),Xl=Kl("removeEventListener"),Yl={},Ql="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[Kl("BLACK_LISTED_EVENTS")]&&(Wl={});var Jl=function(e){return!!Wl&&Wl.hasOwnProperty(e)},ep=function(e){var t=Yl[e.type];if(t){var n=this[t];if(n){var r=[e];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==e[Ql];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},tp=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.ngZone=n,r&&function(e){return e===ul}(r)||i.patchEvent(),i}return i(t,e),t.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Ql]=!0),e&&e.apply(this,arguments)}}},t.prototype.supports=function(e){return!0},t.prototype.addEventListener=function(e,t,n){var r=this,i=n;if(!e[Zl]||Gi.isInAngularZone()&&!Jl(t))e.addEventListener(t,i,!1);else{var o=Yl[t];o||(o=Yl[t]=Kl("ANGULAR"+t+"FALSE"));var a=e[o],s=a&&a.length>0;a||(a=e[o]=[]);var c=Jl(t)?Zone.root:Zone.current;if(0===a.length)a.push({zone:c,handler:i});else{for(var u=!1,l=0;l<a.length;l++)if(a[l].handler===i){u=!0;break}u||a.push({zone:c,handler:i})}s||e[Zl](t,ep,!1)}return function(){return r.removeEventListener(e,t,i)}},t.prototype.removeEventListener=function(e,t,n){var r=e[Xl];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);var i=Yl[t],o=i&&e[i];if(!o)return e.removeEventListener.apply(e,[t,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(e,[t,ep,!1]):e.removeEventListener.apply(e,[t,n,!1])},t}(Pl),np={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},rp=new Ce("HammerGestureConfig"),ip=new Ce("HammerLoader"),op=function(){function e(){this.events=[],this.overrides={}}return e.prototype.buildHammer=function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t},e}(),ap=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._config=n,o.console=r,o.loader=i,o}return i(t,e),t.prototype.supports=function(e){return!(!np.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+e+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},t.prototype.addEventListener=function(e,t,n){var r=this,i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(e,t,n))}).catch(function(){r.console.warn('The "'+t+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}}),function(){a()}}return i.runOutsideAngular(function(){var o=r._config.buildHammer(e),a=function(e){i.runGuarded(function(){n(e)})};return o.on(t,a),function(){o.off(t,a),"function"==typeof o.destroy&&o.destroy()}})},t.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},t}(Pl),sp=["alt","control","meta","shift"],cp={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},up=function(e){function t(t){return e.call(this,t)||this}var n;return i(t,e),n=t,t.prototype.supports=function(e){return null!=n.parseEventName(e)},t.prototype.addEventListener=function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return fl().onAndCancel(e,i.domEventName,o)})},t.parseEventName=function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(sp.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},t.getEventFullKey=function(e){var t="",n=fl().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),sp.forEach(function(r){r!=n&&(0,cp[r])(e)&&(t+=r+".")}),t+=n},t.eventCallback=function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}},t._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},t}(Pl),lp=function(){return function(){}}(),pp=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n}return i(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case pi.NONE:return t;case pi.HTML:return t instanceof fp?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){var n=null;try{Yr=Yr||new Wr(e);var r=t?String(t):"";n=Yr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Yr.getInertBodyElement(r)}while(r!==o);var a=new ai,s=a.sanitizeChildren(li(n)||n);return $r()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),s}finally{if(n)for(var c=li(n)||n;c.firstChild;)c.removeChild(c.firstChild)}}(this._doc,String(t)));case pi.STYLE:return t instanceof dp?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";var t=e.match(di);return t&&Kr(t[1])===t[1]||e.match(fi)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:($r()&&console.warn("WARNING: sanitizing unsafe style value "+e+" (see http://g.co/ng/security#xss)."),"unsafe")}(t));case pi.SCRIPT:if(t instanceof mp)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case pi.URL:return t instanceof vp||t instanceof yp?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Kr(String(t)));case pi.RESOURCE_URL:if(t instanceof vp)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+e+" (see http://g.co/ng/security#xss)")}},t.prototype.checkNotSafeValue=function(e,t){if(e instanceof hp)throw new Error("Required a safe "+t+", got a "+e.getTypeName()+" (see http://g.co/ng/security#xss)")},t.prototype.bypassSecurityTrustHtml=function(e){return new fp(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new dp(e)},t.prototype.bypassSecurityTrustScript=function(e){return new mp(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new yp(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new vp(e)},t}(lp),hp=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},e}(),fp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getTypeName=function(){return"HTML"},t}(hp),dp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getTypeName=function(){return"Style"},t}(hp),mp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getTypeName=function(){return"Script"},t}(hp),yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getTypeName=function(){return"URL"},t}(hp),vp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getTypeName=function(){return"ResourceURL"},t}(hp),gp=oo(Uo,"browser",[{provide:Mi,useValue:"browser"},{provide:Pi,useValue:function(){bl.makeCurrent(),Sl.init()},multi:!0},{provide:Wu,useClass:El,deps:[_l]},{provide:_l,useFactory:function(){return document},deps:[]}]);function bp(){return new Oi}var wp=function(){function e(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var t;return t=e,e.withServerTransition=function(e){return{ngModule:t,providers:[{provide:Ti,useValue:e.appId},{provide:Ol,useExisting:Ti},jl]}},e}();"undefined"!=typeof window&&window;var _p=function(){return function(e,t){this.id=e,this.url=t}}(),xp=function(e){function t(t,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=e.call(this,t,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return i(t,e),t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}(_p),Ep=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.urlAfterRedirects=r,i}return i(t,e),t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(_p),Op=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.reason=r,i}return i(t,e),t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(_p),jp=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.error=r,i}return i(t,e),t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(_p),Sp=function(e){function t(t,n,r,i){var o=e.call(this,t,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(t,e),t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(_p),Cp=function(e){function t(t,n,r,i){var o=e.call(this,t,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(t,e),t.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(_p),kp=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return i(t,e),t.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},t}(_p),Tp=function(e){function t(t,n,r,i){var o=e.call(this,t,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(t,e),t.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(_p),Ap=function(e){function t(t,n,r,i){var o=e.call(this,t,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(t,e),t.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(_p),Rp=function(){function e(e){this.route=e}return e.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},e}(),Pp=function(){function e(e){this.route=e}return e.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},e}(),Mp=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),Dp=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),Np=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),Ip=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),Bp=function(){function e(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}return e.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},e}(),Lp=function(){return function(){}}(),Fp="primary",zp=function(){function e(e){this.params=e||{}}return e.prototype.has=function(e){return this.params.hasOwnProperty(e)},e.prototype.get=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null},e.prototype.getAll=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]},Object.defineProperty(e.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),e}();function Vp(e){return new zp(e)}function Up(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var Hp=function(){return function(e,t){this.routes=e,this.module=t}}();function $p(e,t){void 0===t&&(t="");for(var n=0;n<e.length;n++){var r=e[n];Wp(r,Gp(t,r))}}function Wp(e,t){if(!e)throw new Error("\n      Invalid configuration of route '"+t+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(e))throw new Error("Invalid configuration of route '"+t+"': Array cannot be specified");if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Fp)throw new Error("Invalid configuration of route '"+t+"': a componentless route without children or loadChildren cannot have a named outlet set");if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '"+t+"': redirectTo and children cannot be used together");if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '"+t+"': redirectTo and loadChildren cannot be used together");if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '"+t+"': children and loadChildren cannot be used together");if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '"+t+"': redirectTo and component cannot be used together");if(e.path&&e.matcher)throw new Error("Invalid configuration of route '"+t+"': path and matcher cannot be used together");if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '"+t+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '"+t+"': routes must have either a path or a matcher specified");if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '"+t+"': path cannot start with a slash");if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \""+t+'", redirectTo: "'+e.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '"+t+"': pathMatch can only be set to 'prefix' or 'full'");e.children&&$p(e.children,t)}function Gp(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:e+"/"+t.path:"":e}function qp(e){var t=e.children&&e.children.map(qp),n=t?o({},e,{children:t}):o({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Fp&&(n.component=Lp),n}function Kp(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(e[n=r[o]]!==t[n])return!1;return!0}function Zp(e){return Array.prototype.concat.apply([],e)}function Xp(e){return e.length>0?e[e.length-1]:null}function Yp(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Qp(e){return e.pipe(ue(),Cu(function(e){return!0===e}))}function Jp(e){return Si(e)?e:ji(e)?ie(Promise.resolve(e)):ou(e)}function eh(e,t,n){return n?function(e,t){return Kp(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!ih(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return t[n]===e[n]})}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!ih(a=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!ih(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!ih(n.segments,a)&&!!n.children[Fp]&&t(n.children[Fp],r,s)}(t,n,n.segments)}(e.root,t.root)}var th=function(){function e(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}return Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Vp(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return ch.serialize(this)},e}(),nh=function(){function e(e,t){var n=this;this.segments=e,this.children=t,this.parent=null,Yp(t,function(e,t){return e.parent=n})}return e.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(e.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return uh(this)},e}(),rh=function(){function e(e,t){this.path=e,this.parameters=t}return Object.defineProperty(e.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Vp(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return mh(this)},e}();function ih(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}function oh(e,t){var n=[];return Yp(e.children,function(e,r){r===Fp&&(n=n.concat(t(e,r)))}),Yp(e.children,function(e,r){r!==Fp&&(n=n.concat(t(e,r)))}),n}var ah=function(){return function(){}}(),sh=function(){function e(){}return e.prototype.parse=function(e){var t=new wh(e);return new th(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())},e.prototype.serialize=function(e){var t,n;return"/"+function e(t,n){if(!t.hasChildren())return uh(t);if(n){var r=t.children[Fp]?e(t.children[Fp],!1):"",i=[];return Yp(t.children,function(t,n){n!==Fp&&i.push(n+":"+e(t,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=oh(t,function(n,r){return r===Fp?[e(t.children[Fp],!1)]:[r+":"+e(n,!1)]});return uh(t)+"/("+o.join("//")+")"}(e.root,!0)+(t=e.queryParams,(n=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return ph(e)+"="+ph(t)}).join("&"):ph(e)+"="+ph(n)})).length?"?"+n.join("&"):"")+("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"")},e}(),ch=new sh;function uh(e){return e.segments.map(function(e){return mh(e)}).join("/")}function lh(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ph(e){return lh(e).replace(/%3B/gi,";")}function hh(e){return lh(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fh(e){return decodeURIComponent(e)}function dh(e){return fh(e.replace(/\+/g,"%20"))}function mh(e){return""+hh(e.path)+(t=e.parameters,Object.keys(t).map(function(e){return";"+hh(e)+"="+hh(t[e])}).join(""));var t}var yh=/^[^\/()?;=#]+/;function vh(e){var t=e.match(yh);return t?t[0]:""}var gh=/^[^=?&#]+/,bh=/^[^?&#]+/,wh=function(){function e(e){this.url=e,this.remaining=e}return e.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nh([],{}):new nh([],this.parseChildren())},e.prototype.parseQueryParams=function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e},e.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},e.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Fp]=new nh(e,t)),n},e.prototype.parseSegment=function(){var e=vh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(e),new rh(fh(e),this.parseMatrixParams())},e.prototype.parseMatrixParams=function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e},e.prototype.parseParam=function(e){var t=vh(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=vh(this.remaining);r&&this.capture(n=r)}e[fh(t)]=fh(n)}},e.prototype.parseQueryParam=function(e){var t,n=(t=this.remaining.match(gh))?t[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(e){var t=e.match(bh);return t?t[0]:""}(this.remaining);i&&this.capture(r=i)}var o=dh(n),a=dh(r);if(e.hasOwnProperty(o)){var s=e[o];Array.isArray(s)||(e[o]=s=[s]),s.push(a)}else e[o]=a}},e.prototype.parseParens=function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=vh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Fp);var o=this.parseChildren();t[i]=1===Object.keys(o).length?o[Fp]:new nh([],o),this.consumeOptional("//")}return t},e.prototype.peekStartsWith=function(e){return this.remaining.startsWith(e)},e.prototype.consumeOptional=function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)},e.prototype.capture=function(e){if(!this.consumeOptional(e))throw new Error('Expected "'+e+'".')},e}(),_h=function(){function e(e){this._root=e}return Object.defineProperty(e.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),e.prototype.parent=function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null},e.prototype.children=function(e){var t=xh(e,this._root);return t?t.children.map(function(e){return e.value}):[]},e.prototype.firstChild=function(e){var t=xh(e,this._root);return t&&t.children.length>0?t.children[0].value:null},e.prototype.siblings=function(e){var t=Eh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})},e.prototype.pathFromRoot=function(e){return Eh(e,this._root).map(function(e){return e.value})},e}();function xh(e,t){var n,r;if(e===t.value)return t;try{for(var i=c(t.children),o=i.next();!o.done;o=i.next()){var a=xh(e,o.value);if(a)return a}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}function Eh(e,t){var n,r;if(e===t.value)return[t];try{for(var i=c(t.children),o=i.next();!o.done;o=i.next()){var a=Eh(e,o.value);if(a.length)return a.unshift(t),a}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[]}var Oh=function(){function e(e,t){this.value=e,this.children=t}return e.prototype.toString=function(){return"TreeNode("+this.value+")"},e}();function jh(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var Sh=function(e){function t(t,n){var r=e.call(this,t)||this;return r.snapshot=n,Ph(r,t),r}return i(t,e),t.prototype.toString=function(){return this.snapshot.toString()},t}(_h);function Ch(e,t){var n=function(e,t){var n=new Ah([],{},{},"",{},Fp,t,null,e.root,-1,{});return new Rh("",new Oh(n,[]))}(e,t),r=new au([new rh("",{})]),i=new au({}),o=new au({}),a=new au({}),s=new au(""),c=new kh(r,i,a,s,o,Fp,t,n.root);return c.snapshot=n.root,new Sh(new Oh(c,[]),n)}var kh=function(){function e(e,t,n,r,i,o,a,s){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(e.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(ee(function(e){return Vp(e)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ee(function(e){return Vp(e)}))),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},e}();function Th(e,t){void 0===t&&(t="emptyOnly");var n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function(e){return e.reduce(function(e,t){return{params:o({},e.params,t.params),data:o({},e.data,t.data),resolve:o({},e.resolve,t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Ah=function(){function e(e,t,n,r,i,o,a,s,c,u,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}return Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Vp(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Vp(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"Route(url:'"+this.url.map(function(e){return e.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},e}(),Rh=function(e){function t(t,n){var r=e.call(this,n)||this;return r.url=t,Ph(r,n),r}return i(t,e),t.prototype.toString=function(){return Mh(this._root)},t}(_h);function Ph(e,t){t.value._routerState=e,t.children.forEach(function(t){return Ph(e,t)})}function Mh(e){var t=e.children.length>0?" { "+e.children.map(Mh).join(", ")+" } ":"";return""+e.value+t}function Dh(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Kp(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Kp(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Kp(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Kp(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Nh(e,t){var n,r;return Kp(e.params,t.params)&&ih(n=e.url,r=t.url)&&n.every(function(e,t){return Kp(e.parameters,r[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||Nh(e.parent,t.parent))}function Ih(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Bh(e,t,n,r,i){var o={};return r&&Yp(r,function(e,t){o[t]=Array.isArray(e)?e.map(function(e){return""+e}):""+e}),new th(n.root===e?t:function e(t,n,r){var i={};return Yp(t.children,function(t,o){i[o]=t===n?r:e(t,n,r)}),new nh(t.segments,i)}(n.root,e,t),o,i)}var Lh=function(){function e(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Ih(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(e){return"object"==typeof e&&null!=e&&e.outlets});if(r&&r!==Xp(n))throw new Error("{outlets:{}} has to be the last command")}return e.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},e}(),Fh=function(){return function(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}();function zh(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Fp]:""+e}function Vh(e,t,n){if(e||(e=new nh([],{})),0===e.segments.length&&e.hasChildren())return Uh(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=zh(n[r]),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&c&&"object"==typeof c&&void 0===c.outlets){if(!Gh(s,c,a))return o;r+=2}else{if(!Gh(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new nh(e.segments.slice(0,r.pathIndex),{});return o.children[Fp]=new nh(e.segments.slice(r.pathIndex),e.children),Uh(o,0,i)}return r.match&&0===i.length?new nh(e.segments,{}):r.match&&!e.hasChildren()?Hh(e,t,n):r.match?Uh(e,0,i):Hh(e,t,n)}function Uh(e,t,n){if(0===n.length)return new nh(e.segments,{});var r=function(e){var t,n;return"object"!=typeof e[0]?((t={})[Fp]=e,t):void 0===e[0].outlets?((n={})[Fp]=e,n):e[0].outlets}(n),i={};return Yp(r,function(n,r){null!==n&&(i[r]=Vh(e.children[r],t,n))}),Yp(e.children,function(e,t){void 0===r[t]&&(i[t]=e)}),new nh(e.segments,i)}function Hh(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=$h(n[i].outlets);return new nh(r,o)}if(0===i&&Ih(n[0]))r.push(new rh(e.segments[t].path,n[0])),i++;else{var a=zh(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Ih(s)?(r.push(new rh(a,Wh(s))),i+=2):(r.push(new rh(a,{})),i++)}}return new nh(r,{})}function $h(e){var t={};return Yp(e,function(e,n){null!==e&&(t[n]=Hh(new nh([],{}),0,e))}),t}function Wh(e){var t={};return Yp(e,function(e,n){return t[n]=""+e}),t}function Gh(e,t,n){return e==n.path&&Kp(t,n.parameters)}var qh=function(){function e(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}return e.prototype.activate=function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Dh(this.futureState.root),this.activateChildRoutes(t,n,e)},e.prototype.deactivateChildRoutes=function(e,t,n){var r=this,i=jh(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),Yp(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})},e.prototype.deactivateRoutes=function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)},e.prototype.deactivateRouteAndItsChildren=function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)},e.prototype.detachAndStoreRouteSubtree=function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}},e.prototype.deactivateRouteAndOutlet=function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=jh(e),o=e.value.component?r.children:t;Yp(i,function(e,t){return n.deactivateRouteAndItsChildren(e,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},e.prototype.activateChildRoutes=function(e,t,n){var r=this,i=jh(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Ip(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Dp(e.value.snapshot))},e.prototype.activateRoutes=function(e,t,n){var r=e.value,i=t?t.value:null;if(Dh(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Kh(a.route)}else{var s=function(e){for(var t=r.snapshot.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),c=s?s.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=c,o.outlet&&o.outlet.activateWith(r,c),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,n)},e}();function Kh(e){Dh(e.value),e.children.forEach(Kh)}var Zh=function(){return function(e){this.segmentGroup=e||null}}(),Xh=function(){return function(e){this.urlTree=e}}();function Yh(e){return new M(function(t){return t.error(new Zh(e))})}function Qh(e){return new M(function(t){return t.error(new Xh(e))})}function Jh(e){return new M(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+e+"'"))})}var ef=function(){function e(e,t,n,r,i){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(ar)}return e.prototype.apply=function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Fp).pipe(ee(function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)})).pipe(Au(function(t){if(t instanceof Xh)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Zh)throw e.noMatchError(t);throw t}))},e.prototype.match=function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,Fp).pipe(ee(function(n){return t.createUrlTree(n,e.queryParams,e.fragment)})).pipe(Au(function(e){if(e instanceof Zh)throw t.noMatchError(e);throw e}))},e.prototype.noMatchError=function(e){return new Error("Cannot match any routes. URL Segment: '"+e.segmentGroup+"'")},e.prototype.createUrlTree=function(e,t,n){var r,i=e.segments.length>0?new nh([],((r={})[Fp]=e,r)):e;return new th(i,t,n)},e.prototype.expandSegmentGroup=function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(ee(function(e){return new nh([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)},e.prototype.expandChildren=function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return ou({});var o=[],a=[],s={};return Yp(n,function(n,i){var c,u,l=(c=i,u=n,r.expandSegmentGroup(e,t,u,c)).pipe(ee(function(e){return s[i]=e}));i===Fp?o.push(l):a.push(l)}),ou.apply(null,o.concat(a)).pipe(uu(),Su(),ee(function(){return s}))}(n.children)},e.prototype.expandSegment=function(e,t,n,r,i,o){var a=this;return ou.apply(void 0,l(n)).pipe(ee(function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Au(function(e){if(e instanceof Zh)return ou(null);throw e}))}),uu(),Nu(function(e){return!!e}),Au(function(e,n){if(e instanceof cu||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,r,i))return ou(new nh([],{}));throw new Zh(t)}throw e}))},e.prototype.noLeftoversInUrl=function(e,t,n){return 0===t.length&&!e.children[n]},e.prototype.expandSegmentAgainstRoute=function(e,t,n,r,i,o,a){return of(r)!==o?Yh(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Yh(t)},e.prototype.expandSegmentAgainstRouteUsingRedirect=function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)},e.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Qh(o):this.lineralizeSegments(n,o).pipe(oe(function(n){var o=new nh(n,{});return i.expandSegment(e,o,t,n,r,!1)}))},e.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(e,t,n,r,i,o){var a=this,s=tf(t,r,i),c=s.consumedSegments,u=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return Yh(t);var p=this.applyRedirectCommands(c,r.redirectTo,l);return r.redirectTo.startsWith("/")?Qh(p):this.lineralizeSegments(r,p).pipe(oe(function(r){return a.expandSegment(e,t,n,r.concat(i.slice(u)),o,!1)}))},e.prototype.matchSegmentAgainstRoute=function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(ee(function(e){return n._loadedConfig=e,new nh(r,{})})):ou(new nh(r,{}));var a=tf(t,n,r),s=a.consumedSegments,u=a.lastChild;if(!a.matched)return Yh(t);var l=r.slice(u);return this.getChildConfig(e,n,r).pipe(oe(function(e){var n=e.module,r=e.routes,a=function(e,t,n,r){return n.length>0&&function(e,t,n){return r.some(function(n){return rf(e,t,n)&&of(n)!==Fp})}(e,n)?{segmentGroup:nf(new nh(t,function(e,t){var n,r,i={};i[Fp]=t;try{for(var o=c(e),a=o.next();!a.done;a=o.next()){var s=a.value;""===s.path&&of(s)!==Fp&&(i[of(s)]=new nh([],{}))}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}(r,new nh(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return r.some(function(n){return rf(e,t,n)})}(e,n)?{segmentGroup:nf(new nh(e.segments,function(e,t,n,r){var i,a,s={};try{for(var u=c(n),l=u.next();!l.done;l=u.next()){var p=l.value;rf(e,t,p)&&!r[of(p)]&&(s[of(p)]=new nh([],{}))}}catch(h){i={error:h}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return o({},r,s)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,l,r),u=a.segmentGroup,p=a.slicedSegments;return 0===p.length&&u.hasChildren()?i.expandChildren(n,r,u).pipe(ee(function(e){return new nh(s,e)})):0===r.length&&0===p.length?ou(new nh(s,{})):i.expandSegment(n,u,r,p,Fp,!0).pipe(ee(function(e){return new nh(s.concat(e.segments),e.children)}))}))},e.prototype.getChildConfig=function(e,t,n){var r=this;return t.children?ou(new Hp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ou(t._loadedConfig):function(e,t,n){var r=t.canLoad;return r&&0!==r.length?Qp(ie(r).pipe(ee(function(r){var i=e.get(r);return Jp(i.canLoad?i.canLoad(t,n):i(t,n))}))):ou(!0)}(e.injector,t,n).pipe(oe(function(n){return n?r.configLoader.load(e.injector,t).pipe(ee(function(e){return t._loadedConfig=e,e})):function(e){return new M(function(t){return t.error(((n=Error("NavigationCancelingError: Cannot load children because the guard of the route \"path: '"+e.path+"'\" returned false")).ngNavigationCancelingError=!0,n));var n})}(t)})):ou(new Hp([],e))},e.prototype.lineralizeSegments=function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ou(n);if(r.numberOfChildren>1||!r.children[Fp])return Jh(e.redirectTo);r=r.children[Fp]}},e.prototype.applyRedirectCommands=function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)},e.prototype.applyRedirectCreatreUrlTree=function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new th(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)},e.prototype.createQueryParams=function(e,t){var n={};return Yp(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e}),n},e.prototype.createSegmentGroup=function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return Yp(t.children,function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)}),new nh(o,a)},e.prototype.createSegments=function(e,t,n,r){var i=this;return t.map(function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)})},e.prototype.findPosParam=function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+e+"'. Cannot find '"+t.path+"'.");return r},e.prototype.findOrReturn=function(e,t){var n,r,i=0;try{for(var o=c(t),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.path===e.path)return t.splice(i),s;i++}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e},e}();function tf(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Up)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function nf(e){if(1===e.numberOfChildren&&e.children[Fp]){var t=e.children[Fp];return new nh(e.segments.concat(t.segments),t.children)}return e}function rf(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function of(e){return e.outlet||Fp}var af=function(){return function(e){this.path=e,this.route=this.path[this.path.length-1]}}(),sf=function(){return function(e,t){this.component=e,this.route=t}}();function cf(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function uf(e,t,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=jh(t);return e.children.forEach(function(e){!function(e,t,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=e.value,a=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var c=function(e,t,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!Nh(e,t)||!Kp(e.queryParams,t.queryParams);case"paramsChange":default:return!Nh(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new af(r)):(o.data=a.data,o._resolvedData=a._resolvedData),uf(e,t,o.component?s?s.children:null:n,r,i),c&&i.canDeactivateChecks.push(new sf(s&&s.outlet&&s.outlet.component||null,a))}else a&&lf(t,s,i),i.canActivateChecks.push(new af(r)),uf(e,null,o.component?s?s.children:null:n,r,i)}(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),Yp(o,function(e,t){return lf(e,n.getContext(t),i)}),i}function lf(e,t,n){var r=jh(e),i=e.value;Yp(r,function(e,r){lf(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new sf(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function pf(e,t){return null!==e&&t&&t(new Np(e)),ou(!0)}function hf(e,t){return null!==e&&t&&t(new Mp(e)),ou(!0)}function ff(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Qp(ie(r).pipe(ee(function(r){var i=cf(r,t,n);return Jp(i.canActivate?i.canActivate(t,e):i(t,e)).pipe(Nu())}))):ou(!0)}function df(e,t,n){var r=t[t.length-1];return Qp(ie(t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e})).pipe(ee(function(t){return Qp(ie(t.guards).pipe(ee(function(i){var o=cf(i,t.node,n);return Jp(o.canActivateChild?o.canActivateChild(r,e):o(r,e)).pipe(Nu())})))})))}var mf=function(){return function(){}}(),yf=function(){function e(e,t,n,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return e.prototype.recognize=function(){try{var e=bf(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Fp),n=new Ah([],Object.freeze({}),Object.freeze(o({},this.urlTree.queryParams)),this.urlTree.fragment,{},Fp,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Oh(n,t),i=new Rh(this.url,r);return this.inheritParamsAndData(i._root),ou(i)}catch(a){return new M(function(e){return e.error(a)})}},e.prototype.inheritParamsAndData=function(e){var t=this,n=e.value,r=Th(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})},e.prototype.processSegmentGroup=function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)},e.prototype.processChildren=function(e,t){var n,r=this,i=oh(t,function(t,n){return r.processSegmentGroup(e,t,n)});return n={},i.forEach(function(e){var t=n[e.value.outlet];if(t){var r=t.url.map(function(e){return e.toString()}).join("/"),i=e.value.url.map(function(e){return e.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[e.value.outlet]=e.value}),i.sort(function(e,t){return e.value.outlet===Fp?-1:t.value.outlet===Fp?1:e.value.outlet.localeCompare(t.value.outlet)}),i},e.prototype.processSegment=function(e,t,n,r){var i,o;try{for(var a=c(e),s=a.next();!s.done;s=a.next()){var u=s.value;try{return this.processSegmentAgainstRoute(u,t,n,r)}catch(l){if(!(l instanceof mf))throw l}}}catch(p){i={error:p}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}if(this.noLeftoversInUrl(t,n,r))return[];throw new mf},e.prototype.noLeftoversInUrl=function(e,t,n){return 0===t.length&&!e.children[n]},e.prototype.processSegmentAgainstRoute=function(e,t,n,r){if(e.redirectTo)throw new mf;if((e.outlet||Fp)!==r)throw new mf;var i,a=[],s=[];if("**"===e.path){var c=n.length>0?Xp(n).parameters:{};i=new Ah(n,c,Object.freeze(o({},this.urlTree.queryParams)),this.urlTree.fragment,xf(e),r,e.component,e,vf(t),gf(t)+n.length,Ef(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new mf;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Up)(n,e,t);if(!r)throw new mf;var i={};Yp(r.posParams,function(e,t){i[t]=e.path});var a=r.consumed.length>0?o({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a}}(t,e,n);a=u.consumedSegments,s=n.slice(u.lastChild),i=new Ah(a,u.parameters,Object.freeze(o({},this.urlTree.queryParams)),this.urlTree.fragment,xf(e),r,e.component,e,vf(t),gf(t)+a.length,Ef(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),p=bf(t,a,s,l,this.relativeLinkResolution),h=p.segmentGroup,f=p.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(l,h);return[new Oh(i,d)]}if(0===l.length&&0===f.length)return[new Oh(i,[])];var m=this.processSegment(l,h,f,Fp);return[new Oh(i,m)]},e}();function vf(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function gf(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function bf(e,t,n,r,i){if(n.length>0&&function(e,t,n){return r.some(function(n){return wf(e,t,n)&&_f(n)!==Fp})}(e,n)){var a=new nh(t,function(e,t,n,r){var i,o,a={};a[Fp]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;try{for(var s=c(n),u=s.next();!u.done;u=s.next()){var l=u.value;if(""===l.path&&_f(l)!==Fp){var p=new nh([],{});p._sourceSegment=e,p._segmentIndexShift=t.length,a[_f(l)]=p}}}catch(h){i={error:h}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a}(e,t,r,new nh(n,e.children)));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return r.some(function(n){return wf(e,t,n)})}(e,n)){var s=new nh(e.segments,function(e,t,n,r,i,a){var s,u,l={};try{for(var p=c(r),h=p.next();!h.done;h=p.next()){var f=h.value;if(wf(e,n,f)&&!i[_f(f)]){var d=new nh([],{});d._sourceSegment=e,d._segmentIndexShift="legacy"===a?e.segments.length:t.length,l[_f(f)]=d}}}catch(m){s={error:m}}finally{try{h&&!h.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}return o({},i,l)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}var u=new nh(e.segments,e.children);return u._sourceSegment=e,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:n}}function wf(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function _f(e){return e.outlet||Fp}function xf(e){return e.data||{}}function Ef(e){return e.resolve||{}}function Of(e,t,n,r){var i=cf(e,t,r);return Jp(i.resolve?i.resolve(t,n):i(t,n))}function jf(e){return function(t){return t.pipe(Iu(function(t){var n=e(t);return n?ie(n).pipe(ee(function(){return t})):ie([t])}))}}var Sf=function(){return function(){}}(),Cf=function(){function e(){}return e.prototype.shouldDetach=function(e){return!1},e.prototype.store=function(e,t){},e.prototype.shouldAttach=function(e){return!1},e.prototype.retrieve=function(e){return null},e.prototype.shouldReuseRoute=function(e,t){return e.routeConfig===t.routeConfig},e}(),kf=new Ce("ROUTES"),Tf=function(){function e(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}return e.prototype.load=function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(ee(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new Hp(Zp(i.injector.get(kf)).map(qp),i)}))},e.prototype.loadModuleFactory=function(e){var t=this;return"string"==typeof e?ie(this.loader.load(e)):Jp(e()).pipe(oe(function(e){return e instanceof sr?ou(e):ie(t.compiler.compileModuleAsync(e))}))},e}(),Af=function(){return function(){}}(),Rf=function(){function e(){}return e.prototype.shouldProcessUrl=function(e){return!0},e.prototype.extract=function(e){return e},e.prototype.merge=function(e,t){return e},e}();function Pf(e){throw e}function Mf(e,t,n){return t.parse("/")}function Df(e,t){return ou(null)}var Nf=function(){function e(e,t,n,r,i,o,a,s){var c=this;this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=s,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new F,this.errorHandler=Pf,this.malformedUriErrorHandler=Mf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Df,afterPreactivation:Df},this.urlHandlingStrategy=new Rf,this.routeReuseStrategy=new Cf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(ar),this.console=i.get(Ni);var u=i.get(Gi);this.isNgZoneEnabled=u instanceof Gi,this.resetConfig(s),this.currentUrlTree=new th(new nh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new Tf(o,a,function(e){return c.triggerEvent(new Rp(e))},function(e){return c.triggerEvent(new Pp(e))}),this.routerState=Ch(this.currentUrlTree,this.rootComponentType),this.transitions=new au({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",state:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return e.prototype.setupNavigations=function(e){var t=this,n=this.events;return e.pipe(lu(function(e){return 0!==e.id}),ee(function(e){return o({},e,{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),Iu(function(e){var r,i,a,s,u=!1,l=!1;return ou(e).pipe(Iu(function(e){var r,i,a,s,c=!t.navigated||e.extractedUrl.toString()!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||c)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return ou(e).pipe(gu(function(e){return"eager"===t.urlUpdateStrategy&&!e.extras.skipLocationChange&&t.setBrowserUrl(e.rawUrl,!!e.extras.replaceUrl,e.id)}),Iu(function(e){var r=t.transitions.getValue();return n.next(new xp(e.id,t.serializeUrl(e.extractedUrl),e.source,e.state)),r!==t.transitions.getValue()?ru:[e]}),Iu(function(e){return Promise.resolve(e)}),(r=t.ngModule.injector,i=t.configLoader,a=t.urlSerializer,s=t.config,function(e){return e.pipe(Iu(function(e){return function(t,n,r,i,o){return new ef(t,n,r,e.extractedUrl,o).apply()}(r,i,a,0,s).pipe(ee(function(t){return o({},e,{urlAfterRedirects:t})}))}))}),function(e,n,r,i,a){return function(r){return r.pipe(oe(function(r){return function(e,t,n,r,i,o){return void 0===i&&(i="emptyOnly"),void 0===o&&(o="legacy"),new yf(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,t.serializeUrl(s)),i,a).pipe(ee(function(e){return o({},r,{targetSnapshot:e})}));var s}))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),gu(function(e){var r=new Sp(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(c&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.extractedUrl,l=e.source,p=e.state,h=e.extras,f=new xp(e.id,t.serializeUrl(u),l,p);n.next(f);var d=Ch(u,t.rootComponentType).snapshot;return ou(o({},e,{targetSnapshot:d,urlAfterRedirects:u,extras:o({},h,{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,e.resolve(null),ru}),jf(function(e){var n=e.extras;return t.hooks.beforePreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),gu(function(e){var n=new Cp(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),ee(function(e){return o({},e,{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,a=n._root,uf(a,r?r._root:null,i,[a.value]))});var n,r,i,a}),function(e,t){return function(n){return n.pipe(oe(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,a=n.guards,s=a.canActivateChecks,c=a.canDeactivateChecks;return 0===c.length&&0===s.length?ou(o({},n,{guardsResult:!0})):function(e,t,n,r){return ie(c).pipe(oe(function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ie(o).pipe(oe(function(o){var a=cf(o,t,i);return Jp(a.canDeactivate?a.canDeactivate(e,t,n,r):a(e,t,n,r)).pipe(Nu())})).pipe(Cu(function(e){return!0===e})):ou(!0)}(e.component,e.route,n,t,r)}),Cu(function(e){return!0===e}))}(0,r,i,e).pipe(oe(function(n){return n?function(e,t,n,r){return ie(s).pipe(Fu(function(t){return Qp(ie([hf(t.route.parent,r),pf(t.route,r),df(e,t.path,n),ff(e,t.route,n)]))}),Cu(function(e){return!0===e}))}(r,0,e,t):ou(!1)}),ee(function(e){return o({},n,{guardsResult:e})}))}))}}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),gu(function(e){var n=new kp(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)}),lu(function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new Op(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0}),jf(function(e){if(e.guards.canActivateChecks.length)return ou(e).pipe(gu(function(e){var n=new Tp(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(oe(function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?ie(i).pipe(Fu(function(e){return function(e,n,r,i){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return ou({});if(1===i.length){var o=i[0];return Of(e[o],t,n,r).pipe(ee(function(e){var t;return(t={})[o]=e,t}))}var a={};return ie(i).pipe(oe(function(i){return Of(e[i],t,n,r).pipe(ee(function(e){return a[i]=e,e}))})).pipe(Su(),ee(function(){return a}))}(e._resolve,e,t,i).pipe(ee(function(t){return e._resolvedData=t,e.data=o({},e.data,Th(e,r).resolve),null}))}(e.route,0,n,r)}),function(e,t){return arguments.length>=2?function(t){return R(zu(e,void 0),mu(1),Eu(void 0))(t)}:function(t){return R(zu(function(t,n,r){return e(t)}),mu(1))(t)}}(function(e,t){return e}),ee(function(t){return e})):ou(e)}))}),gu(function(e){var n=new Ap(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}));var n,r}),jf(function(e){var n=e.extras;return t.hooks.afterPreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),ee(function(e){var n,r,i,a=(i=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){(u=r.value)._futureSnapshot=n.value;var i=function(t,n,r){return n.children.map(function(n){var i,o;try{for(var a=c(r.children),s=a.next();!s.done;s=a.next()){var u=s.value;if(t.shouldReuseRoute(u.value.snapshot,n.value))return e(t,n,u)}}catch(l){i={error:l}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return e(t,n)})}(t,n,r);return new Oh(u,i)}var o=t.retrieve(n.value);if(o){var a=o.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,a),a}var s,u=new kh(new au((s=n.value).url),new au(s.params),new au(s.queryParams),new au(s.fragment),new au(s.data),s.outlet,s.component,s);return i=n.children.map(function(n){return e(t,n)}),new Oh(u,i)}(t.routeReuseStrategy,(n=e.targetSnapshot)._root,(r=e.currentRouterState)?r._root:void 0),new Sh(i,n));return o({},e,{targetRouterState:a})}),gu(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"!==t.urlUpdateStrategy||e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id)}),(i=t.rootContexts,a=t.routeReuseStrategy,s=function(e){return t.triggerEvent(e)},ee(function(e){return new qh(a,e.targetRouterState,e.currentRouterState,s).activate(i),e})),gu({next:function(){u=!0},complete:function(){u=!0}}),(r=function(){if(!u&&!l){t.resetUrlToCurrentUrlTree();var r=new Op(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID "+e.id+" is not equal to the current navigation id "+t.navigationId);n.next(r),e.resolve(!1)}},function(e){return e.lift(new Hu(r))}),Au(function(r){if(l=!0,(a=r)&&a.ngNavigationCancelingError){t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var i=new Op(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(i),e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var o=new jp(e.id,t.serializeUrl(e.extractedUrl),r);n.next(o);try{e.resolve(t.errorHandler(r))}catch(s){e.reject(s)}}var a;return ru}))}))},e.prototype.resetRootComponentType=function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType},e.prototype.getTransition=function(){return this.transitions.value},e.prototype.setTransition=function(e){this.transitions.next(o({},this.getTransition(),e))},e.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},e.prototype.setUpLocationChangeListener=function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?{navigationId:t.state.navigationId}:null;setTimeout(function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})},0)}))},Object.defineProperty(e.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),e.prototype.triggerEvent=function(e){this.events.next(e)},e.prototype.resetConfig=function(e){$p(e),this.config=e.map(qp),this.navigated=!1,this.lastSuccessfulId=-1},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},e.prototype.createUrlTree=function(e,t){void 0===t&&(t={});var n=t.relativeTo,r=t.queryParams,i=t.fragment,a=t.preserveQueryParams,s=t.queryParamsHandling,c=t.preserveFragment;$r()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,p=c?this.currentUrlTree.fragment:i,h=null;if(s)switch(s){case"merge":h=o({},this.currentUrlTree.queryParams,r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=a?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return Bh(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Lh(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Yp(r.outlets,function(e,t){o[t]="string"==typeof e?e.split("/"):e}),l(e,[{outlets:o}])}if(r.segmentPath)return l(e,[r.segmentPath])}return"string"!=typeof r?l(e,[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):l(e,[r])},[]);return new Lh(n,t,r)}(n);if(o.toRoot())return Bh(t.root,new nh([],{}),t,r,i);var a=function(e,n,r){if(e.isAbsolute)return new Fh(t.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Fh(r.snapshot._urlSegment,!0,0);var i=Ih(e.commands[0])?0:1;return function(t,n,o){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,c=e.numberOfDoubleDots;c>s;){if(c-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new Fh(a,!1,s-c)}()}(o,0,e),s=a.processChildren?Uh(a.segmentGroup,a.index,o.commands):Vh(a.segmentGroup,a.index,o.commands);return Bh(a.segmentGroup,s,t,r,i)}(u,this.currentUrlTree,e,h,p)},e.prototype.navigateByUrl=function(e,t){void 0===t&&(t={skipLocationChange:!1}),$r()&&this.isNgZoneEnabled&&!Gi.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=e instanceof th?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)},e.prototype.navigate=function(e,t){return void 0===t&&(t={skipLocationChange:!1}),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+t)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)},e.prototype.serializeUrl=function(e){return this.urlSerializer.serialize(e)},e.prototype.parseUrl=function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t},e.prototype.isActive=function(e,t){if(e instanceof th)return eh(this.currentUrlTree,e,t);var n=this.parseUrl(e);return eh(this.currentUrlTree,n,t)},e.prototype.removeEmptyProps=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})},e.prototype.processNavigations=function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Ep(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ")})},e.prototype.scheduleNavigation=function(e,t,n,r){var i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise(function(e,t){o=e,a=t}),c=++this.navigationId;return this.setTransition({id:c,source:t,state:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(e){return Promise.reject(e)})},e.prototype.setBrowserUrl=function(e,t,n){var r=this.urlSerializer.serialize(e);this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",{navigationId:n}):this.location.go(r,"",{navigationId:n})},e.prototype.resetStateAndUrl=function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},e.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},e}(),If=function(){function e(e,t,n){var r=this;this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(function(e){e instanceof Ep&&r.updateTargetUrlAndHref()})}return Object.defineProperty(e.prototype,"routerLink",{set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preserveQueryParams",{set:function(e){$r()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){this.updateTargetUrlAndHref()},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.onClick=function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Bf(this.skipLocationChange),replaceUrl:Bf(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1},e.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(e.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Bf(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Bf(this.preserveFragment)})},enumerable:!0,configurable:!0}),a([yi("attr.target"),mi(),s("design:type",String)],e.prototype,"target",void 0),e}();function Bf(e){return""===e||!!e}var Lf=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ff,this.attachRef=null}}(),Ff=function(){function e(){this.contexts=new Map}return e.prototype.onChildOutletCreated=function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)},e.prototype.onChildOutletDestroyed=function(e){var t=this.getContext(e);t&&(t.outlet=null)},e.prototype.onOutletDeactivated=function(){var e=this.contexts;return this.contexts=new Map,e},e.prototype.onOutletReAttached=function(e){this.contexts=e},e.prototype.getOrCreateContext=function(e){var t=this.getContext(e);return t||(t=new Lf,this.contexts.set(e,t)),t},e.prototype.getContext=function(e){return this.contexts.get(e)||null},e}(),zf=function(){function e(e,t,n,r,i){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new zr,this.deactivateEvents=new zr,this.name=r||Fp,e.onChildOutletCreated(this.name,this)}return e.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},e.prototype.ngOnInit=function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}},Object.defineProperty(e.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),e.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e},e.prototype.attach=function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)},e.prototype.deactivate=function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}},e.prototype.activateWith=function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Vf(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},e}(),Vf=function(){function e(e,t,n){this.route=e,this.childContexts=t,this.parent=n}return e.prototype.get=function(e,t){return e===kh?this.route:e===Ff?this.childContexts:this.parent.get(e,t)},e}(),Uf=function(){return function(){}}(),Hf=function(){function e(){}return e.prototype.preload=function(e,t){return t().pipe(Au(function(){return ou(null)}))},e}(),$f=function(){function e(){}return e.prototype.preload=function(e,t){return ou(null)},e}(),Wf=function(){function e(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Tf(t,n,function(t){return e.triggerEvent(new Rp(t))},function(t){return e.triggerEvent(new Pp(t))})}return e.prototype.setUpPreloading=function(){var e=this;this.subscription=this.router.events.pipe(lu(function(e){return e instanceof Ep}),Fu(function(){return e.preload()})).subscribe(function(){})},e.prototype.preload=function(){var e=this.injector.get(ar);return this.processRoutes(e,this.router.config)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.processRoutes=function(e,t){var n,r,i=[];try{for(var o=c(t),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var u=s._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(e,s)):s.children&&i.push(this.processRoutes(e,s.children))}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return ie(i).pipe(ue(),ee(function(e){}))},e.prototype.preloadConfig=function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return n.loader.load(e.injector,t).pipe(oe(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})},e}(),Gf=function(){function e(e,t,n){void 0===n&&(n={}),this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return e.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},e.prototype.createScrollEvents=function(){var e=this;return this.router.events.subscribe(function(t){t instanceof xp?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ep&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})},e.prototype.consumeScrollEvents=function(){var e=this;return this.router.events.subscribe(function(t){t instanceof Bp&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})},e.prototype.scheduleScrollEvent=function(e,t){this.router.triggerEvent(new Bp(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))},e.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},e}(),qf=new Ce("ROUTER_CONFIGURATION"),Kf=new Ce("ROUTER_FORROOT_GUARD"),Zf=[Zu,{provide:ah,useClass:sh},{provide:Nf,useFactory:nd,deps:[uo,ah,Ff,Zu,et,po,Fi,kf,qf,[Af,new Ge],[Sf,new Ge]]},Ff,{provide:kh,useFactory:rd,deps:[Nf]},{provide:po,useClass:yo},Wf,$f,Hf,{provide:qf,useValue:{enableTracing:!1}}];function Xf(){return new io("Router",Nf)}var Yf=function(){function e(e,t){}var t;return t=e,e.forRoot=function(e,n){return{ngModule:t,providers:[Zf,td(e),{provide:Kf,useFactory:ed,deps:[[Nf,new Ge,new Ke]]},{provide:qf,useValue:n||{}},{provide:qu,useFactory:Jf,deps:[Wu,[new We(Ku),new Ge],qf]},{provide:Gf,useFactory:Qf,deps:[Nf,ll,qf]},{provide:Uf,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:$f},{provide:io,multi:!0,useFactory:Xf},[id,{provide:Ci,multi:!0,useFactory:od,deps:[id]},{provide:sd,useFactory:ad,deps:[id]},{provide:Di,multi:!0,useExisting:sd}]]}},e.forChild=function(e){return{ngModule:t,providers:[td(e)]}},e}();function Qf(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Gf(e,t,n)}function Jf(e,t,n){return void 0===n&&(n={}),n.useHash?new Yu(e,t):new Qu(e,t)}function ed(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function td(e){return[{provide:Me,multi:!0,useValue:e},{provide:kf,multi:!0,useValue:e}]}function nd(e,t,n,r,i,o,a,s,c,u,l){void 0===c&&(c={});var p=new Nf(null,t,n,r,i,o,a,Zp(s));if(u&&(p.urlHandlingStrategy=u),l&&(p.routeReuseStrategy=l),c.errorHandler&&(p.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(p.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){var h=fl();p.events.subscribe(function(e){h.logGroup("Router Event: "+e.constructor.name),h.log(e.toString()),h.log(e),h.logGroupEnd()})}return c.onSameUrlNavigation&&(p.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(p.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(p.relativeLinkResolution=c.relativeLinkResolution),p}function rd(e){return e.routerState.root}var id=function(){function e(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new F}return e.prototype.appInitializer=function(){var e=this;return this.injector.get(Gu,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(Nf),i=e.injector.get(qf);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return e.initNavigation?ou(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n})},e.prototype.bootstrapListener=function(e){var t=this.injector.get(qf),n=this.injector.get(Wf),r=this.injector.get(Gf),i=this.injector.get(Nf),o=this.injector.get(uo);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},e.prototype.isLegacyEnabled=function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation},e.prototype.isLegacyDisabled=function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation},e}();function od(e){return e.appInitializer.bind(e)}function ad(e){return e.bootstrapListener.bind(e)}var sd=new Ce("Router Initializer"),cd=la({encapsulation:2,styles:[],data:{}});function ud(e){return Gs(0,[(e()(),Ia(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Os(1,212992,null,0,zf,[Ff,bo,rr,[8,null],wo],null,null)],function(e,t){e(t,1,0)},null)}function ld(e){return Gs(0,[(e()(),Ia(0,0,null,null,1,"ng-component",[],null,null,null,ud,cd)),Os(1,49152,null,0,Lp,[],null,null)],null,null)}var pd=es("ng-component",Lp,ld,{},{},[]),hd=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),fd=la({encapsulation:0,styles:[[""]],data:{}});function dd(e){return Gs(0,[],null,null)}function md(e){return Gs(0,[(e()(),Ia(0,0,null,null,1,"app-home",[],null,null,null,dd,fd)),Os(1,114688,null,0,hd,[],null,null)],function(e,t){e(t,1,0)},null)}var yd=es("app-home",hd,md,{},{},[]),vd=n("P7XM"),gd=n.n(vd),bd=n("Z5v3"),wd=n.n(bd),_d=n("h/KA"),xd=n("5QZp"),Ed=n("a4vW"),Od=n("VcIm"),jd=n.n(Od);function Sd(){}function Cd(e,t){this.model=e,this.properties=t}Sd.prototype.get=function(e){return this.$model.properties.get(this,e)},Sd.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},Cd.prototype.createType=function(e){var t=this.model,n=this.properties,r=Object.create(Sd.prototype);Object(_d.i)(e.properties,function(e){e.isMany||void 0===e.default||(r[e.name]=e.default)}),n.defineModel(r,t),n.defineDescriptor(r,e);var i=e.ns.name;function o(e){n.define(this,"$type",{value:i,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),Object(_d.i)(e,Object(_d.b)(function(e,t){this.set(t,e)},this))}return o.prototype=r,o.hasType=r.$instanceOf=this.model.hasType,n.defineModel(o,t),n.defineDescriptor(o,e),o};var kd={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},Td={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e,10)}};function Ad(e,t){var n=Td[e];return n?n(t):t}function Rd(e){return!!kd[e]}function Pd(e){return!!Td[e]}function Md(e,t){var n,r,i=e.split(/:/);if(1===i.length)n=e,r=t;else{if(2!==i.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=i[1],r=i[0]}return{name:e=(r?r+":":"")+n,prefix:r,localName:n}}function Dd(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function Nd(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,Object(_d.i)(e,Object(_d.b)(this.registerPackage,this))}function Id(e,t,n){var r=t[n];if(r in e)throw new Error("package with "+n+" <"+r+"> already defined")}function Bd(e){this.model=e}function Ld(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function Fd(e){this.properties=new Bd(this),this.factory=new Cd(this,this.properties),this.registry=new Nd(e,this.properties),this.typeCache={}}Dd.prototype.build=function(){return Object(_d.w)(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},Dd.prototype.addProperty=function(e,t,n){"boolean"==typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);var r=this.properties;void 0!==t?r.splice(t,0,e):r.push(e)},Dd.prototype.replaceProperty=function(e,t,n){var r=e.ns,i=this.properties,o=this.propertiesByName,a=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var s=i.indexOf(e);if(-1===s)throw new Error("property <"+r.name+"> not found in property list");i.splice(s,1),this.addProperty(t,n?void 0:s,a),o[r.name]=o[r.localName]=t},Dd.prototype.redefineProperty=function(e,t,n){var r=e.ns.prefix,i=t.split("#"),o=Md(i[0],r),a=Md(i[1],o.prefix).name,s=this.propertiesByName[a];if(!s)throw new Error("refined property <"+a+"> not found");this.replaceProperty(s,e,n),delete e.redefines},Dd.prototype.addNamedProperty=function(e,t){var n=e.ns,r=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),r[n.name]=r[n.localName]=e},Dd.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},Dd.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},Dd.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},Dd.prototype.assertNotDefined=function(e,t){var n=e.name,r=this.propertiesByName[n];if(r)throw new Error("property <"+n+"> already defined; override of <"+r.definedBy.ns.name+"#"+r.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},Dd.prototype.hasProperty=function(e){return this.propertiesByName[e]},Dd.prototype.addTrait=function(e,t){var n=this.allTypesByName,r=this.allTypes,i=e.name;i in n||(Object(_d.i)(e.properties,Object(_d.b)(function(n){n=Object(_d.a)({},n,{name:n.ns.localName,inherited:t}),Object.defineProperty(n,"definedBy",{value:e});var r=n.replaces,i=n.redefines;r||i?this.redefineProperty(n,r||i,r):(n.isBody&&this.setBodyProperty(n),n.isId&&this.setIdProperty(n),this.addProperty(n))},this)),r.push(e),n[i]=e)},Nd.prototype.getPackage=function(e){return this.packageMap[e]},Nd.prototype.getPackages=function(){return this.packages},Nd.prototype.registerPackage=function(e){e=Object(_d.a)({},e);var t=this.packageMap;Id(t,e,"prefix"),Id(t,e,"uri"),Object(_d.i)(e.types,Object(_d.b)(function(t){this.registerType(t,e)},this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},Nd.prototype.registerType=function(e,t){var n=Md((e=Object(_d.a)({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:Object(_d.a)(e.meta||{})})).name,t.prefix),r=n.name,i={};Object(_d.i)(e.properties,Object(_d.b)(function(e){var t=Md(e.name,n.prefix),r=t.name;Rd(e.type)||(e.type=Md(e.type,t.prefix).name),Object(_d.a)(e,{ns:t,name:r}),i[r]=e},this)),Object(_d.a)(e,{ns:n,name:r,propertiesByName:i}),Object(_d.i)(e.extends,Object(_d.b)(function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(r)},this)),this.definePackage(e,t),this.typeMap[r]=e},Nd.prototype.mapTypes=function(e,t,n){var r=Rd(e.name)?{name:e.name}:this.typeMap[e.name],i=this;function o(e){return a(e,!0)}function a(n,r){var o=Md(n,Rd(n)?"":e.prefix);i.mapTypes(o,t,r)}if(!r)throw new Error("unknown type <"+e.name+">");Object(_d.i)(r.superClass,n?o:a),t(r,!n),Object(_d.i)(r.traits,o)},Nd.prototype.getEffectiveDescriptor=function(e){var t=Md(e),n=new Dd(t);this.mapTypes(t,function(e,t){n.addTrait(e,t)});var r=n.build();return this.definePackage(r,r.allTypes[r.allTypes.length-1].$pkg),r},Nd.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})},Bd.prototype.set=function(e,t,n){var r=this.model.getPropertyDescriptor(e,t),i=r&&r.name;void 0===n?r?delete e[i]:delete e.$attrs[t]:r?i in e?e[i]=n:Ld(e,r,n):e.$attrs[t]=n},Bd.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var r=n.name;return!e[r]&&n.isMany&&Ld(e,n,[]),e[r]},Bd.prototype.define=function(e,t,n){Object.defineProperty(e,t,n)},Bd.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},Bd.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})},Fd.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},Fd.prototype.getType=function(e){var t=this.typeCache,n=Object(_d.q)(e)?e:e.ns.name,r=t[n];return r||(e=this.registry.getEffectiveDescriptor(n),r=t[n]=this.factory.createType(e)),r},Fd.prototype.createAny=function(e,t,n){var r=Md(e),i={$type:e,$instanceOf:function(e){return e===this.$type}};return this.properties.defineDescriptor(i,{name:e,isGeneric:!0,ns:{prefix:r.prefix,localName:r.localName,uri:t}}),this.properties.defineModel(i,this),this.properties.define(i,"$parent",{enumerable:!1,writable:!0}),Object(_d.i)(n,function(e,t){Object(_d.p)(e)&&void 0!==e.value?i[e.name]=e.value:i[t]=e}),i},Fd.prototype.getPackage=function(e){return this.registry.getPackage(e)},Fd.prototype.getPackages=function(){return this.registry.getPackages()},Fd.prototype.getElementDescriptor=function(e){return e.$descriptor},Fd.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},Fd.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},Fd.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var zd=n("xOv9"),Vd=n.n(zd),Ud=String.fromCharCode,Hd=Object.prototype.hasOwnProperty,$d=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,Wd={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function Gd(e,t,n,r){return r?Hd.call(Wd,r)?Wd[r]:"&"+r+";":Ud(t||parseInt(n,16))}function qd(e){return e.length>3&&-1!==e.indexOf("&")?e.replace($d,Gd):e}Object.keys(Wd).forEach(function(e){Wd[e.toUpperCase()]=Wd[e]});var Kd="http://www.w3.org/2001/XMLSchema-instance",Zd="xsi",Xd="xsi:type",Yd="non-whitespace outside of root node";function Qd(e){return new Error(e)}function Jd(e){return"missing namespace for prefix <"+e+">"}function em(e){return{get:e,enumerable:!0}}function tm(e){var t,n={};for(t in e)n[t]=e[t];return n}function nm(e){return e+"$uri"}function rm(){return{line:0,column:0}}function im(e){throw e}function om(e){if(!this)return new om(e);var t,n,r,i,o,a,s,c,u,l=e&&e.proxy,p=im,h=rm,f=!1,d=!1,m=null,y=!1;function v(e){e instanceof Error||(e=Qd(e)),m=e,p(e,h)}function g(e){o&&(e instanceof Error||(e=Qd(e)),o(e,h))}this.on=function(e,u){if("function"!=typeof u)throw Qd("required args <name, cb>");switch(e){case"openTag":n=u;break;case"text":t=u;break;case"closeTag":r=u;break;case"error":p=u;break;case"warn":o=u;break;case"cdata":i=u;break;case"attention":c=u;break;case"question":s=u;break;case"comment":a=u;break;default:throw Qd("unsupported event: "+e)}return this},this.ns=function(e){if(void 0===e&&(e={}),"object"!=typeof e)throw Qd("required args <nsMap={}>");var t,n={};for(t in e)n[t]=e[t];return n[Kd]=Zd,d=!0,u=n,this},this.parse=function(e){if("string"!=typeof e)throw Qd("required args <xml=string>");return m=null,function(e){var o,p,m,b,w,_,x,E,O,j,S=d?[]:null,C=d?function(e){var t,n,r={};for(t in e)r[n=e[t]]=n,r[nm(n)]=t;return r}(u):null,k=[],T=0,A=!1,R=!1,P=0,M=0,D="",N=0;function I(){if(null!==j)return j;var e,t,n,r,i,o,a,s,c,l,p,h=d&&C.xmlns,m=d&&f?[]:null,y=N,v=D,b=v.length,w={},_={};e:for(;y<b;y++)if(c=!1,!(32===(l=v.charCodeAt(y))||l<14&&l>8)){for((l<65||l>122||l>90&&l<97)&&95!==l&&58!==l&&(g("illegal first char attribute name"),c=!0),p=y+1;p<b;p++)if(!((l=v.charCodeAt(p))>96&&l<123||l>64&&l<91||l>47&&l<59||46===l||45===l||95===l)){if(32===l||l<14&&l>8){g("missing attribute value"),y=p;continue e}if(61===l)break;g("illegal attribute name char"),c=!0}if("xmlns:xmlns"===(s=v.substring(y,p))&&(g("illegal declaration of xmlns"),c=!0),34===(l=v.charCodeAt(p+1)))-1===(p=v.indexOf('"',y=p+2))&&-1!==(p=v.indexOf("'",y))&&(g("attribute value quote missmatch"),c=!0);else if(39===l)-1===(p=v.indexOf("'",y=p+2))&&-1!==(p=v.indexOf('"',y))&&(g("attribute value quote missmatch"),c=!0);else for(g("missing attribute value quotes"),c=!0,p+=1;p<b&&!(32===(l=v.charCodeAt(p+1))||l<14&&l>8);p++);for(-1===p&&(g("missing closing quotes"),p=b,c=!0),c||(o=v.substring(y,p)),y=p;p+1<b&&!(32===(l=v.charCodeAt(p+1))||l<14&&l>8);p++)y===p&&(g("illegal character after attribute end"),c=!0);if(y=p+1,!c)if(s in _)g("attribute <"+s+"> already defined");else if(_[s]=!0,d)if(f){if(null!==(i="xmlns"===s?"xmlns":120===s.charCodeAt(0)&&"xmlns:"===s.substr(0,6)?s.substr(6):null)){if(e=qd(o),t=nm(i),!(a=u[e])){if("xmlns"===i||t in C&&C[t]!==e)do{a="ns"+T++}while(void 0!==C[a]);else a=i;u[e]=a}C[i]!==a&&(r||(C=tm(C),r=!0),C[i]=a,"xmlns"===i&&(C[nm(a)]=e,h=a),C[t]=e),w[s]=o;continue}m.push(s,o)}else-1!==(l=s.indexOf(":"))?(n=C[s.substring(0,l)])?((s=h===n?s.substr(l+1):n+s.substr(l))===Xd&&(-1!==(l=o.indexOf(":"))?(n=o.substring(0,l),o=(n=C[n]||n)+o.substring(l)):o=h+":"+o),w[s]=o):g(Jd(s.substring(0,l))):w[s]=o;else w[s]=o}if(f)for(y=0,b=m.length;y<b;y++){if(s=m[y++],o=m[y],-1!==(l=s.indexOf(":"))){if(!(n=C[s.substring(0,l)])){g(Jd(s.substring(0,l)));continue}(s=h===n?s.substr(l+1):n+s.substr(l))===Xd&&(-1!==(l=o.indexOf(":"))?(n=o.substring(0,l),o=(n=C[n]||n)+o.substring(l)):o=h+":"+o)}w[s]=o}return j=w}for(h=function(){for(var t,n,r=/(\r\n|\r|\n)/g,i=0,o=0,a=0,s=M;P>=a&&(t=r.exec(e))&&!((s=t[0].length+t.index)>P);)i+=1,a=s;return-1==P?(o=s,n=e.substring(M)):0===M?(console.log(P-a),n=e.substring(M,P)):(o=P-a,n=-1==M?e.substring(P):e.substring(P,M+1)),{data:n,line:i,column:o}},l&&(O=Object.create({},{name:em(function(){return x}),originalName:em(function(){return E}),attrs:em(I),ns:em(function(){return C})}));-1!==M;){if(-1===(P=60===e.charCodeAt(M)?M:e.indexOf("<",M)))return k.length?v("unexpected end of file"):0===M?v("missing start tag"):void(M<e.length&&e.substring(M).trim()&&g(Yd));if(M!==P)if(k.length){if(t&&(t(e.substring(M,P),qd,h),y))return}else if(e.substring(M,P).trim()&&(g(Yd),y))return;if(33!==(w=e.charCodeAt(P+1)))if(63!==w){if(-1==(M=e.indexOf(">",P+1)))return v("unclosed tag");if(j={},47===w){if(A=!1,R=!0,!k.length)return v("missing open tag");if(p=x=k.pop(),e.substring(P+2,b=P+2+p.length)!==p)return v("closing tag mismatch");for(;b<M;b++)if(!(32===(w=e.charCodeAt(b))||w>8&&w<14))return v("close tag")}else{if(47===e.charCodeAt(M-1)?(p=x=e.substring(P+1,M-1),A=!0,R=!0):(p=x=e.substring(P+1,M),A=!0,R=!1),!(w>96&&w<123||w>64&&w<91||95===w||58===w))return v("illegal first char nodeName");for(b=1,m=p.length;b<m;b++)if(!((w=p.charCodeAt(b))>96&&w<123||w>64&&w<91||w>47&&w<59||45===w||95===w||46==w)){if(32===w||w<14&&w>8){x=p.substring(0,b),j=null;break}return v("invalid nodeName")}R||k.push(x)}if(d){if(o=C,A&&(R||S.push(o),null===j&&(f=-1!==p.indexOf("xmlns",b))&&(N=b,D=p,I(),f=!1)),E=x,-1!==(w=x.indexOf(":"))){if(!(_=C[x.substring(0,w)]))return v("missing namespace on <"+E+">");x=x.substr(w+1)}else _=C.xmlns;_&&(x=_+":"+x)}if(A&&(N=b,D=p,n&&(l?n(O,qd,R,h):n(x,I,qd,R,h),y)))return;if(R){if(r&&(r(l?O:x,qd,A,h),y))return;d&&(C=A?o:S.pop())}M+=1}else{if(-1===(M=e.indexOf("?>",P)))return v("unclosed question");if(s&&(s(e.substring(P,M+2),h),y))return;M+=2}else{if(91===(w=e.charCodeAt(P+2))&&"CDATA["===e.substr(P+3,6)){if(-1===(M=e.indexOf("]]>",P)))return v("unclosed cdata");if(i&&(i(e.substring(P+9,M),h),y))return;M+=3;continue}if(45===w&&45===e.charCodeAt(P+3)){if(-1===(M=e.indexOf("--\x3e",P)))return v("unclosed comment");if(a&&(a(e.substring(P+4,M),qd,h),y))return;M+=3;continue}if(-1===(M=e.indexOf(">",P+1)))return v("unclosed tag");if(c&&(c(e.substring(P,M+1),qd,h),y))return;M+=1}}}(e),h=rm,y=!1,m},this.stop=function(){y=!0}}function am(e){return e.xml&&"lowerCase"===e.xml.tagAlias}var sm={xsi:"http://www.w3.org/2001/XMLSchema-instance"},cm="xsi:type";function um(e){return e.xml&&e.xml.serialize}function lm(e){return um(e)===cm}function pm(e,t){return am(t)?e.prefix+":"+((n=e.localName).charAt(0).toUpperCase()+n.slice(1)):e.name;var n}function hm(e){return new Error(e)}function fm(e){return e.$descriptor}function dm(e){Object(_d.a)(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw hm("expected element");var t,n=this.elementsById,r=fm(e).idProperty;if(r&&(t=e.get(r.name))){if(n[t])throw hm("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function mm(){}function ym(){}function vm(){}function gm(e,t){this.property=e,this.context=t}function bm(e,t){this.element=t,this.propertyDesc=e}function wm(){}function _m(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function xm(e,t,n){_m.call(this,e,t,n)}function Em(e,t,n){this.model=e,this.context=n}function Om(e){e instanceof Fd&&(e={model:e}),Object(_d.a)(this,{lax:!1},e)}mm.prototype.handleEnd=function(){},mm.prototype.handleText=function(){},mm.prototype.handleNode=function(){},(ym.prototype=Object.create(mm.prototype)).handleNode=function(){return this},(vm.prototype=Object.create(mm.prototype)).handleText=function(e){this.body=(this.body||"")+e},(gm.prototype=Object.create(vm.prototype)).handleNode=function(e){if(this.element)throw hm("expected no sub nodes");return this.element=this.createReference(e),this},gm.prototype.handleEnd=function(){this.element.id=this.body},gm.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},(bm.prototype=Object.create(vm.prototype)).handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=Ad(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},(wm.prototype=Object.create(vm.prototype)).handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},(_m.prototype=Object.create(wm.prototype)).addReference=function(e){this.context.addReference(e)},_m.prototype.handleEnd=function(){var e=this.body,t=this.element,n=fm(t).bodyProperty;n&&void 0!==e&&(e=Ad(n.type,e),t.set(n.name,e))},_m.prototype.createElement=function(e){var t,n=e.attributes,r=this.type,i=fm(r),o=this.context,a=new r({}),s=this.model;return Object(_d.i)(n,function(e,n){var r,c=i.propertiesByName[n];c&&c.isReference?c.isMany?(r=e.split(" "),Object(_d.i)(r,function(e){o.addReference({element:a,property:c.ns.name,id:e})})):o.addReference({element:a,property:c.ns.name,id:e}):(c?e=Ad(c.type,e):"xmlns"!==n&&(t=Md(n,i.ns.prefix),s.getPackage(t.prefix)&&o.addWarning({message:"unknown attribute <"+n+">",element:a,property:n,value:e})),a.set(n,e))}),a},_m.prototype.getPropertyForNode=function(e){var t,n,r=Md(e.name),i=this.model,o=fm(this.type),a=o.propertiesByName[r.name];if(a)return lm(a)&&(t=e.attributes[cm])?(t=function(e,n){var r=Md(t);return function(e,t){var n=e.name,r=e.localName,i=t.xml&&t.xml.typePrefix;return i&&0===r.indexOf(i)?e.prefix+":"+r.slice(i.length):n}(r,n.getPackage(r.prefix))}(0,i),n=i.getType(t),Object(_d.a)({},a,{effectiveType:fm(n).name})):a;var s=i.getPackage(r.prefix);if(s){if(t=pm(r,s),n=i.getType(t),a=Object(_d.f)(o.properties,function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)}))return Object(_d.a)({},a,{effectiveType:fm(n).name})}else if(a=Object(_d.f)(o.properties,function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type}))return a;throw hm("unrecognized element <"+r.name+">")},_m.prototype.toString=function(){return"ElementDescriptor["+fm(this.type).name+"]"},_m.prototype.valueHandler=function(e,t){return new bm(e,t)},_m.prototype.referenceHandler=function(e){return new gm(e,this.context)},_m.prototype.handler=function(e){return"Element"===e?new Em(this.model,e,this.context):new _m(this.model,e,this.context)},_m.prototype.handleChild=function(e){var t,n,r,i;if(t=this.getPropertyForNode(e),r=this.element,Pd(n=t.effectiveType||t.type))return this.valueHandler(t,r);var o=(i=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)).element;return void 0!==o&&(t.isMany?r.get(t.name).push(o):r.set(t.name,o),t.isReference?(Object(_d.a)(o,{element:r}),this.context.addReference(o)):o.$parent=r),i},(xm.prototype=Object.create(_m.prototype)).createElement=function(e){var t=e.name,n=Md(t),r=this.type,i=this.model.getPackage(n.prefix),o=i&&pm(n,i)||t;if(!r.hasType(o))throw hm("unexpected element <"+e.originalName+">");return _m.prototype.createElement.call(this,e)},(Em.prototype=Object.create(wm.prototype)).createElement=function(e){var t=e.name,n=Md(t);return this.model.createAny(t,e.ns[n.prefix+"$uri"],e.attributes)},Em.prototype.handleChild=function(e){var t=new Em(this.model,"Element",this.context).handleNode(e),n=this.element,r=t.element;return void 0!==r&&((n.$children=n.$children||[]).push(r),r.$parent=n),t},Em.prototype.handleText=function(e){this.body=this.body||""+e},Em.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},Om.prototype.fromXML=function(e,t,n){var r=t.rootHandler;t instanceof _m?(r=t,t={}):"string"==typeof t?(r=this.handler(t),t={}):"string"==typeof r&&(r=this.handler(r));var i=this.model,o=this.lax,a=new dm(Object(_d.a)({},t,{rootHandler:r})),s=new om({proxy:!0}),c=new Vd.a;function u(e,t,n){var r=t(),i=r.line,o=r.column,s=r.data;"<"===s.charAt(0)&&-1!==s.indexOf(" ")&&(s=s.slice(0,s.indexOf(" "))+">");var c="unparsable content "+(s?s+" ":"")+"detected\n\tline: "+i+"\n\tcolumn: "+o+"\n\tnested error: "+e.message;if(n)return a.addWarning({message:c,error:e}),console.warn("could not parse node"),console.warn(e),!0;throw console.error("could not parse document"),console.error(e),hm(c)}r.context=a,c.push(r);var l=/^<\?xml /i,p=/ encoding="([^"]+)"/i,h=/^utf-8$/i,f=i.getPackages().reduce(function(e,t){return e[t.uri]=t.prefix,e},{});s.ns(f).on("openTag",function(e,t,n,r){var i=e.attrs||{},a=Object.keys(i).reduce(function(e,n){var r=t(i[n]);return e[n]=r,e},{});!function(e,t){var n=c.peek();try{c.push(n.handleNode(e))}catch(r){u(r,t,o)&&c.push(new ym)}}({name:e.name,originalName:e.originalName,attributes:a,ns:e.ns},r)}).on("question",function(e){if(l.test(e)){var t=p.exec(e),n=t&&t[1];n&&!h.test(n)&&a.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}}).on("closeTag",function(){c.pop().handleEnd()}).on("cdata",function(e){c.peek().handleText(e)}).on("text",function(e,t){!function(e){(e=e.trim())&&c.peek().handleText(e)}(t(e))}).on("error",u).on("warn",function(e,t){return u(e,t,!0)}),setTimeout(function(){var t;try{s.parse(e),function(){var e,t,n=a.elementsById,r=a.references;for(e=0;t=r[e];e++){var i=t.element,o=n[t.id],s=fm(i).propertiesByName[t.property];if(o||a.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),s.isMany){var c=i.get(s.name),u=c.indexOf(t);-1===u&&(u=c.length),o?c[u]=o:c.splice(u,1)}else i.set(s.name,o)}}()}catch(o){t=o}var i=r.element;t||i||(t=hm("failed to parse document as <"+r.type.$descriptor.name+">")),n(t,t?void 0:i,a)},0)},Om.prototype.handler=function(e){return new xm(this.model,e)};var jm='<?xml version="1.0" encoding="UTF-8"?>\n',Sm=/<|>|'|"|&|\n\r|\n/g,Cm=/<|>|&/g;function km(e){var t={},n={},r={},i=[],o=[];this.byUri=function(t){return n[t]||e&&e.byUri(t)},this.add=function(e,t){n[e.uri]=e,t?i.push(e):o.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return t[e||"xmlns"]},this.mapPrefix=function(e,n){t[e||"xmlns"]=n},this.logUsed=function(e){var t=e.uri;r[t]=this.byUri(t)},this.getUsed=function(e){return[].concat(i,o).filter(function(e){return r[e.uri]})}}function Tm(e){return Object(_d.q)(e)?e:(e.prefix?e.prefix+":":"")+e.localName}var Am={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},Rm={"<":"lt",">":"gt","&":"amp"};function Pm(e,t,n){return(e=Object(_d.q)(e)?e:""+e).replace(t,function(e){return"&"+n[e]+";"})}function Mm(e){this.tagName=e}function Dm(){}function Nm(e){this.tagName=e}function Im(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function Bm(e,t){Im.call(this,e,t)}function Lm(){this.value="",this.write=function(e){this.value+=e}}function Fm(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function zm(e){return e=Object(_d.a)({format:!1,preamble:!0},e||{}),{toXML:function(t,n){var r=n||new Lm,i=new Fm(r,e.format);if(e.preamble&&i.append(jm),(new Im).build(t).serializeTo(i),!n)return r.value}}}function Vm(e,t){Fd.call(this,e,t)}Mm.prototype.build=function(e){return this.element=e,this},Mm.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},Dm.prototype.serializeValue=Dm.prototype.serializeTo=function(e){e.append(this.escape?Pm(this.value,Cm,Rm):this.value)},Dm.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(Cm)&&(this.escape=!0),this},Nm.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},Im.prototype.build=function(e){this.element=e;var t,n,r,i=e.$descriptor,o=this.propertyDescriptor,a=i.isGeneric;return t=a?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=o?this.nsPropertyTagName(o):this.nsTagName(i),this.tagName=this.addTagName(this.ns),a||(n=function(e){var t=e.$descriptor;return Object(_d.e)(t.properties,function(t){var n=t.name;if(t.isVirtual)return!1;if(!e.hasOwnProperty(n))return!1;var r=e[n];return r!==t.default&&null!==r&&(!t.isMany||r.length)})}(e),this.parseAttributes((r=n,Object(_d.e)(r,function(e){return e.isAttr}))),this.parseContainments(function(e){return Object(_d.e)(e,function(e){return!e.isAttr})}(n))),this.parseGenericAttributes(e,t),this},Im.prototype.nsTagName=function(e){return function(e,t){return t.isGeneric?Object(_d.a)({localName:t.ns.localName},e):Object(_d.a)({localName:(n=t.ns.localName,r=t.$pkg,am(r)?(i=n).charAt(0).toLowerCase()+i.slice(1):n)},e);var n,r,i}(this.logNamespaceUsed(e.ns),e)},Im.prototype.nsPropertyTagName=function(e){return function(e,t){return Object(_d.a)({localName:t.ns.localName},e)}(this.logNamespaceUsed(e.ns),e)},Im.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},Im.prototype.nsAttributeName=function(e){var t;if(t=Object(_d.q)(e)?Md(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:Object(_d.a)({localName:t.localName},n)},Im.prototype.parseGeneric=function(e){var t=this,n=this.body,r=[];return Object(_d.i)(e,function(i,o){"$body"===o?n.push((new Dm).build({type:"String"},i)):"$children"===o?Object(_d.i)(i,function(e){n.push(new Im(t).build(e))}):0!==o.indexOf("$")&&t.parseNsAttribute(e,o,i)&&r.push({name:o,value:i})}),r},Im.prototype.parseNsAttribute=function(e,t,n){var r,i=e.$model,o=Md(t);if("xmlns"===o.prefix&&(r={prefix:o.localName,uri:n}),o.prefix||"xmlns"!==o.localName||(r={uri:n}),!r)return{name:t,value:n};if(i&&i.getPackage(n))this.logNamespace(r,!0,!0);else{var a=this.logNamespaceUsed(r,!0);this.getNamespaces().logUsed(a)}},Im.prototype.parseNsAttributes=function(e,t){var n=this,r=e.$attrs,i=[];return Object(_d.i)(r,function(t,r){var o=n.parseNsAttribute(e,r,t);o&&i.push(o)}),i},Im.prototype.parseGenericAttributes=function(e,t){var n=this;Object(_d.i)(t,function(t){if(t.name!==cm)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(r){console.warn("missing namespace information for ",t.name,"=",t.value,"on",e,r)}})},Im.prototype.parseContainments=function(e){var t=this,n=this.body,r=this.element;Object(_d.i)(e,function(e){var i=r.get(e.name),o=e.isReference;if(e.isMany||(i=[i]),e.isBody)n.push((new Dm).build(e,i[0]));else if(Pd(e.type))Object(_d.i)(i,function(r){n.push(new Nm(t.addTagName(t.nsPropertyTagName(e))).build(e,r))});else if(o)Object(_d.i)(i,function(r){n.push(new Mm(t.addTagName(t.nsPropertyTagName(e))).build(r))});else{var a=lm(e),s="property"===um(e);Object(_d.i)(i,function(r){var i;i=a?new Bm(t,e):s?new Im(t,e):new Im(t),n.push(i.build(r))})}})},Im.prototype.getNamespaces=function(e){var t,n=this.namespaces,r=this.parent;return n||(t=r&&r.getNamespaces(),e||!t?this.namespaces=n=new km(t):n=t),n},Im.prototype.logNamespace=function(e,t,n){var r=this.getNamespaces(n),i=e.uri,o=e.prefix;return r.byUri(i)||r.add(e,t),r.mapPrefix(o,i),e},Im.prototype.logNamespaceUsed=function(e,t){var n,r,i,o=this.element.$model,a=this.getNamespaces(t),s=e.prefix,c=e.uri;if(!s&&!c)return{localName:e.localName};if(i=sm[s]||o&&(o.getPackage(s)||{}).uri,!(c=c||i||a.uriByPrefix(s)))throw new Error("no namespace uri given for prefix <"+s+">");if(!(e=a.byUri(c))){for(n=s,r=1;a.uriByPrefix(n);)n=s+"_"+r++;e=this.logNamespace({prefix:n,uri:c},i===c)}return s&&a.mapPrefix(s,c),e},Im.prototype.parseAttributes=function(e){var t=this,n=this.element;Object(_d.i)(e,function(e){var r=n.get(e.name);if(e.isReference)if(e.isMany){var i=[];Object(_d.i)(r,function(e){i.push(e.id)}),r=i.join(" ")}else r=r.id;t.addAttribute(t.nsAttributeName(e),r)})},Im.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),Tm(e)},Im.prototype.addAttribute=function(e,t){var n=this.attrs;Object(_d.q)(t)&&(t=Pm(t,Sm,Am)),n.push({name:e,value:t})},Im.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=function(e){return Object(_d.t)(e.getUsed(),function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}})}(n).concat(t)),Object(_d.i)(t,function(t){e.append(" ").append(Tm(t.name)).append('="').append(t.value).append('"')})},Im.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==Dm;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),Object(_d.i)(this.body,function(t){t.serializeTo(e)}),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},Bm.prototype.parseNsAttributes=function(e){var t=Im.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var r=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var i=e.$model.getPackage(r.uri),o=i.xml&&i.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(cm),(r.prefix?r.prefix+":":"")+o+n.ns.localName),t},Bm.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri},(Vm.prototype=Object.create(Fd.prototype)).fromXML=function(e,t,n,r){Object(_d.q)(t)||(r=n,n=t,t="bpmn:Definitions"),Object(_d.n)(n)&&(r=n,n={});var i=new Om(Object(_d.a)({model:this,lax:!0},n)),o=i.handler(t);i.fromXML(e,o,r)},Vm.prototype.toXML=function(e,t,n){Object(_d.n)(t)&&(n=t,t={});var r,i,o=new zm(t);try{r=o.toXML(e)}catch(a){i=a}return n(i,r)};var Um={bpmn:n("H0ED"),bpmndi:n("yJHR"),dc:n("m4+6"),di:n("rOWP"),bioc:n("Ff6h")},Hm=function(e,t){return new Vm(Object(_d.a)({},Um,e),t)},$m=n("j8+i");function Wm(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}var Gm=new(n.n($m).a)({name:"bpmnElement",enumerable:!0},{name:"di",configurable:!0});function qm(e,t){return e.$instanceOf(t)}function Km(e,t){var n={},r=[];function i(e,t){return function(n){e(n,t)}}function o(e){n[e.id]=e}function a(n,r){try{var i=n.di&&function(n,r){if(n.gfx)throw new Error(t("already rendered {element}",{element:Wm(n)}));return e.element(n,r)}(n,r);return o(n),i}catch(a){s(a.message,{element:n,error:a}),console.error(t("failed to import {element}",{element:Wm(n)})),console.error(a)}}function s(t,n){e.error(t,n)}function c(e){var n=e.bpmnElement;n?n.di?s(t("multiple DI elements defined for {element}",{element:Wm(n)}),{element:n}):(Gm.bind(n,"di"),n.di=e):s(t("no bpmnElement referenced in {element}",{element:Wm(e)}),{element:e})}function u(e){c(e)}function l(){for(;r.length;)r.shift()()}function p(e,t){E(e,t),g(e.ioSpecification,t),v(e.artifacts,t),o(e)}function h(e,t){a(e,t)}function f(e,t){a(e,t)}function d(e,t){a(e,t)}function m(e,t){a(e,t)}function y(e,t){a(e,t)}function v(e,t){Object(_d.i)(e,function(e){qm(e,"bpmn:Association")?r.push(function(){y(e,t)}):y(e,t)})}function g(e,t){e&&(Object(_d.i)(e.dataInputs,i(d,t)),Object(_d.i)(e.dataOutputs,i(m,t)))}function b(e,t){E(e,t),v(e.artifacts,t)}function w(e,t){a(e,t)}function _(e,t){r.push(function(){var n=a(e,t);e.childLaneSet&&x(e.childLaneSet,n||t),function(e){Object(_d.i)(e.flowNodeRef,function(t){var n=t.get("lanes");n&&n.push(e)})}(e)})}function x(e,t){Object(_d.i)(e.lanes,i(_,t))}function E(e,n){!function(e,n){Object(_d.i)(e,function(e){qm(e,"bpmn:SequenceFlow")?r.push(function(){!function(t,n){a(e,n)}(0,n)}):qm(e,"bpmn:BoundaryEvent")?r.unshift(function(){!function(t,n){a(e,n)}(0,n)}):qm(e,"bpmn:FlowNode")?function(e,t){var n=a(e,t);qm(e,"bpmn:SubProcess")&&b(e,n||t),qm(e,"bpmn:Activity")&&g(e.ioSpecification,t),r.push(function(){Object(_d.i)(e.dataInputAssociations,i(f,t)),Object(_d.i)(e.dataOutputAssociations,i(f,t))})}(e,n):qm(e,"bpmn:DataObject")||(qm(e,"bpmn:DataStoreReference")?w(e,n):qm(e,"bpmn:DataObjectReference")?w(e,n):s(t("unrecognized flowElement {element} in context {context}",{element:Wm(e),context:n?Wm(n.businessObject):"null"}),{element:e,context:n}))})}(e.flowElements,n),e.laneSets&&function(e,t){Object(_d.i)(e,i(x,t))}(e.laneSets,n)}function O(e,t){var n=a(e,t),r=e.processRef;r&&p(r,n||t)}return{handleDeferred:l,handleDefinitions:function(o,a){var f=o.diagrams;if(a&&-1===f.indexOf(a))throw new Error(t("diagram not part of bpmn:Definitions"));if(!a&&f&&f.length&&(a=f[0]),!a)throw new Error(t("no diagram to display"));!function(e){var t;c(t=e.plane),Object(_d.i)(t.planeElement,u)}(a);var d=a.plane;if(!d)throw new Error(t("no plane for {element}",{element:Wm(a)}));var m=d.bpmnElement;if(!m){if(!(m=function(e){return Object(_d.f)(e.rootElements,function(e){return qm(e,"bpmn:Process")||qm(e,"bpmn:Collaboration")})}(o)))throw new Error(t("no process or collaboration to display"));s(t("correcting missing bpmnElement on {plane} to {rootElement}",{plane:Wm(d),rootElement:Wm(m)})),d.bpmnElement=m,c(d)}var y,g,b=e.root(m,d);if(qm(m,"bpmn:Process"))p(m,b);else{if(!qm(m,"bpmn:Collaboration"))throw new Error(t("unsupported bpmnElement for {plane}: {rootElement}",{plane:Wm(d),rootElement:Wm(m)}));g=m,Object(_d.i)(g.participants,i(O)),v(g.artifacts),r.push(function(){var e;e=g.messageFlows,Object(_d.i)(e,i(h,void 0))}),y=o.rootElements,Object(_d.e)(y,function(e){return!n[e.id]&&qm(e,"bpmn:Process")&&e.laneSets}).forEach(i(p))}l()},handleSubProcess:b,registerDi:c}}var Zm=n("kDbY");function Xm(e,t){var n=Ym(e);return n&&"function"==typeof n.$instanceOf&&n.$instanceOf(t)}function Ym(e){return e&&e.businessObject||e}function Qm(e){return!(Xm(e,"bpmn:CallActivity")||(Xm(e,"bpmn:SubProcess")?!Ym(e).di.isExpanded:Xm(e,"bpmn:Participant")&&!Ym(e).processRef))}function Jm(e){return e&&!!Ym(e).triggeredByEvent}function ey(e,t){var n=Ym(e),r=!1;return n.eventDefinitions&&Object(_d.i)(n.eventDefinitions,function(e){Xm(e,t)&&(r=!0)}),r}var ty=n("vC9s");function ny(e,t,n){return Object(_d.z)(e.eventDefinitions,function(r){return r.$type===t&&function(e,t){return Object(_d.d)(t,function(t,n){return e[n]==t})}(e,n)})}function ry(e){return e.businessObject.di}function iy(e){return e.businessObject}function oy(e,t){return ry(e).get("bioc:fill")||t||"white"}function ay(e,t){return ry(e).get("bioc:stroke")||t||"black"}var sy=n("4Ra4"),cy=new wd.a,uy=10,ly=3,py=.95,hy=.35;function fy(e,t,n,r,i,o,a){Zm.a.call(this,t,a);var s=e&&e.defaultFillColor,c=e&&e.defaultStrokeColor,u=cy.next(),l={},p=n.computeStyle;function h(e,t){var n=Object(_d.a)({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},t.attrs),r=t.ref||{x:0,y:0},o=t.scale||1;"none"===n.strokeDasharray&&(n.strokeDasharray=[1e4,1]);var a=Object(Ed.f)("marker");Object(Ed.b)(t.element,n),Object(Ed.a)(a,t.element),Object(Ed.b)(a,{id:e,viewBox:"0 0 20 20",refX:r.x,refY:r.y,markerWidth:20*o,markerHeight:20*o,orient:"auto"});var s=Object(xd.i)("defs",i._svg);s||(s=Object(Ed.f)("defs"),Object(Ed.a)(i._svg,s)),Object(Ed.a)(s,a),l[e]=a}function f(e,t,n){var r=e+"-"+t+"-"+n+"-"+u;return l[r]||function(e,t,n){var r=e+"-"+t+"-"+n+"-"+u;if("sequenceflow-end"===e){var i=Object(Ed.f)("path");Object(Ed.b)(i,{d:"M 1 5 L 11 10 L 1 15 Z"}),h(r,{element:i,ref:{x:11,y:10},scale:.5,attrs:{fill:n,stroke:n}})}if("messageflow-start"===e){var o=Object(Ed.f)("circle");Object(Ed.b)(o,{cx:6,cy:6,r:3.5}),h(r,{element:o,attrs:{fill:t,stroke:n},ref:{x:6,y:6}})}if("messageflow-end"===e){var a=Object(Ed.f)("path");Object(Ed.b)(a,{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z"}),h(r,{element:a,attrs:{fill:t,stroke:n,strokeLinecap:"butt"},ref:{x:8.5,y:5}})}if("association-start"===e){var s=Object(Ed.f)("path");Object(Ed.b)(s,{d:"M 11 5 L 1 10 L 11 15"}),h(r,{element:s,attrs:{fill:"none",stroke:n,strokeWidth:1.5},ref:{x:1,y:10},scale:.5})}if("association-end"===e){var c=Object(Ed.f)("path");Object(Ed.b)(c,{d:"M 1 5 L 11 10 L 1 15"}),h(r,{element:c,attrs:{fill:"none",stroke:n,strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}if("conditional-flow-marker"===e){var l=Object(Ed.f)("path");Object(Ed.b)(l,{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z"}),h(r,{element:l,attrs:{fill:t,stroke:n},ref:{x:-1,y:10},scale:.5})}if("conditional-default-flow-marker"===e){var p=Object(Ed.f)("path");Object(Ed.b)(p,{d:"M 6 4 L 10 16"}),h(r,{element:p,attrs:{stroke:n},ref:{x:0,y:10},scale:.5})}}(e,t,n),"url(#"+r+")"}function d(e,t,n,r,i){Object(_d.p)(r)&&(i=r,r=0),r=r||0,"none"===(i=p(i,{stroke:"black",strokeWidth:2,fill:"white"})).fill&&delete i.fillOpacity;var o=t/2,a=n/2,s=Object(Ed.f)("circle");return Object(Ed.b)(s,{cx:o,cy:a,r:Math.round((t+n)/4-r)}),Object(Ed.b)(s,i),Object(Ed.a)(e,s),s}function m(e,t,n,r,i,o){Object(_d.p)(i)&&(o=i,i=0),i=i||0,o=p(o,{stroke:"black",strokeWidth:2,fill:"white"});var a=Object(Ed.f)("rect");return Object(Ed.b)(a,{x:i,y:i,width:t-2*i,height:n-2*i,rx:r,ry:r}),Object(Ed.b)(a,o),Object(Ed.a)(e,a),a}function y(e,t,n){n=p(n,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var r=Object(ty.b)(t,n);return Object(Ed.a)(e,r),r}function v(e,t,n){n=p(n,["no-fill"],{strokeWidth:2,stroke:"black"});var r=Object(Ed.f)("path");return Object(Ed.b)(r,{d:t}),Object(Ed.b)(r,n),Object(Ed.a)(e,r),r}function g(e,t,n,r){return v(t,n,Object(_d.a)({"data-marker":e},r))}function b(e){return function(t,n){return S[e](t,n)}}function w(e){return S[e]}function _(e,t){var n=iy(e),r=function(e){return"bpmn:IntermediateThrowEvent"===e.$type||"bpmn:EndEvent"===e.$type}(n);return ny(n,"bpmn:MessageEventDefinition")?w("bpmn:MessageEventDefinition")(t,e,r):ny(n,"bpmn:TimerEventDefinition")?w("bpmn:TimerEventDefinition")(t,e,r):ny(n,"bpmn:ConditionalEventDefinition")?w("bpmn:ConditionalEventDefinition")(t,e):ny(n,"bpmn:SignalEventDefinition")?w("bpmn:SignalEventDefinition")(t,e,r):ny(n,"bpmn:CancelEventDefinition")&&ny(n,"bpmn:TerminateEventDefinition",{parallelMultiple:!1})?w("bpmn:MultipleEventDefinition")(t,e,r):ny(n,"bpmn:CancelEventDefinition")&&ny(n,"bpmn:TerminateEventDefinition",{parallelMultiple:!0})?w("bpmn:ParallelMultipleEventDefinition")(t,e,r):ny(n,"bpmn:EscalationEventDefinition")?w("bpmn:EscalationEventDefinition")(t,e,r):ny(n,"bpmn:LinkEventDefinition")?w("bpmn:LinkEventDefinition")(t,e,r):ny(n,"bpmn:ErrorEventDefinition")?w("bpmn:ErrorEventDefinition")(t,e,r):ny(n,"bpmn:CancelEventDefinition")?w("bpmn:CancelEventDefinition")(t,e,r):ny(n,"bpmn:CompensateEventDefinition")?w("bpmn:CompensateEventDefinition")(t,e,r):ny(n,"bpmn:TerminateEventDefinition")?w("bpmn:TerminateEventDefinition")(t,e,r):null}function x(e,t,n){n=Object(_d.a)({size:{width:100}},n);var r=o.createText(t||"",n);return Object(Ed.c)(r).add("djs-label"),Object(Ed.a)(e,r),r}function E(e,t,n){return x(e,iy(t).name,{box:t,align:n,padding:5,style:{fill:ay(t,c)}})}function O(e,t,n){var r=x(e,t,{box:{height:30,width:n.height},align:"center-middle",style:{fill:ay(n,c)}}),i=-1*n.height;Object(sy.b)(r,0,-i,270)}function j(e){for(var t=e.waypoints,n="m  "+t[0].x+","+t[0].y,r=1;r<t.length;r++)n+="L"+t[r].x+","+t[r].y+" ";return n}var S=this.handlers={"bpmn:Event":function(e,t,n){return"fillOpacity"in n||(n.fillOpacity=py),d(e,t.width,t.height,n)},"bpmn:StartEvent":function(e,t){var n={fill:oy(t,s),stroke:ay(t,c)};iy(t).isInterrupting||(n={strokeDasharray:"6",strokeLinecap:"round",fill:oy(t,s),stroke:ay(t,c)});var r=w("bpmn:Event")(e,t,n);return _(t,e),r},"bpmn:MessageEventDefinition":function(e,t,n){return v(e,r.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:n?ay(t,c):oy(t,s),stroke:n?oy(t,s):ay(t,c)})},"bpmn:TimerEventDefinition":function(e,t){var n=d(e,t.width,t.height,.2*t.height,{strokeWidth:2,fill:oy(t,s),stroke:ay(t,c)});v(e,r.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),{strokeWidth:2,strokeLinecap:"square",stroke:ay(t,c)});for(var i=0;i<12;i++)v(e,r.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*i+","+t.height/2+","+t.width/2+")",stroke:ay(t,c)});return n},"bpmn:EscalationEventDefinition":function(e,t,n){return v(e,r.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:n?ay(t,c):"none",stroke:ay(t,c)})},"bpmn:ConditionalEventDefinition":function(e,t){return v(e,r.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.222}}),{strokeWidth:1,stroke:ay(t,c)})},"bpmn:LinkEventDefinition":function(e,t,n){return v(e,r.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:n?ay(t,c):"none",stroke:ay(t,c)})},"bpmn:ErrorEventDefinition":function(e,t,n){return v(e,r.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:n?ay(t,c):"none",stroke:ay(t,c)})},"bpmn:CancelEventDefinition":function(e,t,n){var i=v(e,r.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.638,my:-.055}}),{strokeWidth:1,fill:n?ay(t,c):"none",stroke:ay(t,c)});return Object(sy.a)(i,45),i},"bpmn:CompensateEventDefinition":function(e,t,n){return v(e,r.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:n?ay(t,c):"none",stroke:ay(t,c)})},"bpmn:SignalEventDefinition":function(e,t,n){return v(e,r.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:n?ay(t,c):"none",stroke:ay(t,c)})},"bpmn:MultipleEventDefinition":function(e,t,n){return v(e,r.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:n?ay(t,c):"none"})},"bpmn:ParallelMultipleEventDefinition":function(e,t){return v(e,r.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:t.width,containerHeight:t.height,position:{mx:.458,my:.194}}),{strokeWidth:1,fill:ay(t,c),stroke:ay(t,c)})},"bpmn:EndEvent":function(e,t){var n=w("bpmn:Event")(e,t,{strokeWidth:4,fill:oy(t,s),stroke:ay(t,c)});return _(t,e),n},"bpmn:TerminateEventDefinition":function(e,t){return d(e,t.width,t.height,8,{strokeWidth:4,fill:ay(t,c),stroke:ay(t,c)})},"bpmn:IntermediateEvent":function(e,t){var n=w("bpmn:Event")(e,t,{strokeWidth:1,fill:oy(t,s),stroke:ay(t,c)});return d(e,t.width,t.height,ly,{strokeWidth:1,fill:oy(t,"none"),stroke:ay(t,c)}),_(t,e),n},"bpmn:IntermediateCatchEvent":b("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":b("bpmn:IntermediateEvent"),"bpmn:Activity":function(e,t,n){return"fillOpacity"in(n=n||{})||(n.fillOpacity=py),m(e,t.width,t.height,uy,n)},"bpmn:Task":function(e,t){var n={fill:oy(t,s),stroke:ay(t,c)},r=w("bpmn:Activity")(e,t,n);return E(e,t,"center-middle"),C(e,t),r},"bpmn:ServiceTask":function(e,t){var n=w("bpmn:Task")(e,t);return v(e,r.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{strokeWidth:1,fill:oy(t,s),stroke:ay(t,c)}),v(e,r.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}}),{strokeWidth:0,fill:oy(t,s)}),v(e,r.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{strokeWidth:1,fill:oy(t,s),stroke:ay(t,c)}),n},"bpmn:UserTask":function(e,t){var n=w("bpmn:Task")(e,t);return v(e,r.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:oy(t,s),stroke:ay(t,c)}),v(e,r.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:oy(t,s),stroke:ay(t,c)}),v(e,r.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:ay(t,c),stroke:ay(t,c)}),n},"bpmn:ManualTask":function(e,t){var n=w("bpmn:Task")(e,t);return v(e,r.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:.5,fill:oy(t,s),stroke:ay(t,c)}),n},"bpmn:SendTask":function(e,t){var n=w("bpmn:Task")(e,t);return v(e,r.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:ay(t,c),stroke:oy(t,s)}),n},"bpmn:ReceiveTask":function(e,t){var n,i=iy(t),o=w("bpmn:Task")(e,t);return i.instantiate?(d(e,28,28,4.4,{strokeWidth:1}),n=r.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):n=r.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),v(e,n,{strokeWidth:1,fill:oy(t,s),stroke:ay(t,c)}),o},"bpmn:ScriptTask":function(e,t){var n=w("bpmn:Task")(e,t);return v(e,r.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{strokeWidth:1,stroke:ay(t,c)}),n},"bpmn:BusinessRuleTask":function(e,t){var n=w("bpmn:Task")(e,t),i=v(e,r.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}));Object(Ed.b)(i,{strokeWidth:1,fill:oy(t,"#aaaaaa"),stroke:ay(t,c)});var o=v(e,r.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}));return Object(Ed.b)(o,{strokeWidth:1,stroke:ay(t,c)}),n},"bpmn:SubProcess":function(e,t,n){n=Object(_d.a)({fill:oy(t,s),stroke:ay(t,c)},n);var r=w("bpmn:Activity")(e,t,n),i=Qm(t);return Jm(t)&&Object(Ed.b)(r,{strokeDasharray:"1,2"}),E(e,t,i?"center-top":"center-middle"),i?C(e,t):C(e,t,["SubProcessMarker"]),r},"bpmn:AdHocSubProcess":function(e,t){return w("bpmn:SubProcess")(e,t)},"bpmn:Transaction":function(e,t){var r=w("bpmn:SubProcess")(e,t),i=n.style(["no-fill","no-events"],{stroke:ay(t,c)});return m(e,t.width,t.height,uy-2,ly,i),r},"bpmn:CallActivity":function(e,t){return w("bpmn:SubProcess")(e,t,{strokeWidth:5})},"bpmn:Participant":function(e,t){var n={fillOpacity:py,fill:oy(t,s),stroke:ay(t,c)},r=w("bpmn:Lane")(e,t,n);return Qm(t)?(y(e,[{x:30,y:0},{x:30,y:t.height}],{stroke:ay(t,c)}),O(e,iy(t).name,t)):x(e,iy(t).name,{box:t,align:"center-middle",style:{fill:ay(t,c)}}),!!iy(t).participantMultiplicity&&w("ParticipantMultiplicityMarker")(e,t),r},"bpmn:Lane":function(e,t,n){var r=m(e,t.width,t.height,0,Object(_d.a)({fill:oy(t,s),fillOpacity:hy,stroke:ay(t,c)},n)),i=iy(t);return"bpmn:Lane"===i.$type&&O(e,i.name,t),r},"bpmn:InclusiveGateway":function(e,t){var n=w("bpmn:Gateway")(e,t);return d(e,t.width,t.height,.24*t.height,{strokeWidth:2.5,fill:oy(t,s),stroke:ay(t,c)}),n},"bpmn:ExclusiveGateway":function(e,t){var n=w("bpmn:Gateway")(e,t),i=r.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.32,my:.3}});return ry(t).isMarkerVisible&&v(e,i,{strokeWidth:1,fill:ay(t,c),stroke:ay(t,c)}),n},"bpmn:ComplexGateway":function(e,t){var n=w("bpmn:Gateway")(e,t);return v(e,r.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:ay(t,c),stroke:ay(t,c)}),n},"bpmn:ParallelGateway":function(e,t){var n=w("bpmn:Gateway")(e,t);return v(e,r.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:ay(t,c),stroke:ay(t,c)}),n},"bpmn:EventBasedGateway":function(e,t){var n=iy(t),i=w("bpmn:Gateway")(e,t);d(e,t.width,t.height,.2*t.height,{strokeWidth:1,fill:"none",stroke:ay(t,c)});var o=n.eventGatewayType,a=!!n.instantiate;if("Parallel"===o){var s=r.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}}),u=v(e,s);Object(Ed.b)(u,{strokeWidth:1,fill:"none"})}else if("Exclusive"===o){if(!a){var l=d(e,t.width,t.height,.26*t.height);Object(Ed.b)(l,{strokeWidth:1,fill:"none",stroke:ay(t,c)})}!function(){var n=r.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:t.width,containerHeight:t.height,position:{mx:.36,my:.44}}),i={strokeWidth:2,fill:oy(t,"none"),stroke:ay(t,c)};v(e,n,i)}()}return i},"bpmn:Gateway":function(e,t){var n={fill:oy(t,s),fillOpacity:py,stroke:ay(t,c)};return function(e,t,n,r){var i=t/2,o=n/2,a=[{x:i,y:0},{x:t,y:o},{x:i,y:n},{x:0,y:o}].map(function(e){return e.x+","+e.y}).join(" ");r=p(r,{stroke:"black",strokeWidth:2,fill:"white"});var s=Object(Ed.f)("polygon");return Object(Ed.b)(s,{points:a}),Object(Ed.b)(s,r),Object(Ed.a)(e,s),s}(e,t.width,t.height,n)},"bpmn:SequenceFlow":function(e,t){var n,r=j(t),i=oy(t,s),o=ay(t,c),a=v(e,r,{strokeLinejoin:"round",markerEnd:f("sequenceflow-end",i,o),stroke:ay(t,c)}),u=iy(t);return t.source&&(n=t.source.businessObject,u.conditionExpression&&n.$instanceOf("bpmn:Activity")&&Object(Ed.b)(a,{markerStart:f("conditional-flow-marker",i,o)}),n.default&&(n.$instanceOf("bpmn:Gateway")||n.$instanceOf("bpmn:Activity"))&&n.default===u&&Object(Ed.b)(a,{markerStart:f("conditional-default-flow-marker",i,o)})),a},"bpmn:Association":function(e,t,n){var r=iy(t),i=oy(t,s),o=ay(t,c);return n=Object(_d.a)({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",stroke:ay(t,c)},n||{}),"One"!==r.associationDirection&&"Both"!==r.associationDirection||(n.markerEnd=f("association-end",i,o)),"Both"===r.associationDirection&&(n.markerStart=f("association-start",i,o)),y(e,t.waypoints,n)},"bpmn:DataInputAssociation":function(e,t){var n=oy(t,s),r=ay(t,c);return w("bpmn:Association")(e,t,{markerEnd:f("association-end",n,r)})},"bpmn:DataOutputAssociation":function(e,t){var n=oy(t,s),r=ay(t,c);return w("bpmn:Association")(e,t,{markerEnd:f("association-end",n,r)})},"bpmn:MessageFlow":function(e,t){var n=iy(t),i=ry(t),o=oy(t,s),a=ay(t,c),u=v(e,j(t),{markerEnd:f("messageflow-end",o,a),markerStart:f("messageflow-start",o,a),strokeDasharray:"10, 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5px",stroke:ay(t,c)});if(n.messageRef){var l=u.getPointAtLength(u.getTotalLength()/2),p=r.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:l.x,y:l.y}}),h={strokeWidth:1};"initiating"===i.messageVisibleKind?(h.fill="white",h.stroke="black"):(h.fill="#888",h.stroke="white"),v(e,p,h)}return u},"bpmn:DataObject":function(e,t){var n=v(e,r.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}}),{fill:oy(t,s),fillOpacity:py,stroke:ay(t,c)});return function(e){var t=e.dataObjectRef;return e.isCollection||t&&t.isCollection}(iy(t))&&function(e,t){v(e,r.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.451,my:(t.height-16)/t.height}}),{strokeWidth:2})}(e,t),n},"bpmn:DataObjectReference":b("bpmn:DataObject"),"bpmn:DataInput":function(e,t){var n=r.getRawPath("DATA_ARROW"),i=w("bpmn:DataObject")(e,t);return v(e,n,{strokeWidth:1}),i},"bpmn:DataOutput":function(e,t){var n=r.getRawPath("DATA_ARROW"),i=w("bpmn:DataObject")(e,t);return v(e,n,{strokeWidth:1,fill:"black"}),i},"bpmn:DataStoreReference":function(e,t){return v(e,r.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:oy(t,s),fillOpacity:py,stroke:ay(t,c)})},"bpmn:BoundaryEvent":function(e,t){var n=iy(t).cancelActivity,r={strokeWidth:1,fill:oy(t,s),stroke:ay(t,c)};n||(r.strokeDasharray="6",r.strokeLinecap="round");var i=Object(_d.a)({},r,{fillOpacity:1}),o=Object(_d.a)({},r,{fill:"none"}),a=w("bpmn:Event")(e,t,i);return d(e,t.width,t.height,ly,o),_(t,e),a},"bpmn:Group":function(e,t){var n=iy(t),r=ry(t),i=m(e,t.width,t.height,uy,{strokeWidth:1,strokeDasharray:"8,3,1,3",fill:"none",pointerEvents:"none"}),o=n.categoryValueRef||{};return o.value&&x(e,o.value,{box:r.label?r.label.bounds:t,style:{fill:ay(t,c)}}),i},label:function(e,t){return function(e,t){return x(e,iy(t).name,{box:{width:90,height:30,x:t.width/2+t.x,y:t.height/2+t.y},fitBox:!0,style:Object(_d.a)({},o.getExternalStyle(),{fill:ay(t,c)})})}(e,t)},"bpmn:TextAnnotation":function(e,t){var n=m(e,t.width,t.height,0,0,{fill:"none",stroke:"none"});return v(e,r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:0}}),{stroke:ay(t,c)}),x(e,iy(t).text||"",{box:t,align:"left-top",padding:5,style:{fill:ay(t,c)}}),n},ParticipantMultiplicityMarker:function(e,t){g("participant-multiplicity",e,r.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:t.width/2/t.width,my:(t.height-15)/t.height}}),{strokeWidth:1,fill:oy(t,s),stroke:ay(t,c)})},SubProcessMarker:function(e,t){var n=m(e,14,14,0,{strokeWidth:1,fill:oy(t,s),stroke:ay(t,c)});Object(sy.c)(n,t.width/2-7.5,t.height-20),g("sub-process",e,r.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2-7.5)/t.width,my:(t.height-20)/t.height}}),{fill:oy(t,s),stroke:ay(t,c)})},ParallelMarker:function(e,t,n){g("parallel",e,r.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.parallel)/t.width,my:(t.height-20)/t.height}}),{fill:oy(t,s),stroke:ay(t,c)})},SequentialMarker:function(e,t,n){g("sequential",e,r.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.seq)/t.width,my:(t.height-19)/t.height}}),{fill:oy(t,s),stroke:ay(t,c)})},CompensationMarker:function(e,t,n){g("compensation",e,r.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.compensation)/t.width,my:(t.height-13)/t.height}}),{strokeWidth:1,fill:oy(t,s),stroke:ay(t,c)})},LoopMarker:function(e,t,n){g("loop",e,r.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.loop)/t.width,my:(t.height-7)/t.height}}),{strokeWidth:1,fill:oy(t,s),stroke:ay(t,c),strokeLinecap:"round",strokeMiterlimit:.5})},AdhocMarker:function(e,t,n){g("adhoc",e,r.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.adhoc)/t.width,my:(t.height-15)/t.height}}),{strokeWidth:1,fill:ay(t,c),stroke:ay(t,c)})}};function C(e,t,n){var r,i=iy(t),o=n&&-1!==n.indexOf("SubProcessMarker");r=o?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},Object(_d.i)(n,function(n){w(n)(e,t,r)}),i.isForCompensation&&w("CompensationMarker")(e,t,r),"bpmn:AdHocSubProcess"===i.$type&&w("AdhocMarker")(e,t,r);var a=i.loopCharacteristics,s=a&&a.isSequential;a&&(void 0===s&&w("LoopMarker")(e,t,r),!1===s&&w("ParallelMarker")(e,t,r),!0===s&&w("SequentialMarker")(e,t,r))}this._drawPath=v}fy.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],fy.prototype.canRender=function(e){return Xm(e,"bpmn:BaseElement")},fy.prototype.drawShape=function(e,t){return(0,this.handlers[t.type])(e,t)},fy.prototype.drawConnection=function(e,t){return(0,this.handlers[t.type])(e,t)},fy.prototype.getShapePath=function(e){return Xm(e,"bpmn:Event")?(u=[["M",(s=e).x+s.width/2,s.y+s.height/2],["m",0,-(c=s.width/2)],["a",c,c,0,1,1,0,2*c],["a",c,c,0,1,1,0,-2*c],["z"]],Object(ty.a)(u)):Xm(e,"bpmn:Activity")?(a=[["M",e.x+uy,e.y],["l",(i=e.width)-2*uy,0],["a",uy,uy,0,0,1,uy,uy],["l",0,(o=e.height)-2*uy],["a",uy,uy,0,0,1,-uy,uy],["l",2*uy-i,0],["a",uy,uy,0,0,1,-uy,-uy],["l",0,2*uy-o],["a",uy,uy,0,0,1,uy,-uy],["z"]],Object(ty.a)(a)):Xm(e,"bpmn:Gateway")?(r=[["M",e.x+(t=e.width/2),e.y],["l",t,n=e.height/2],["l",-t,n],["l",-t,-n],["z"]],Object(ty.a)(r)):function(t){var n=e.width,r=[["M",e.x,e.y],["l",n,0],["l",0,e.height],["l",-n,0],["z"]];return Object(ty.a)(r)}();var t,n,r,i,o,a,s,c,u};var dy=0,my={width:150,height:50};function yy(e,t){var n;t.textContent=e;try{var r,i=""===e;return t.textContent=i?"dummy":e,r={width:(n=t.getBBox()).width+2*n.x,height:n.height},i&&(r.width=0),r}catch(o){return{width:0,height:0}}}function vy(e,t,n){for(var r,i=e.shift(),o=i;;){if((r=yy(o,n)).width=o?r.width:0," "===o||""===o||r.width<Math.round(t)||o.length<2)return gy(e,o,i,r);o=by(o,r.width,t)}}function gy(e,t,n,r){if(t.length<n.length){var i=n.slice(t.length).trim();e.unshift(i)}return{width:r.width,height:r.height,text:t}}function by(e,t,n){var r=Math.max(e.length*(n/t),1),i=function(e,t){var n,r=e.split(/(\s|-)/g),i=[],o=0;if(r.length>1)for(;n=r.shift();){if(!(n.length+o<t)){"-"===n&&i.pop();break}i.push(n),o+=n.length}return i.join("")}(e,r);return i||(i=e.slice(0,Math.max(Math.round(r-1),1))),i}function wy(e){this._config=Object(_d.a)({},{size:my,padding:dy,style:{},align:"center-top"},e||{})}wy.prototype.createText=function(e,t){return this.layoutText(e,t).element},wy.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions},wy.prototype.layoutText=function(e,t){var n=Object(_d.a)({},this._config.size,t.box),r=Object(_d.a)({},this._config.style,t.style),i=function(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}(t.align||this._config.align),o=function(e){return Object(_d.p)(e)?Object(_d.a)({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}(void 0!==t.padding?t.padding:this._config.padding),a=t.fitBox||!1,s=function(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}(r),c=e.split(/\r?\n/g),u=[],l=n.width-o.left-o.right,p=Object(Ed.f)("text");Object(Ed.b)(p,{x:0,y:0}),Object(Ed.b)(p,r);var h=function(){var e=document.getElementById("helper-svg");return e||(e=Object(Ed.f)("svg"),Object(Ed.b)(e,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(e)),e}();for(Object(Ed.a)(h,p);c.length;)u.push(vy(c,l,p));"middle"===i.vertical&&(o.top=o.bottom=0);var f=Object(_d.x)(u,function(e,t,n){return e+(s||t.height)},0)+o.top+o.bottom,d=Object(_d.x)(u,function(e,t,n){return t.width>e?t.width:e},0),m=o.top;"middle"===i.vertical&&(m+=(n.height-f)/2),m-=(s||u[0].height)/4;var y=Object(Ed.f)("text");return Object(Ed.b)(y,r),Object(_d.i)(u,function(e){var t;switch(m+=s||e.height,i.horizontal){case"left":t=o.left;break;case"right":t=(a?d:l)-o.right-e.width;break;default:t=Math.max(((a?d:l)-e.width)/2+o.left,0)}var n=Object(Ed.f)("tspan");Object(Ed.b)(n,{x:t,y:m}),n.textContent=e.text,Object(Ed.a)(y,n)}),Object(Ed.j)(p),{dimensions:{width:d,height:f},element:y}};var _y=12,xy=1.2,Ey=30;function Oy(e){var t=Object(_d.a)({fontFamily:"Arial, sans-serif",fontSize:_y,fontWeight:"normal",lineHeight:xy},e&&e.defaultStyle||{}),n=parseInt(t.fontSize,10)-1,r=Object(_d.a)({},t,{fontSize:n},e&&e.externalStyle||{}),i=new wy({style:t});this.getExternalLabelBounds=function(e,t){var n=i.getDimensions(t,{box:{width:90,height:30,x:e.width/2+e.x,y:e.height/2+e.y},style:r});return{x:Math.round(e.x+e.width/2-n.width/2),y:Math.round(e.y),width:Math.ceil(n.width),height:Math.ceil(n.height)}},this.getTextAnnotationBounds=function(e,n){var r=i.getDimensions(n,{box:e,style:t,align:"left-top",padding:5});return{x:e.x,y:e.y,width:e.width,height:Math.max(Ey,Math.round(r.height))}},this.createText=function(e,t){return i.createText(e,t||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return r}}Oy.$inject=["config.textRenderer"];var jy=/\{([^}]+)\}/g,Sy=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,Cy={__init__:["bpmnRenderer"],bpmnRenderer:["type",fy],textRenderer:["type",Oy],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m {mx}, {my} m  0 15  l 0 -15 m  4 15  l 0 -15 m  4 15  l 0 -15 ",height:61,width:51,heightElements:[12],widthElements:[1,6,12,15]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n,r,i=this.pathMap[e];t.abspos?(n=t.abspos.x,r=t.abspos.y):(n=t.containerWidth*t.position.mx,r=t.containerHeight*t.position.my);var o,a={};if(t.position){for(var s=t.containerHeight/i.height*t.yScaleFactor,c=t.containerWidth/i.width*t.xScaleFactor,u=0;u<i.heightElements.length;u++)a["y"+u]=i.heightElements[u]*s;for(var l=0;l<i.widthElements.length;l++)a["x"+l]=i.widthElements[l]*c}return o={mx:n,my:r,e:a},String(i.d).replace(jy,function(e,t){return function(e,t,n){var r=n;return t.replace(Sy,function(e,t,n,i,o){t=t||i,r&&(t in r&&(r=r[t]),"function"==typeof r&&o&&(r=r()))}),r=(null==r||r==n?e:r)+""}(e,t,o)})}}]},ky={translate:["value",function(e,t){return t=t||{},e.replace(/{([^}]+)}/g,function(e,n){return t[n]||"{"+n+"}"})}]},Ty={width:90,height:20},Ay=15;function Ry(e){return Xm(e,"bpmn:Event")||Xm(e,"bpmn:Gateway")||Xm(e,"bpmn:DataStoreReference")||Xm(e,"bpmn:DataObjectReference")||Xm(e,"bpmn:SequenceFlow")||Xm(e,"bpmn:MessageFlow")}function Py(e){return Dy(e.label)}function My(e){return e.waypoints?(n=(t=e.waypoints).length/2-1,r=t[Math.floor(n)],i=t[Math.ceil(n+.01)],o=function(e){var t=e.length/2-1,n=e[Math.floor(t)],r=e[Math.ceil(t+.01)];return{x:n.x+(r.x-n.x)/2,y:n.y+(r.y-n.y)/2}}(t),a=Math.atan((i.y-r.y)/(i.x-r.x)),s=o.x,c=o.y,Math.abs(a)<Math.PI/2?c-=Ay:s+=Ay,{x:s,y:c}):{x:e.x+e.width/2,y:e.y+e.height+Ty.height/2};var t,n,r,i,o,a,s,c}function Dy(e){return e&&e.labelTarget}function Ny(e,t){return e&&t?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):-1}function Iy(e,t,n,r){if(void 0===r&&(r=5),!e||!t||!n)return!1;var i=(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x),o=Ny(e,t);return Math.abs(i/o)<=r}var By=2;function Ly(e,t){return Math.abs(e.x-t.x)<=By?"h":Math.abs(e.y-t.y)<=By&&"v"}function Fy(e,t,n){return e.x>t.x-(n=n||0)&&e.y>t.y-n&&e.x<t.x+t.width+n&&e.y<t.y+t.height+n}function zy(e,t){return{x:Math.round(e.x+(t.x-e.x)/2),y:Math.round(e.y+(t.y-e.y)/2)}}var Vy=n("5avg"),Uy=n.n(Vy);function Hy(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}}function $y(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function Wy(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function Gy(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function qy(e){return $y({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})}function Ky(e,t,n){n=n||0,Object(_d.p)(n)||(n={x:n,y:n});var r=Wy(e),i=Wy(t),o=r.bottom+n.y<=i.top?"top":r.top-n.y>=i.bottom?"bottom":null,a=r.right+n.x<=i.left?"left":r.left-n.x>=i.right?"right":null;return a&&o?o+"-"+a:a||o||"intersect"}function Zy(e,t,n){var r,i,o=(r=e,i=t,Uy()(r,i));return 1===o.length?$y(o[0]):2===o.length&&Ny(o[0],o[1])<1?$y(o[0]):o.length>1?$y((o=Object(_d.A)(o,function(e){var t=Math.floor(100*e.t2)||1;return e.segment2+"#"+((t=100-t)<10?"0":"")+t}))[n?0:o.length-1]):null}function Xy(e,t){return Object(_d.a)({id:e.id,type:e.$type,businessObject:e},t)}function Yy(e,t,n,r){return new Error(e("element {element} referenced by {referenced}#{property} not yet drawn",{element:Wm(n),referenced:Wm(t),property:r}))}function Qy(e,t,n,r,i,o){this._eventBus=e,this._canvas=t,this._elementFactory=n,this._elementRegistry=r,this._translate=i,this._textRenderer=o}Qy.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],Qy.prototype.add=function(e,t){var n,r,i,o,a,s,c,u=e.di,l=this._translate;if(Xm(u,"bpmndi:BPMNPlane"))n=this._elementFactory.createRoot(Xy(e)),this._canvas.setRootElement(n);else if(Xm(u,"bpmndi:BPMNShape")){var p=!Qm(e),h=e.di.bounds;n=this._elementFactory.createShape(Xy(e,{collapsed:p,hidden:t&&(t.hidden||t.collapsed),x:Math.round(h.x),y:Math.round(h.y),width:Math.round(h.width),height:Math.round(h.height)})),Xm(e,"bpmn:BoundaryEvent")&&this._attachBoundary(e,n),Xm(e,"bpmn:Lane")&&(r=0),Xm(e,"bpmn:DataStoreReference")&&(o=t,c=(a=qy(h)).y,(s=a.x)>=o.x&&s<=o.x+o.width&&c>=o.y&&c<=o.y+o.height||(t=this._canvas.getRootElement())),this._canvas.addShape(n,t,r)}else{if(!Xm(u,"bpmndi:BPMNEdge"))throw new Error(l("unknown di {di} for element {semantic}",{di:Wm(u),semantic:Wm(e)}));var f=this._getSource(e),d=this._getTarget(e);n=this._elementFactory.createConnection(Xy(e,{hidden:t&&(t.hidden||t.collapsed),source:f,target:d,waypoints:(i=e.di.waypoint,Object(_d.t)(i,function(e){return{x:e.x,y:e.y}}))})),Xm(e,"bpmn:DataAssociation")&&(t=null),Xm(e,"bpmn:SequenceFlow")&&(r=0),this._canvas.addConnection(n,t,r)}return Ry(e)&&e.name&&this.addLabel(e,n),this._eventBus.fire("bpmnElement.added",{element:n}),n},Qy.prototype._attachBoundary=function(e,t){var n=this._translate,r=e.attachedToRef;if(!r)throw new Error(n("missing {semantic}#attachedToRef",{semantic:Wm(e)}));var i=this._elementRegistry.get(r.id),o=i&&i.attachers;if(!i)throw Yy(n,e,r,"attachedToRef");t.host=i,o||(i.attachers=o=[]),-1===o.indexOf(t)&&o.push(t)},Qy.prototype.addLabel=function(e,t){var n,r,i;return n=function(e,t){var n,r,i,o=e.di.label;return o&&o.bounds?(i=o.bounds,r={width:Math.max(Ty.width,i.width),height:i.height},n={x:i.x+i.width/2,y:i.y+i.height/2}):(n=My(t),r=Ty),Object(_d.a)({x:n.x-r.width/2,y:n.y-r.height/2},r)}(e,t),(r=e.name)&&(n=this._textRenderer.getExternalLabelBounds(n,r)),i=this._elementFactory.createLabel(Xy(e,{id:e.id+"_label",labelTarget:t,type:"label",hidden:t.hidden||!e.name,x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)})),this._canvas.addShape(i,t.parent)},Qy.prototype._getEnd=function(e,t){var n,r,i=e.$type,o=this._translate;if(r=e[t+"Ref"],"source"===t&&"bpmn:DataInputAssociation"===i&&(r=r&&r[0]),("source"===t&&"bpmn:DataOutputAssociation"===i||"target"===t&&"bpmn:DataInputAssociation"===i)&&(r=e.$parent),n=r&&this._getElement(r))return n;throw r?Yy(o,e,r,t+"Ref"):new Error(o("{semantic}#{side} Ref not specified",{semantic:Wm(e),side:t}))},Qy.prototype._getSource=function(e){return this._getEnd(e,"source")},Qy.prototype._getTarget=function(e){return this._getEnd(e,"target")},Qy.prototype._getElement=function(e){return this._elementRegistry.get(e.id)};var Jy={__depends__:[Cy,{__depends__:[ky],bpmnImporter:["type",Qy]}]};function ev(e){e&&"function"==typeof e.stopPropagation&&e.stopPropagation()}function tv(e){return e.originalEvent||e.srcEvent}function nv(e,t){ev(e),ev(tv(e))}function rv(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}function iv(e){return!(tv(e)||e).button}function ov(e){var t=tv(e)||e;return!!iv(e)&&(/mac/i.test(navigator.platform)?t.metaKey:t.ctrlKey)}function av(e){return!0}var sv=500;function cv(e,t,n){var r=n.cls("djs-hit",["no-fill","no-border"],{stroke:"white",strokeWidth:15});function i(n,r,i){var o,a;(function(e,t){return!(c[n]||iv)(t)})(0,r)||(i?a=t.getGraphics(i):(o=r.delegateTarget||r.target)&&(i=t.get(a=o)),a&&i&&!1===e.fire(n,{element:i,gfx:a,originalEvent:r})&&(r.stopPropagation(),r.preventDefault()))}var o={};function a(e){return o[e]}var s={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mouseup:"element.mouseup",contextmenu:"element.contextmenu"},c={"element.contextmenu":av},u="svg, .djs-element";function l(e,t,n,r){var a=o[n]=function(e){i(n,e)};r&&(c[n]=r),a.$delegate=xd.e.bind(e,u,t,a)}function p(e,t,n){var r=a(n);r&&xd.e.unbind(e,t,r.$delegate)}e.on("canvas.destroy",function(e){var t;t=e.svg,Object(_d.i)(s,function(e,n){p(t,n,e)})}),e.on("canvas.init",function(e){var t;t=e.svg,Object(_d.i)(s,function(e,n){l(t,n,e)})}),e.on(["shape.added","connection.added"],function(e){var t,n=e.element,i=e.gfx;n.waypoints?t=Object(ty.b)(n.waypoints):(t=Object(Ed.f)("rect"),Object(Ed.b)(t,{x:0,y:0,width:n.width,height:n.height})),Object(Ed.b)(t,r),Object(Ed.a)(i,t)}),e.on("shape.changed",sv,function(e){var t=e.element,n=e.gfx,r=Object(xd.i)(".djs-hit",n);Object(Ed.b)(r,{width:t.width,height:t.height})}),e.on("connection.changed",function(e){var t=e.element,n=e.gfx,r=Object(xd.i)(".djs-hit",n);Object(ty.c)(r,t.waypoints)}),this.fire=i,this.triggerMouseEvent=function(e,t,n){var r=s[e];if(!r)throw new Error("unmapped DOM event name <"+e+">");return i(r,t,n)},this.mouseHandler=a,this.registerEvent=l,this.unregisterEvent=p}cv.$inject=["eventBus","elementRegistry","styles"];var uv={__init__:["interactionEvents"],interactionEvents:["type",cv]},lv=n("Q8bq"),pv=500;function hv(e,t,n){this.offset=6;var r=t.cls("djs-outline",["no-fill"]),i=this;function o(e,t){var n=Object(Ed.f)("rect");return Object(Ed.b)(n,Object(_d.a)({x:10,y:10,width:100,height:100},r)),Object(Ed.a)(e,n),n}e.on(["shape.added","shape.changed"],pv,function(e){var t=e.element,n=e.gfx,r=Object(xd.i)(".djs-outline",n);r||(r=o(n)),i.updateShapeOutline(r,t)}),e.on(["connection.added","connection.changed"],function(e){var t=e.element,n=e.gfx,r=Object(xd.i)(".djs-outline",n);r||(r=o(n)),i.updateConnectionOutline(r,t)})}hv.prototype.updateShapeOutline=function(e,t){Object(Ed.b)(e,{x:-this.offset,y:-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},hv.prototype.updateConnectionOutline=function(e,t){var n=Object(lv.b)(t);Object(Ed.b)(e,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},hv.$inject=["eventBus","styles","elementRegistry"];var fv={__init__:["outline"],outline:["type",hv]};function dv(e){this._eventBus=e,this._selectedElements=[];var t=this;e.on(["shape.remove","connection.remove"],function(e){t.deselect(e.element)}),e.on(["diagram.clear"],function(e){t.select(null)})}dv.$inject=["eventBus"],dv.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(-1!==n){var r=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:t})}},dv.prototype.get=function(){return this._selectedElements},dv.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},dv.prototype.select=function(e,t){var n=this._selectedElements,r=n.slice();Object(_d.l)(e)||(e=e?[e]:[]),t?Object(_d.i)(e,function(e){-1===n.indexOf(e)&&n.push(e)}):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:n})};var mv="hover",yv="selected";function vv(e,t,n,r){function i(e,n){t.addMarker(e,n)}function o(e,n){t.removeMarker(e,n)}this._multiSelectionBox=null,e.on("element.hover",function(e){i(e.element,mv)}),e.on("element.out",function(e){o(e.element,mv)}),e.on("selection.changed",function(e){var t=e.oldSelection,n=e.newSelection;Object(_d.i)(t,function(e){-1===n.indexOf(e)&&o(e,yv)}),Object(_d.i)(n,function(e){-1===t.indexOf(e)&&i(e,yv)})})}function gv(e,t,n,r){e.on("create.end",500,function(e){e.context.canExecute&&t.select(e.context.shape)}),e.on("connect.end",500,function(e){e.context.canExecute&&e.context.target&&t.select(e.context.target)}),e.on("shape.move.end",500,function(e){var n=e.previousSelection||[],i=r.get(e.context.shape.id);Object(_d.f)(n,function(e){return i.id===e.id})||t.select(i)}),e.on("element.click",function(e){var r=e.element;r===n.getRootElement()&&(r=null);var i=t.isSelected(r),o=t.get().length>1,a=ov(e);if(i&&o)return a?t.deselect(r):t.select(r);i?t.deselect(r):t.select(r,a)})}vv.$inject=["eventBus","canvas","selection","styles"],gv.$inject=["eventBus","selection","canvas","elementRegistry"];var bv={__init__:["selectionVisuals","selectionBehavior"],__depends__:[uv,fv],selection:["type",dv],selectionVisuals:["type",vv],selectionBehavior:["type",gv]};function wv(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}wv.prototype.next=function(){return this._prefix+ ++this._counter};var _v=new wv("ov");function xv(e,t,n,r){var i,o;this._eventBus=t,this._canvas=n,this._elementRegistry=r,this._ids=_v,this._overlayDefaults=Object(_d.a)({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(i=n.getContainer(),o=Object(xd.f)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />'),i.insertBefore(o,i.firstChild),o),this._init()}function Ev(e,t,n){Object(_d.a)(e.style,{left:t+"px",top:n+"px"})}function Ov(e,t){e.style.display=!1===t?"none":""}function jv(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(n){e.style[n+"transform"]=t})}xv.$inject=["config.overlays","eventBus","canvas","elementRegistry"],xv.prototype.get=function(e){if(Object(_d.q)(e)&&(e={id:e}),Object(_d.q)(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?Object(_d.e)(t.overlays,Object(_d.u)({type:e.type})):t.overlays.slice():[]}return e.type?Object(_d.e)(this._overlays,Object(_d.u)({type:e.type})):e.id?this._overlays[e.id]:null},xv.prototype.add=function(e,t,n){if(Object(_d.p)(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var r=this._ids.next();return n=Object(_d.a)({},this._overlayDefaults,n,{id:r,type:t,element:e,html:n.html}),this._addOverlay(n),r},xv.prototype.remove=function(e){var t=this.get(e)||[];Object(_d.l)(t)||(t=[t]);var n=this;Object(_d.i)(t,function(e){var t=n._getOverlayContainer(e.element,!0);if(e&&(Object(xd.k)(e.html),Object(xd.k)(e.htmlContainer),delete e.htmlContainer,delete e.element,delete n._overlays[e.id]),t){var r=t.overlays.indexOf(e);-1!==r&&t.overlays.splice(r,1)}})},xv.prototype.show=function(){Ov(this._overlayRoot)},xv.prototype.hide=function(){Ov(this._overlayRoot,!1)},xv.prototype.clear=function(){this._overlays={},this._overlayContainers=[],Object(xd.c)(this._overlayRoot)},xv.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,r=t.x,i=t.y;if(t.waypoints){var o=Object(lv.b)(t);r=o.x,i=o.y}Ev(n,r,i),Object(xd.a)(e.html,"data-container-id",t.id)},xv.prototype._updateOverlay=function(e){var t,n,r=e.position,i=e.htmlContainer,o=e.element,a=r.left,s=r.top;void 0!==r.right&&(t=o.waypoints?Object(lv.b)(o).width:o.width,a=-1*r.right+t),void 0!==r.bottom&&(n=o.waypoints?Object(lv.b)(o).height:o.height,s=-1*r.bottom+n),Ev(i,a||0,s||0)},xv.prototype._createOverlayContainer=function(e){var t=Object(xd.f)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n},xv.prototype._updateRoot=function(e){var t=e.scale||1,n="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";jv(this._overlayRoot,n)},xv.prototype._getOverlayContainer=function(e,t){var n=Object(_d.f)(this._overlayContainers,function(t){return t.element===e});return n||t?n:this._createOverlayContainer(e)},xv.prototype._addOverlay=function(e){var t,n,r=e.id,i=e.element,o=e.html;o.get&&o.constructor.prototype.jquery&&(o=o.get(0)),Object(_d.q)(o)&&(o=Object(xd.f)(o)),n=this._getOverlayContainer(i),(t=Object(xd.f)('<div class="djs-overlay" data-overlay-id="'+r+'" style="position: absolute">')).appendChild(o),e.type&&Object(xd.b)(t).add("djs-overlay-"+e.type),e.htmlContainer=t,n.overlays.push(e),n.html.appendChild(t),this._overlays[r]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},xv.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,r=n&&n.minZoom,i=n&&n.maxZoom,o=e.htmlContainer,a=!0;n&&((Object(_d.m)(r)&&r>t.scale||Object(_d.m)(i)&&i<t.scale)&&(a=!1),Ov(o,a)),this._updateOverlayScale(e,t)},xv.prototype._updateOverlayScale=function(e,t){var n,r,i,o=e.scale,a=e.htmlContainer,s="";!0!==o&&(!1===o?(n=1,r=1):(n=o.min,r=o.max),Object(_d.m)(n)&&t.scale<n&&(i=(1/t.scale||1)*n),Object(_d.m)(r)&&t.scale>r&&(i=(1/t.scale||1)*r)),Object(_d.m)(i)&&(s="scale("+i+","+i+")"),jv(a,s)},xv.prototype._updateOverlaysVisibilty=function(e){var t=this;Object(_d.i)(this._overlays,function(n){t._updateOverlayVisibilty(n,e)})},xv.prototype._init=function(){var e=this._eventBus,t=this;e.on("canvas.viewbox.changing",function(e){t.hide()}),e.on("canvas.viewbox.changed",function(e){var n;t._updateRoot(n=e.viewbox),t._updateOverlaysVisibilty(n),t.show()}),e.on(["shape.remove","connection.remove"],function(e){var n=e.element,r=t.get({element:n});Object(_d.i)(r,function(e){t.remove(e.id)});var i=t._getOverlayContainer(n);if(i){Object(xd.k)(i.html);var o=t._overlayContainers.indexOf(i);-1!==o&&t._overlayContainers.splice(o,1)}}),e.on("element.changed",500,function(e){var n=t._getOverlayContainer(e.element,!0);n&&(Object(_d.i)(n.overlays,function(e){t._updateOverlay(e)}),t._updateOverlayContainer(n))}),e.on("element.marker.update",function(e){var n=t._getOverlayContainer(e.element,!0);n&&Object(xd.b)(n.html)[e.add?"add":"remove"](e.marker)}),e.on("diagram.clear",this.clear,this)};var Sv={__init__:["overlays"],overlays:["type",xv]},Cv='<img width="52" height="52" src="data:image/svg+xml,'+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 960"><path fill="#fff" d="M960 60v839c0 33-27 61-60 61H60c-33 0-60-27-60-60V60C0 27 27 0 60 0h839c34 0 61 27 61 60z"/><path fill="#52b415" d="M217 548a205 205 0 0 0-144 58 202 202 0 0 0-4 286 202 202 0 0 0 285 3 200 200 0 0 0 48-219 203 203 0 0 0-185-128zM752 6a206 206 0 0 0-192 285 206 206 0 0 0 269 111 207 207 0 0 0 111-260A204 204 0 0 0 752 6zM62 0A62 62 0 0 0 0 62v398l60 46a259 259 0 0 1 89-36c5-28 10-57 14-85l99 2 12 85a246 246 0 0 1 88 38l70-52 69 71-52 68c17 30 29 58 35 90l86 14-2 100-86 12a240 240 0 0 1-38 89l43 58h413c37 0 60-27 60-61V407a220 220 0 0 1-44 40l21 85-93 39-45-76a258 258 0 0 1-98 1l-45 76-94-39 22-85a298 298 0 0 1-70-69l-86 22-38-94 76-45a258 258 0 0 1-1-98l-76-45 40-94 85 22a271 271 0 0 1 41-47z"/></svg>')+'" />';function kv(e){return e.join(";")}var Tv,Av='<div class="bjs-powered-by-lightbox" style="'+kv(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"])+'"><div class="backdrop" style="'+kv(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"])+'"></div><div class="notice" style="'+kv(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"])+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px">'+Cv+'</a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>',Rv={width:"100%",height:"100%",position:"relative"};function Pv(e){return e+(Object(_d.o)(e)?"px":"")}function Mv(e){var t,n,r;e=Object(_d.a)({},Rv,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),t=this._container,n='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100">'+Cv+"</a>",r=Object(xd.f)(n),t.appendChild(r),xd.g.bind(r,"click",function(e){Tv||(Tv=Object(xd.f)(Av),xd.e.bind(Tv,".backdrop","click",function(e){document.body.removeChild(Tv)})),document.body.appendChild(Tv),e.preventDefault()}),this._init(this._container,this._moddle,e)}function Dv(e){return!e.altKey&&(e.ctrlKey||e.metaKey)}function Nv(e,t){return(e=Object(_d.l)(e)?e:[e]).indexOf(t.key)>-1}function Iv(e){return e.shiftKey}function Bv(e,t){var n=this;this._config=e||{},this._eventBus=t,this._keyHandler=this._keyHandler.bind(this),t.on("diagram.destroy",function(){n._fire("destroy"),n.unbind()}),t.on("diagram.init",function(){n._fire("init")}),t.on("attach",function(){e&&e.bindTo&&n.bind(e.bindTo)}),t.on("detach",function(){n.unbind()})}Mv.prototype.importXML=function(e,t){t=t||function(){};var n=this;e=this._emit("import.parse.start",{xml:e})||e,this._moddle.fromXML(e,"bpmn:Definitions",function(e,r,i){r=n._emit("import.parse.complete",{error:e,definitions:r,context:i})||r;var o=i.warnings;if(e)return e=function(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);return t&&(e.message="unparsable content <"+t[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+t[2]),e}(e),n._emit("import.done",{error:e,warnings:o}),t(e,o);n.importDefinitions(r,function(e,r){var i=[].concat(o,r||[]);n._emit("import.done",{error:e,warnings:i}),t(e,i)})})},Mv.prototype.saveXML=function(e,t){t||(t=e,e={});var n=this,r=this._definitions;if(!r)return t(new Error("no definitions loaded"));r=this._emit("saveXML.start",{definitions:r})||r,this._moddle.toXML(r,e,function(e,r){try{r=n._emit("saveXML.serialized",{error:e,xml:r})||r,n._emit("saveXML.done",{error:e,xml:r})}catch(i){console.error("error in saveXML life-cycle listener",i)}t(e,r)})},Mv.prototype.saveSVG=function(e,t){var n,r;t||(t=e,e={}),this._emit("saveSVG.start");try{var i=this.get("canvas"),o=i.getDefaultLayer(),a=Object(xd.i)("defs",i._svg),s=Object(Ed.i)(o),c=a?"<defs>"+Object(Ed.i)(a)+"</defs>":"",u=o.getBBox();n='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+u.width+'" height="'+u.height+'" viewBox="'+u.x+" "+u.y+" "+u.width+" "+u.height+'" version="1.1">'+c+s+"</svg>"}catch(l){r=l}this._emit("saveSVG.done",{error:r,svg:n}),t(r,n)},Mv.prototype.importDefinitions=function(e,t){try{this._definitions&&this.clear(),this._definitions=e}catch(n){return t(n)}return function(e,t,r){var i,o,a,s,c=[];try{i=e.get("bpmnImporter"),o=e.get("eventBus"),a=e.get("translate"),o.fire("import.render.start",{definitions:t}),function(e){new Km({root:function(e){return i.add(e)},element:function(e,t){return i.add(e,t)},error:function(e,t){c.push({message:e,context:t})}},a).handleDefinitions(e)}(t),o.fire("import.render.complete",{error:s,warnings:c})}catch(n){s=n}r(s,c)}(this,e,t)},Mv.prototype.getModules=function(){return this._modules},Mv.prototype.destroy=function(){jd.a.prototype.destroy.call(this),Object(xd.k)(this._container)},Mv.prototype.on=function(e,t,n,r){return this.get("eventBus").on(e,t,n,r)},Mv.prototype.off=function(e,t){this.get("eventBus").off(e,t)},Mv.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"==typeof e&&(e=Object(xd.i)(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},Mv.prototype.getDefinitions=function(){return this._definitions},Mv.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))},Mv.prototype._init=function(e,t,n){var r=n.modules||this.getModules(),i=[].concat([{bpmnjs:["value",this],moddle:["value",t]}],r,n.additionalModules||[]),o=Object(_d.a)(Object(_d.v)(n,["additionalModules"]),{canvas:Object(_d.a)({},n.canvas,{container:e}),modules:i});jd.a.call(this,o),n&&n.container&&this.attachTo(n.container)},Mv.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)},Mv.prototype._createContainer=function(e){var t=Object(xd.f)('<div class="bjs-container"></div>');return Object(_d.a)(t.style,{width:Pv(e.width),height:Pv(e.height),position:e.position}),t},Mv.prototype._createModdle=function(e){var t=Object(_d.a)({},this._moddleExtensions,e.moddleExtensions);return new Hm(t)},Mv.prototype._modules=[Jy,ky,bv,Sv],Mv.prototype._moddleExtensions={},Bv.$inject=["config.keyboard","eventBus"],Bv.prototype._keyHandler=function(e){(function(e){return e&&(Object(xd.h)(e,"input, textarea")||"true"===e.contentEditable)})(e.target)||this._eventBus.fire("keyboard.keydown",{keyEvent:e})&&e.preventDefault()},Bv.prototype.bind=function(e){this.unbind(),this._node=e,xd.g.bind(e,"keydown",this._keyHandler,!0),this._fire("bind")},Bv.prototype.getBinding=function(){return this._node},Bv.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),xd.g.unbind(e,"keydown",this._keyHandler,!0)),this._node=null},Bv.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})},Bv.prototype.addListener=function(e,t){Object(_d.n)(e)&&(t=e,e=1e3),this._eventBus.on("keyboard.keydown",e,t)},Bv.prototype.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},Bv.prototype.isCmd=Dv,Bv.prototype.isShift=Iv,Bv.prototype.isKey=Nv;var Lv=500;function Fv(e,t){var n=this;e.on("editorActions.init",Lv,function(e){n.registerBindings(t,e.editorActions)})}Fv.$inject=["eventBus","keyboard"],Fv.prototype.registerBindings=function(e,t){function n(n,r){t.isRegistered(n)&&e.addListener(r)}n("undo",function(e){var n=e.keyEvent;if(Dv(n)&&!Iv(n)&&Nv(["z","Z"],n))return t.trigger("undo"),!0}),n("redo",function(e){var n=e.keyEvent;if(Dv(n)&&(Nv(["y","Y"],n)||Nv(["z","Z"],n)&&Iv(n)))return t.trigger("redo"),!0}),n("copy",function(e){var n=e.keyEvent;if(Dv(n)&&Nv(["c","C"],n))return t.trigger("copy"),!0}),n("paste",function(e){var n=e.keyEvent;if(Dv(n)&&Nv(["v","V"],n))return t.trigger("paste"),!0}),n("stepZoom",function(e){var n=e.keyEvent;if(Nv(["+","Add"],n)&&Dv(n))return t.trigger("stepZoom",{value:1}),!0}),n("stepZoom",function(e){var n=e.keyEvent;if(Nv(["-","Subtract"],n)&&Dv(n))return t.trigger("stepZoom",{value:-1}),!0}),n("zoom",function(e){var n=e.keyEvent;if(Nv("0",n)&&Dv(n))return t.trigger("zoom",{value:1}),!0}),n("removeSelection",function(e){if(Nv(["Delete","Del"],e.keyEvent))return t.trigger("removeSelection"),!0})};var zv={__init__:["keyboard","keyboardBindings"],keyboard:["type",Bv],keyboardBindings:["type",Fv]},Vv={moveSpeed:50,moveSpeedAccelerated:200};function Uv(e,t,n){var r=this;this._config=Object(_d.a)({},Vv,e||{}),t.addListener(function(e){var n=e.keyEvent,i=r._config;if(t.isCmd(n)&&t.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],n)){var o,a=t.isShift(n)?i.moveSpeedAccelerated:i.moveSpeed;switch(n.key){case"ArrowLeft":case"Left":o="left";break;case"ArrowUp":case"Up":o="up";break;case"ArrowRight":case"Right":o="right";break;case"ArrowDown":case"Down":o="down"}return r.moveCanvas({speed:a,direction:o}),!0}}),this.moveCanvas=function(e){var t=0,r=0,i=e.speed/Math.min(Math.sqrt(n.viewbox().scale),1);switch(e.direction){case"left":t=i;break;case"up":r=i;break;case"right":t=-i;break;case"down":r=-i}n.scroll({dx:t,dy:r})}}Uv.$inject=["config.keyboardMove","keyboard","canvas"];var Hv={__depends__:[zv],__init__:["keyboardMove"],keyboardMove:["type",Uv]},$v=/^djs-cursor-.*$/;function Wv(e){var t=Object(xd.b)(document.body);t.removeMatching($v),e&&t.add("djs-cursor-"+e)}function Gv(){Wv(null)}var qv=5e3;function Kv(e,t){function n(){return!1}return e.once(t=t||"element.click",qv,n),function(){e.off(t,n)}}function Zv(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function Xv(e,t){return{x:e.x-t.x,y:e.y-t.y}}var Yv=15;function Qv(e,t){var n;function r(r){var i,o=n.start,a=rv(r),s=Xv(a,o);!n.dragging&&(i=s,Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))>Yv)&&(n.dragging=!0,Kv(e),Wv("grab")),n.dragging&&(s=Xv(a,n.last||n.start),t.scroll({dx:s.x,dy:s.y}),n.last=a),r.preventDefault()}function i(e){xd.g.unbind(document,"mousemove",r),xd.g.unbind(document,"mouseup",i),n=null,Gv()}e.on("element.mousedown",500,function(e){return function(e){if(!Object(xd.d)(e.target,".djs-draggable")&&!(e.button||e.ctrlKey||e.shiftKey||e.altKey))return n={start:rv(e)},xd.g.bind(document,"mousemove",r),xd.g.bind(document,"mouseup",i),!0}(e.originalEvent)})}Qv.$inject=["eventBus","canvas"];var Jv={__init__:["moveCanvas"],moveCanvas:["type",Qv]};function eg(e){return Math.log(e)/Math.log(10)}function tg(e,t){var n=eg(e.min),r=eg(e.max);return(Math.abs(n)+Math.abs(r))/t}var ng=Math.sign||function(e){return e>=0?1:-1},rg={min:.2,max:4},ig=.75;function og(e,t,n){e=e||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=Object(_d.b)(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||ig;var r=this;t.on("canvas.init",function(t){r._init(!1!==e.enabled)})}og.$inject=["config.zoomScroll","eventBus","canvas"],og.prototype.scroll=function(e){this._canvas.scroll(e)},og.prototype.reset=function(){this._canvas.zoom("fit-viewport")},og.prototype.zoom=function(e,t){var n=tg(rg,20);this._totalDelta+=e,Math.abs(this._totalDelta)>.1&&(this._zoom(e,t,n),this._totalDelta=0)},og.prototype._handleWheel=function(e){if(!Object(xd.d)(e.target,".djs-scrollable",!0)){var t=this._container;e.preventDefault();var n,r=e.ctrlKey,i=e.shiftKey,o=-1*this._scale;if(o*=r?0===e.deltaMode?.02:.32:0===e.deltaMode?1:16,r){var a=t.getBoundingClientRect(),s={x:e.clientX-a.left,y:e.clientY-a.top};n=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*ng(e.deltaY)*o,this.zoom(n,s)}else this.scroll(n=i?{dx:o*e.deltaY,dy:0}:{dx:o*e.deltaX,dy:o*e.deltaY})}},og.prototype.stepZoom=function(e,t){var n=tg(rg,10);this._zoom(e,t,n)},og.prototype._zoom=function(e,t,n){var r,i=this._canvas,o=e>0?1:-1,a=eg(i.zoom()),s=Math.round(a/n)*n,c=Math.pow(10,s+=n*o);i.zoom((r=rg,Math.max(r.min,Math.min(r.max,c))),t)},og.prototype.toggle=function(e){var t=this._enabled;return void 0===e&&(e=!t),t!==e&&xd.g[e?"bind":"unbind"](this._container,"wheel",this._handleWheel,!1),this._enabled=e,e},og.prototype._init=function(e){this.toggle(e)};var ag={__init__:["zoomScroll"],zoomScroll:["type",og]};function sg(e){Mv.call(this,e)}sg.prototype._modules=[].concat(sg.prototype._modules,sg.prototype._navigationModules=[Hv,Jv,ag]);var cg=n("yLV6"),ug=n.n(cg),lg=.2,pg=4,hg=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function fg(e,t){return t.get(e,!1)}function dg(e){e.preventDefault(),e.stopPropagation(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation()}function mg(e){function t(t){setTimeout(function(){Object(_d.i)(hg,function(t){xd.g.unbind(e,t,dg,!0)})},500)}xd.g.bind(e,"touchstart",function(t){Object(_d.i)(hg,function(t){xd.g.bind(e,t,dg,!0)})},!0),xd.g.bind(e,"touchend",t,!0),xd.g.bind(e,"touchcancel",t,!0);var n=new ug.a.Manager(e,{inputClass:ug.a.TouchInput,recognizers:[]}),r=new ug.a.Tap,i=new ug.a.Pan({threshold:10}),o=new ug.a.Press,a=new ug.a.Pinch,s=new ug.a.Tap({event:"doubletap",taps:2});return a.requireFailure(i),a.requireFailure(o),n.add([i,o,a,s,r]),n.reset=function(e){var t=this.recognizers,r=this.session;r.stopped||(n.stop(e),setTimeout(function(){var e,n;for(e=0;n=t[e];e++)n.reset(),n.state=8;r.curRecognizer=null},0))},n.on("hammer.input",function(e){e.srcEvent.defaultPrevented&&n.reset(!0)}),n}function yg(e,t,n,r,i){var o,a=fg("dragging",e),s=fg("move",e),c=fg("contextPad",e),u=fg("palette",e);function l(e){return function(t){i.fire(e,t)}}function p(e){return Object(xd.d)(e,"svg, .djs-element",!0)}a&&n.on("drag.move",function(e){var t=e.originalEvent;if(t&&!(t instanceof MouseEvent)){var n=rv(t),i=p(document.elementFromPoint(n.x,n.y)),o=i&&r.get(i);o!==e.hover&&(e.hover&&a.out(e),o&&(a.hover({element:o,gfx:i}),e.hover=o,e.hoverGfx=i))}}),c&&n.on("contextPad.create",function(e){var t=mg(e.pad.html);t.on("panstart",function(e){c.trigger("dragstart",e,!0)}),t.on("press",function(e){c.trigger("dragstart",e,!0)}),t.on("tap",function(e){c.trigger("click",e)})}),u&&n.on("palette.create",function(e){var t=mg(e.container);t.on("panstart",function(e){u.trigger("dragstart",e,!0)}),t.on("press",function(e){u.trigger("dragstart",e,!0)}),t.on("tap",function(e){u.trigger("click",e)})}),n.on("canvas.init",function(e){!function(n){function i(e){var n=p(e.target),i=n&&r.get(n);if(s&&t.getRootElement()!==i)return s.start(e,i,!0);!function(e){var n=0,r=0;function i(e){t.scroll({dx:e.deltaX-n,dy:e.deltaY-r}),n=e.deltaX,r=e.deltaY}function a(e){o.off("panmove",i),o.off("panend",a),o.off("pancancel",a)}o.on("panmove",i),o.on("panend",a),o.on("pancancel",a)}()}(o=mg(e.svg)).on("doubletap",l("element.dblclick")),o.on("tap",l("element.click")),o.on("panstart",i),o.on("press",i),o.on("pinchstart",function(e){var n=t.zoom(),r=e.center;function i(e){var i=Math.max(lg,Math.min(pg,(1-(1-e.scale)/1.5)*n));t.zoom(i,r),dg(e)}function a(e){o.off("pinchmove",i),o.off("pinchend",a),o.off("pinchcancel",a),o.reset(!0)}o.on("pinchmove",i),o.on("pinchend",a),o.on("pinchcancel",a)})}()})}function vg(e,t){var n=this;t.on("canvas.init",function(e){n.addBBoxMarker(e.svg)})}yg.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],vg.$inject=["canvas","eventBus"],vg.prototype.addBBoxMarker=function(e){var t={fill:"none",class:"outer-bound-marker"},n=Object(Ed.f)("rect");Object(Ed.b)(n,{x:-1e4,y:1e4,width:10,height:10}),Object(Ed.b)(n,t),Object(Ed.a)(e,n);var r=Object(Ed.f)("rect");Object(Ed.b)(r,{x:1e4,y:1e4,width:10,height:10}),Object(Ed.b)(r,t),Object(Ed.a)(e,r)};var gg={__depends__:[{__depends__:[uv],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",yg],touchFix:["type",vg]}]};function bg(e){return e&&e[e.length-1]}function wg(e){return e.y}function _g(e){return e.x}var xg={left:_g,center:_g,right:function(e){return e.x+e.width},top:wg,middle:wg,bottom:function(e){return e.y+e.height}};function Eg(e){this._modeling=e}Eg.$inject=["modeling"],Eg.prototype._getOrientationDetails=function(e){var t="x",n="width";return-1!==["top","bottom","middle"].indexOf(e)&&(t="y",n="height"),{axis:t,dimension:n}},Eg.prototype._isType=function(e,t){return-1!==t.indexOf(e)},Eg.prototype._alignmentPosition=function(e,t){var n,r,i,o,a=this._getOrientationDetails(e),s=a.axis,c=a.dimension,u={},l={},p=!1;if(this._isType(e,["left","top"]))u[e]=t[0][s];else if(this._isType(e,["right","bottom"]))i=bg(t),u[e]=i[s]+i[c];else if(this._isType(e,["center","middle"])){if(Object(_d.i)(t,function(e){var t=e[s]+Math.round(e[c]/2);l[t]?l[t].elements.push(e):l[t]={elements:[e],center:t}}),n=Object(_d.A)(l,function(e){return e.elements.length>1&&(p=!0),e.elements.length}),p)return u[e]=bg(n).center,u;r=t[0],i=bg(t=Object(_d.A)(t,function(e){return e[s]+e[c]})),u[e]=(o=i,Math.round((r[s]+o[s]+o[c])/2))}return u},Eg.prototype.trigger=function(e,t){var n=this._modeling,r=Object(_d.e)(e,function(e){return!(e.waypoints||e.host||e.labelTarget)}),i=xg[t],o=Object(_d.A)(r,i),a=this._alignmentPosition(t,o);n.alignElements(o,a)};var Og={__init__:["alignElements"],alignElements:["type",Eg]};function jg(e,t){return Object(_d.z)(t,function(t){return Xm(e,t)})}var Sg=50,Cg=250,kg=10;function Tg(e,t,n){var r={x:t.x-n.width/2,y:t.y-n.height/2,width:n.width,height:n.height},i=function(e,t){var n=Pg(e);return e.host&&(n=n.concat(Pg(e.host))),e.attachers&&(n=n.concat(e.attachers.reduce(function(e,t){return e.concat(Pg(t))},[]))),n}(e);return Object(_d.f)(i,function(e){return e!==n&&"intersect"===Ky(e,r,kg)})}function Ag(e,t,n,r){function i(e){var i={x:n.x,y:n.y};return["x","y"].forEach(function(a){var s=r[a];if(s){var c="x"===a?"width":"height",u=s.margin,l=s.rowSize;i[a]=u<0?Math.min(e[a]+u-t[c]/2,n[a]-l+u):Math.max(o[a]+o[c]+u+t[c]/2,n[a]+l+u)}}),i}for(var o;o=Tg(e,n,t);)n=i(o);return n}function Rg(){return!0}function Pg(e,t){return[].concat(Dg(e,t),Mg(e,t))}function Mg(e,t){return t||(t=Rg),e.incoming.filter(t).map(function(e){return e.source})}function Dg(e,t){return t||(t=Rg),e.outgoing.filter(t).map(function(e){return e.target})}function Ng(e,t){function n(t,n){return e.fire(t,n)}this.append=function(e,r){var i=n("autoPlace",{source:e,shape:r});i||(i=function(e,t){return Xm(t,"bpmn:TextAnnotation")?function(e,t){var n=Wy(e);return Ag(e,t,{x:n.right+t.width/2,y:n.top-50-t.height/2},{y:{margin:-30,rowSize:20}})}(e,t):jg(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function(e,t){var n=Wy(e);return Ag(e,t,{x:n.right-10+t.width/2,y:n.bottom+40+t.width/2},{x:{margin:30,rowSize:30}})}(e,t):Xm(t,"bpmn:FlowNode")?function(e,t){var n,r=Wy(e),i=qy(e),o=function(e,t){var n=Wy(e);function r(e){return Xm(e,"bpmn:SequenceFlow")}var i=Object(_d.x)([].concat(Dg(e,r).map(function(e){return{shape:e,weight:5,distanceTo:function(e){return Wy(e).left-n.right}}}),Mg(e,r).map(function(e){return{shape:e,weight:1,distanceTo:function(e){var t=Wy(e);return n.left-t.right}}})),function(e,t){return e[t.shape.id+"__weight_"+t.weight]=t,e},{}),o=Object(_d.x)(i,function(e,t){var n,r,i,o=t.weight,a=e.fav;return(n=(0,t.distanceTo)(t.shape))<0||n>Cg?e:(r=(i=e[String(n)]=e[String(n)]||{value:n,count:0}).count+=1*o,(!a||a.count<r)&&(e.fav=i),e)},{});return o.fav?o.fav.value:Sg}(e),a="left",s=30;return Xm(e,"bpmn:BoundaryEvent")&&-1!==(a=Ky(e,e.host,-25)).indexOf("top")&&(s*=-1),Ag(e,t,{x:r.right+o+t.width/2,y:i.y+(n=a,-1!=n.indexOf("top")?-80:-1!=n.indexOf("bottom")?80:0)},{y:{margin:s,rowSize:80}})}(e,t):function(e,t){var n=Wy(e),r=qy(e);return{x:n.right+Sg+t.width/2,y:r.y}}(e,t)}(e,r));var o=t.appendShape(e,r,i,e.parent);return n("autoPlace.end",{shape:o}),o}}function Ig(e,t){e.on("autoPlace.end",500,function(e){t.select(e.shape)})}Ng.$inject=["eventBus","modeling"],Ig.$inject=["eventBus","selection"];var Bg={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",Ng],autoPlaceSelectionBehavior:["type",Ig]};function Lg(e){this._eventBus=e}function Fg(e,t,n,r){Lg.call(this,e),this._elementRegistry=t,this._modeling=n,this._rules=r;var i=this;this.postExecuted(["shape.create"],function(e){var t=e.context,n=t.hints;(!n||!1!==n.root&&!1!==n.autoResize)&&i._expand([t.shape],t.parent||t.newParent)}),this.postExecuted(["elements.move"],function(e){var t=e.context,n=Object(_d.h)(Object(_d.D)(t.closure.topLevel)),r=t.hints,o=!r||r.autoResize;if(!1!==o){var a=Object(_d.j)(n,function(e){return e.parent.id});Object(_d.i)(a,function(e,t){Object(_d.l)(o)&&(e=e.filter(function(e){return-1!==o.indexOf(e)})),i._expand(e,t)})}}),this.postExecuted(["shape.toggleCollapse"],function(e){var t=e.context,n=t.hints,r=t.shape;(!n||!1!==n.root&&!1!==n.autoResize)&&(r.collapsed||i._expand(r.children||[],r))}),this.postExecuted(["shape.resize"],function(e){var t=e.context,n=t.hints,r=t.shape,o=r.parent;(!n||!1!==n.root&&!1!==n.autoResize)&&o&&i._expand([r],o)})}function zg(e){e.invoke(Fg,this)}function Vg(e){Lg.call(this,e),this.init()}function Ug(e){Vg.call(this,e);var t=this;this.addRule("element.autoResize",function(e){return t.canResize(e.elements,e.target)})}function Hg(e,t){Ug.call(this,e),this._modeling=t}Lg.$inject=["eventBus"],Lg.prototype.on=function(e,t,n,r,i,o){if((Object(_d.n)(t)||Object(_d.o)(t))&&(o=i,i=r,r=n,n=t,t=null),Object(_d.n)(n)&&(o=i,i=r,r=n,n=1e3),Object(_d.p)(i)&&(o=i,i=!1),!Object(_d.n)(r))throw new Error("handlerFn must be a function");Object(_d.l)(e)||(e=[e]);var a=this._eventBus;Object(_d.i)(e,function(e){var s=["commandStack",e,t].filter(function(e){return e}).join(".");a.on(s,n,i?function(e,t){return function(n){return e.call(t||null,n.context,n.command,n)}}(r,o):r,o)})},Fg.$inject=["eventBus","elementRegistry","modeling","rules"],Fg.prototype._getOptimalBounds=function(e,t){var n=this.getOffset(t),r=this.getPadding(t),i=Wy(Object(lv.b)(e)),o=Wy(t),a={};return i.top-o.top<r.top&&(a.top=i.top-n.top),i.left-o.left<r.left&&(a.left=i.left-n.left),o.right-i.right<r.right&&(a.right=i.right+n.right),o.bottom-i.bottom<r.bottom&&(a.bottom=i.bottom+n.bottom),Gy(Object(_d.a)({},o,a))},Fg.prototype._expand=function(e,t){if("string"==typeof t&&(t=this._elementRegistry.get(t)),this._rules.allowed("element.autoResize",{elements:e,target:t})){var n=this._getOptimalBounds(e,t);if(function(e,n){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}(n)){this.resize(t,n);var r=t.parent;r&&this._expand([t],r)}}},Fg.prototype.getOffset=function(e){return{top:60,bottom:60,left:100,right:100}},Fg.prototype.getPadding=function(e){return{top:2,bottom:2,left:15,right:15}},Fg.prototype.resize=function(e,t){this._modeling.resizeShape(e,t)},zg.$inject=["injector"],zg.prototype.resize=function(e,t){Xm(e,"bpmn:Participant")?this._modeling.resizeLane(e,t):this._modeling.resizeShape(e,t)},Vg.$inject=["eventBus"],Vg.prototype.addRule=function(e,t,n){var r=this;"string"==typeof e&&(e=[e]),e.forEach(function(e){r.canExecute(e,t,function(e,t,r){return n(e)},!0)})},Vg.prototype.init=function(){},Ug.$inject=["eventBus"],Ug.prototype.canResize=function(e,t){return!1},Hg.$inject=["eventBus","modeling"],Hg.prototype.canResize=function(e,t){if(!Xm(t,"bpmn:Participant")&&!Xm(t,"bpmn:Lane")&&!Xm(t,"bpmn:SubProcess"))return!1;var n=!0;return Object(_d.i)(e,function(e){(Xm(e,"bpmn:Lane")||e.labelTarget)&&(n=!1)}),n};var $g={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",zg],bpmnAutoResizeProvider:["type",Hg]},Wg=Math.round,Gg="djs-drag-active";function qg(e){e.preventDefault()}function Kg(e,t,n){var r,i={threshold:5,trapClick:!0};function o(e){var n=t.viewbox(),r=t._container.getBoundingClientRect();return{x:n.x+(e.x-r.left)/n.scale,y:n.y+(e.y-r.top)/n.scale}}function a(t,n){n=n||r;var i=e.createEvent(Object(_d.a)({},n.payload,n.data,{isTouch:n.isTouch}));return!1!==e.fire("drag."+t,i)&&e.fire(n.prefix+"."+t,i)}function s(e,i){var s,c=r.payload,u=r.displacement,l=r.globalStart,p=rv(e),h=Xv(p,l),f=r.localStart,m=o(p),y=Xv(m,f);if(!r.active&&(i||(s=h,Math.sqrt(Math.pow(s.x,2)+Math.pow(s.y,2))>r.threshold))){if(Object(_d.a)(c,{x:Wg(f.x+u.x),y:Wg(f.y+u.y),dx:0,dy:0},{originalEvent:e}),!1===a("start"))return d();r.active=!0,r.keepSelection||(c.previousSelection=n.get(),n.select(null)),r.cursor&&Wv(r.cursor),t.addMarker(t.getRootElement(),Gg)}nv(e),r.active&&(Object(_d.a)(c,{x:Wg(m.x+u.x),y:Wg(m.y+u.y),dx:Wg(y.x),dy:Wg(y.y)},{originalEvent:e}),a("move"))}function c(e){var t=!0;r.active&&(e&&(r.payload.originalEvent=e,nv(e)),t=a("end")),!1===t&&a("rejected"),a("ended",m(!0!==t))}function u(e){27===e.which&&(qg(e),d())}function l(t){var n;r.active&&(n=Kv(e),setTimeout(n,400),qg(t)),c(t)}function p(e){s(e)}function h(e){var t=r.payload;t.hoverGfx=e.gfx,t.hover=e.element,a("hover")}function f(e){a("out");var t=r.payload;t.hoverGfx=null,t.hover=null}function d(e){var t;if(r){var n=r.active;n&&a("cancel"),t=m(e),n&&a("canceled",t)}}function m(i){var o,m;a("cleanup"),Gv(),m=r.trapClick?l:c,xd.g.unbind(document,"mousemove",s),xd.g.unbind(document,"dragstart",qg),xd.g.unbind(document,"selectstart",qg),xd.g.unbind(document,"mousedown",m,!0),xd.g.unbind(document,"mouseup",m,!0),xd.g.unbind(document,"keyup",u),xd.g.unbind(document,"touchstart",p,!0),xd.g.unbind(document,"touchcancel",d,!0),xd.g.unbind(document,"touchmove",s,!0),xd.g.unbind(document,"touchend",c,!0),e.off("element.hover",h),e.off("element.out",f),t.removeMarker(t.getRootElement(),Gg);var y=r.payload.previousSelection;return!1!==i&&y&&!n.get().length&&n.select(y),o=r,r=null,o}e.on("diagram.destroy",d),this.init=function(t,n,m,y){r&&d(!1),"string"==typeof n&&(y=m,m=n,n=null);var v,g,b,w,_,x=(y=Object(_d.a)({},i,y||{})).data||{};w=y.trapClick?l:c,t?(v=tv(t)||t,g=rv(t),nv(t),"dragstart"===v.type&&qg(v)):(v=null,g={x:0,y:0}),b=o(g),n||(n=b),_="undefined"!=typeof TouchEvent&&v instanceof TouchEvent,r=Object(_d.a)({prefix:m,data:x,payload:{},globalStart:g,displacement:Xv(n,b),localStart:b,isTouch:_},y),y.manual||(_?(xd.g.bind(document,"touchstart",p,!0),xd.g.bind(document,"touchcancel",d,!0),xd.g.bind(document,"touchmove",s,!0),xd.g.bind(document,"touchend",c,!0)):(xd.g.bind(document,"mousemove",s),xd.g.bind(document,"dragstart",qg),xd.g.bind(document,"selectstart",qg),xd.g.bind(document,"mousedown",w,!0),xd.g.bind(document,"mouseup",w,!0)),xd.g.bind(document,"keyup",u),e.on("element.hover",h),e.on("element.out",f)),a("init"),y.autoActivate&&s(t,!0)},this.move=s,this.hover=h,this.out=f,this.end=c,this.cancel=d,this.context=function(){return r},this.setOptions=function(e){Object(_d.a)(i,e)}}function Zg(e,t,n){var r=this;e.on("drag.start",function(t){e.once("drag.move",function(){e.once("drag.move",function(e){r.ensureHover(e)})})}),this.ensureHover=function(e){if(!e.hover){var r,i,o,a=e.originalEvent;a instanceof MouseEvent&&(r=rv(a),(o=function(e){return Object(xd.d)(e,"svg, .djs-element",!0)}(document.elementFromPoint(r.x,r.y)))&&(i=n.get(o),t.hover({element:i,gfx:o})))}}}Kg.$inject=["eventBus","canvas","selection"],Zg.$inject=["eventBus","dragging","elementRegistry"];var Xg={__init__:["hoverFix"],__depends__:[bv],dragging:["type",Kg],hoverFix:["type",Zg]};function Yg(e,t){this._eventBus=e,this._canvas=t,this._init()}Yg.$inject=["eventBus","canvas"],Yg.prototype.getHoverContext=function(){var e=this._canvas.viewbox();return{element:this._hoverElement,point:{x:e.x+Math.round(this._mouseX/e.scale),y:e.y+Math.round(this._mouseY/e.scale)}}},Yg.prototype._init=function(){var e=this._eventBus,t=this._canvas.getContainer();this._setMousePosition=Object(_d.b)(this._setMousePosition,this),t.addEventListener("mousemove",this._setMousePosition),e.on("diagram.destroy",function(){t.removeEventListener("mousemove",this._setMousePosition)},this),e.on("element.hover",this._setHoverElement,this)},Yg.prototype._setHoverElement=function(e){this._hoverElement=e.element},Yg.prototype._setMousePosition=function(e){this._mouseX=e.layerX,this._mouseY=e.layerY};var Qg={__init__:["mouseTracking"],mouseTracking:["type",Yg]};function Jg(e,t,n,r){this._canvas=n,this._mouseTracking=r,this._opts=Object(_d.a)({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},e);var i=this;t.on("drag.move",function(e){var t=i._toBorderPoint(e);i.startScroll(t)}),t.on(["drag.cleanup"],function(){i.stopScroll()})}Jg.$inject=["config.autoScroll","eventBus","canvas","mouseTracking"],Jg.prototype.startScroll=function(e){var t,n=this._canvas,r=this._opts,i=this,o=n.getContainer().getBoundingClientRect(),a=[e.x,e.y,o.width-e.x,o.height-e.y];this.stopScroll();for(var s=0,c=0,u=0;u<4;u++)r.scrollThresholdOut[u]<(t=a[u])&&t<r.scrollThresholdIn[u]&&(0===u?s=r.scrollStep:1==u?c=r.scrollStep:2==u?s=-r.scrollStep:3==u&&(c=-r.scrollStep));0===s&&0===c||(n.scroll({dx:s,dy:c}),this._scrolling=setTimeout(function(){i.startScroll(e)},r.scrollRepeatTimeout))},Jg.prototype.stopScroll=function(){clearTimeout(this._scrolling)},Jg.prototype.setOptions=function(e){this._opts=Object(_d.a)({},this._opts,e)},Jg.prototype._toBorderPoint=function(e){var t=this._canvas._container.getBoundingClientRect(),n=rv(e.originalEvent);return{x:n.x-t.left,y:n.y-t.top}};var eb={__depends__:[Xg,Qg],__init__:["autoScroll"],autoScroll:["type",Jg]};function tb(e){this._commandStack=e.get("commandStack",!1)}tb.$inject=["injector"],tb.prototype.allowed=function(e,t){var n=!0,r=this._commandStack;return r&&(n=r.canExecute(e,t)),void 0===n||n};var nb={__init__:["rules"],rules:["type",tb]},rb="djs-bendpoint",ib="djs-segment-dragger";function ob(e,t){var n=Object(Ed.f)("g");Object(Ed.c)(n).add(rb),Object(Ed.a)(e,n);var r=Object(Ed.f)("circle");Object(Ed.b)(r,{cx:0,cy:0,r:4}),Object(Ed.c)(r).add("djs-visual"),Object(Ed.a)(n,r);var i=Object(Ed.f)("circle");return Object(Ed.b)(i,{cx:0,cy:0,r:10}),Object(Ed.c)(i).add("djs-hit"),Object(Ed.a)(n,i),t&&Object(Ed.c)(n).add(t),n}function ab(e,t,n){var r=Object(Ed.f)("g"),i=zy(t,n),o=Ly(t,n);return Object(Ed.a)(e,r),function(e,t,n){var r=Object(Ed.f)("g");Object(Ed.a)(e,r);var i=Object(Ed.f)("rect");Object(Ed.b)(i,{x:-7,y:-1.5,width:14,height:3}),Object(Ed.c)(i).add("djs-visual"),Object(Ed.a)(r,i);var o=Object(Ed.f)("rect");Object(Ed.b)(o,{x:-10,y:-4.5,width:20,height:9}),Object(Ed.c)(o).add("djs-hit"),Object(Ed.a)(r,o),Object(sy.a)(r,"h"===n?90:0,0,0)}(r,0,o),Object(Ed.c)(r).add(ib),Object(Ed.c)(r).add("h"===o?"vertical":"horizontal"),Object(sy.c)(r,i.x,i.y),r}var sb=n("56W2"),cb=n.n(sb),ub=Math.round,lb=Math.max,pb=10;function hb(e,t){return function(e,t){var n,r;for(n=0;r=e[n];n++)if(Ny(r,t)<=pb)return{point:e[n],bendpoint:!0,index:n};return null}(e,t)||function(e,t){var n,r,i,o,a=Uy()([["M",(r=t).x,r.y],["m",0,-(i=pb)],["a",i,i,0,1,1,0,2*i],["a",i,i,0,1,1,0,-2*i],["z"]],(n=[],e.forEach(function(e,t){n.push([0===t?"M":"L",e.x,e.y])}),n)),s=a[0],c=a[a.length-1];return s?s!==c?s.segment2!==c.segment2?{point:e[o=lb(s.segment2,c.segment2)-1],bendpoint:!0,index:o}:{point:{x:ub(s.x+c.x)/2,y:ub(s.y+c.y)/2},index:s.segment2}:{point:{x:ub(s.x),y:ub(s.y)},index:s.segment2}:null}(e,t)}function fb(e,t,n,r,i){function o(e,n){return hb(e,function(e,t){var n,r=rv(t),i=e._container.getBoundingClientRect();n={x:i.left,y:i.top};var o=e.viewbox();return{x:o.x+(r.x-n.x)/o.scale,y:o.y+(r.y-n.y)/o.scale}}(t,n))}function a(e,t,r){xd.g.bind(e,t,function(e){n.triggerMouseEvent(t,e,r),e.stopPropagation()})}function s(e,n){var r=t.getLayer("overlays"),i=Object(xd.i)('.djs-bendpoints[data-element-id="'+cb()(e.id)+'"]',r);return!i&&n&&(i=Object(Ed.f)("g"),Object(Ed.b)(i,{"data-element-id":e.id}),Object(Ed.c)(i).add("djs-bendpoints"),Object(Ed.a)(r,i),a(i,"mousedown",e),a(i,"click",e),a(i,"dblclick",e)),i}function c(e,t){t.waypoints.forEach(function(t,n){var r=ob(e);Object(Ed.a)(e,r),Object(sy.c)(r,t.x,t.y)}),ob(e,"floating")}function u(e,t){for(var n,r,i=t.waypoints,o=1;o<i.length;o++)Ly(n=i[o-1],r=i[o])&&ab(e,n,r)}function l(e){var t=s(e);return t||(c(t=s(e,!0),e),u(t,e)),t}function p(e){var t=s(e);t&&(function(e){Object(_d.i)(Object(xd.j)("."+ib,e),function(e){Object(Ed.j)(e)})}(t),function(e){Object(_d.i)(Object(xd.j)("."+rb,e),function(e){Object(Ed.j)(e)})}(t),u(t,e),c(t,e))}e.on("connection.changed",function(e){p(e.element)}),e.on("connection.remove",function(e){var t=s(e.element);t&&Object(Ed.j)(t)}),e.on("element.marker.update",function(e){var t,n=e.element;n.waypoints&&(t=l(n),e.add?Object(Ed.c)(t).add(e.marker):Object(Ed.c)(t).remove(e.marker))}),e.on("element.mousemove",function(e){var t,n,r,i=e.element,a=i.waypoints;if(a){if(t=s(i,!0),!(n=Object(xd.i)(".floating",t)))return;(r=o(a,e.originalEvent))&&Object(sy.c)(n,r.point.x,r.point.y)}}),e.on("element.mousedown",function(e){var t=e.element;if(t.waypoints)return function(e,t){var n=t.waypoints,a=o(n,e);if(a)return function(e,t,n){var r,i,o,a,s,c,u=e.index,l=e.point;return!(u<=0||e.bendpoint)&&(o=zy(r=t[u-1],i=t[u]),a=Ly(r,i),s=Math.abs(l.x-o.x),c=Math.abs(l.y-o.y),a&&s<=10&&c<=10)}(a,n)?i.start(e,t,a.index):r.start(e,t,a.index,!a.bendpoint),!0}(e.originalEvent,t)}),e.on("selection.changed",function(e){var t=e.newSelection[0];t&&t.waypoints&&l(t)}),e.on("element.hover",function(e){var t=e.element;t.waypoints&&(l(t),n.registerEvent(e.gfx,"mousemove","element.mousemove"))}),e.on("element.out",function(e){n.unregisterEvent(e.gfx,"mousemove","element.mousemove")}),e.on("element.updateId",function(e){var t=e.element,n=e.newId;if(t.waypoints){var r=s(t);r&&Object(Ed.b)(r,{"data-element-id":n})}}),this.addHandles=l,this.updateHandles=p,this.getBendpointsContainer=s}fb.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var db="connect-ok",mb="connect-not-ok",yb="connect-hover",vb="djs-updating",gb="connection.updateWaypoints",bb="connection.reconnectStart",wb="connection.reconnectEnd",_b=Math.round;function xb(e,t,n,r,i,o,a){var s=e.get("connectionDocking",!1);function c(e){i.update("connection",e.connection,e.connectionGfx)}this.start=function(e,t,i,o){var a=t.waypoints,s=n.getGraphics(t);r.init(e,"bendpoint.move",{data:{connection:t,connectionGfx:s,context:{connection:t,bendpointIndex:i,insert:o,type:o||0!==i?o||i!==a.length-1?gb:wb:bb}}})},t.on("bendpoint.move.start",function(e){var t=e.context,r=t.connection,i=r.waypoints,o=i.slice(),a=t.insert,s=t.bendpointIndex;t.originalWaypoints=i,a&&o.splice(s,0,null),r.waypoints=o,t.draggerGfx=ob(n.getLayer("overlays")),Object(Ed.c)(t.draggerGfx).add("djs-dragging"),n.addMarker(r,vb)}),t.on("bendpoint.move.hover",function(e){var t=e.context;if(t.hover=e.hover,e.hover){n.addMarker(e.hover,yb);var r=t.allowed=o.allowed(t.type,t);r?(n.removeMarker(t.hover,mb),n.addMarker(t.hover,db),t.target=t.hover):!1===r&&(n.removeMarker(t.hover,db),n.addMarker(t.hover,mb),t.target=null)}}),t.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(e){var t=e.context.hover;t&&(n.removeMarker(t,yb),n.removeMarker(t,e.context.target?db:mb))}),t.on("bendpoint.move.move",function(e){var t,n,r=e.context,i=r.type,o=e.connection;o.waypoints[r.bendpointIndex]={x:e.x,y:e.y},s&&(r.hover&&(i===bb&&(t=r.hover),i===wb&&(n=r.hover)),o.waypoints=s.getCroppedWaypoints(o,t,n)),Object(sy.c)(r.draggerGfx,e.x,e.y),c(e)}),t.on(["bendpoint.move.end","bendpoint.move.cancel"],function(e){var t=e.context,r=t.hover,i=t.connection;Object(Ed.j)(t.draggerGfx),t.newWaypoints=i.waypoints.slice(),i.waypoints=t.originalWaypoints,n.removeMarker(i,vb),r&&(n.removeMarker(r,db),n.removeMarker(r,mb))}),t.on("bendpoint.move.end",function(e){var t,n=e.context,r=n.newWaypoints,i=n.bendpointIndex,o=r[i],s=n.allowed;if(o.x=_b(o.x),o.y=_b(o.y),s&&n.type===bb)a.reconnectStart(n.connection,n.target,o);else if(s&&n.type===wb)a.reconnectEnd(n.connection,n.target,o);else{if(!1===s||n.type!==gb)return c(e),!1;t={bendpointMove:{insert:e.context.insert,bendpointIndex:i}},a.updateWaypoints(n.connection,function(e){e=e.slice();for(var t,n,r,i=0;e[i];)n=e[i-1],0===Ny(t=e[i],r=e[i+1])||Iy(n,r,t)?e.splice(i,1):i++;return e}(r),t)}}),t.on("bendpoint.move.cancel",function(e){c(e)})}xb.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","rules","modeling"];var Eb="connect-hover",Ob="djs-updating";function jb(e,t,n){return Sb(e,t,e[t]+n)}function Sb(e,t,n){return{x:"x"===t?n:e.x,y:"y"===t?n:e.y}}function Cb(e){return"x"===e?"y":"x"}function kb(e,t,n){var r,i;return e.original?e.original:(r=qy(t),Sb(e,i=Cb(n),r[i]))}function Tb(e,t,n,r,i,o,a){var s=e.get("connectionDocking",!1);function c(e,t){if(!s)return t;var n,r=e.waypoints;return e.waypoints=t,n=s.getCroppedWaypoints(e),e.waypoints=r,n}function u(e){i.update("connection",e.connection,e.connectionGfx)}this.start=function(e,t,i){var o,a,s=n.getGraphics(t),c=i-1,u=i,l=t.waypoints,p=l[c],h=l[u];(o=Ly(p,h))&&(a="v"===o?"y":"x",0===c&&(p=kb(p,t.source,a)),u===l.length-1&&(h=kb(h,t.target,a)),r.init(e,{x:(p.x+h.x)/2,y:(p.y+h.y)/2},"connectionSegment.move",{cursor:"x"===a?"resize-ew":"resize-ns",data:{connection:t,connectionGfx:s,context:{connection:t,segmentStartIndex:c,segmentEndIndex:u,segmentStart:p,segmentEnd:h,axis:a}}}))},t.on("connectionSegment.move.start",function(e){var t=e.context,r=e.connection,i=n.getLayer("overlays");t.originalWaypoints=r.waypoints.slice(),t.draggerGfx=ab(i,t.segmentStart,t.segmentEnd),Object(Ed.c)(t.draggerGfx).add("djs-dragging"),n.addMarker(r,Ob)}),t.on("connectionSegment.move.move",function(e){var t,n,r=e.context,i=r.connection,o=r.segmentStartIndex,a=r.segmentEndIndex,s=r.segmentStart,l=r.segmentEnd,p=r.axis,h=r.originalWaypoints.slice(),f=jb(s,p,e["d"+p]),d=jb(l,p,e["d"+p]),m=h.length,y=0;h[o]=f,h[a]=d,o<2&&(t=Ky(i.source,f),1===o?"intersect"===t&&(h.shift(),h[0]=f,y--):"intersect"!==t&&(h.unshift(s),y++)),a>m-3&&(n=Ky(i.target,d),a===m-2?"intersect"===n&&(h.pop(),h[h.length-1]=d):"intersect"!==n&&h.push(l)),r.newWaypoints=i.waypoints=c(i,h),function(t,n,r){var i,o,a,s,c,u,l=t.newWaypoints,p=(i=e,o=l[t.segmentStartIndex+n],a=l[t.segmentEndIndex+n],s=Cb(t.axis),c=Math.max(o[s],a[s]),u=Math.min(o[s],a[s]),Sb(o,s,Math.min(Math.max(u+20,i[s]),c-20)));Object(sy.c)(t.draggerGfx,p.x,p.y)}(r,y),r.newSegmentStartIndex=o+y,u(e)}),t.on("connectionSegment.move.hover",function(e){e.context.hover=e.hover,n.addMarker(e.hover,Eb)}),t.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(e){var t=e.context.hover;t&&n.removeMarker(t,Eb)}),t.on("connectionSegment.move.cleanup",function(e){var t=e.context,r=t.connection;t.draggerGfx&&Object(Ed.j)(t.draggerGfx),n.removeMarker(r,Ob)}),t.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(e){var t=e.context;t.connection.waypoints=t.originalWaypoints,u(e)}),t.on("connectionSegment.move.end",function(e){var t=e.context,n=t.connection,r=t.newWaypoints,i=t.newSegmentStartIndex,o=function(e,t){var n=0;return{waypoints:e.filter(function(r,i){return!Iy(e[i-1],e[i+1],r)||(n=i<=t?n-1:n,!1)}),segmentOffset:n}}(r=r.map(function(e){return{original:e.original,x:Math.round(e.x),y:Math.round(e.y)}}),i),s=c(n,o.waypoints);a.updateWaypoints(n,s,{segmentMove:{segmentStartIndex:t.segmentStartIndex,newSegmentStartIndex:i+o.segmentOffset}})})}Tb.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","rules","modeling"];var Ab=Math.abs,Rb=Math.round,Pb=10;function Mb(e){function t(e,t){if(Object(_d.l)(e)){for(var n=e.length;n--;)if(Ab(e[n]-t)<=Pb)return e[n]}else{var r=t%(e=+e);if(r<Pb)return t-r;if(r>e-Pb)return t-r+e}return t}function n(e){if(e.width)return{x:Rb(e.width/2+e.x),y:Rb(e.height/2+e.y)}}e.on("connectionSegment.move.move",1500,function(e){var r,i,o=function(e){var t=e.snapPoints,r=e.connection,i=r.waypoints,o=e.segmentStartIndex,a=e.segmentEndIndex,s=e.axis;if(t)return t;var c=[i[o-1],e.segmentStart,e.segmentEnd,i[a+1]];return o<2&&c.unshift(n(r.source)),a>i.length-3&&c.unshift(n(r.target)),e.snapPoints=t={horizontal:[],vertical:[]},Object(_d.i)(c,function(e){e&&(e=e.original||e,"y"===s&&t.horizontal.push(e.y),"x"===s&&t.vertical.push(e.x))}),t}(e.context),a=e.x,s=e.y;if(o){var c=a-(r=t(o.vertical,a)),u=s-(i=t(o.horizontal,s));Object(_d.a)(e,{dx:e.dx-c,dy:e.dy-u,x:r,y:i})}}),e.on("bendpoint.move.move",1500,function(e){var r=e.context,i=function(e){var t=e.snapPoints,n=e.connection.waypoints,r=e.bendpointIndex;if(t)return t;var i=[n[r-1],n[r+1]];return e.snapPoints=t={horizontal:[],vertical:[]},Object(_d.i)(i,function(e){e&&(t.horizontal.push((e=e.original||e).y),t.vertical.push(e.x))}),t}(r),o=r.target,a=o&&n(o),s=e.x,c=e.y;if(i){var u=s-t(a?i.vertical.concat([a.x]):i.vertical,s),l=c-t(a?i.horizontal.concat([a.y]):i.horizontal,c);Object(_d.a)(e,{dx:e.dx-u,dy:e.dy-l,x:e.x-u,y:e.y-l})}})}Mb.$inject=["eventBus"];var Db={__depends__:[Xg,nb],__init__:["bendpoints","bendpointSnapping"],bendpoints:["type",fb],bendpointMove:["type",xb],connectionSegmentMove:["type",Tb],bendpointSnapping:["type",Mb]},Nb=Math.min,Ib=Math.max;function Bb(e){e.preventDefault()}function Lb(e){e.stopPropagation()}function Fb(e){this.container=e.container,this.parent=Object(xd.f)('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=Object(xd.i)("[contenteditable]",this.parent),this.keyHandler=e.keyHandler||function(){},this.resizeHandler=e.resizeHandler||function(){},this.autoResize=Object(_d.b)(this.autoResize,this),this.handlePaste=Object(_d.b)(this.handlePaste,this)}function zb(e,t){this._eventBus=e,this._providers=[],this._textbox=new Fb({container:t.getContainer(),keyHandler:Object(_d.b)(this._handleKey,this),resizeHandler:Object(_d.b)(this._handleResize,this)})}Fb.prototype.create=function(e,t,n,r){var i=this.parent,o=this.content,a=this.container;r=this.options=r||{},t=this.style=t||{};var s=Object(_d.w)(t,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);Object(_d.a)(i.style,{width:e.width+"px",height:e.height+"px",maxWidth:e.maxWidth+"px",maxHeight:e.maxHeight+"px",minWidth:e.minWidth+"px",minHeight:e.minHeight+"px",left:e.x+"px",top:e.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},s);var c=Object(_d.w)(t,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return Object(_d.a)(o.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},c),r.centerVertically&&Object(_d.a)(o.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},c),o.innerText=n,xd.g.bind(o,"keydown",this.keyHandler),xd.g.bind(o,"mousedown",Lb),xd.g.bind(o,"paste",this.handlePaste),r.autoResize&&xd.g.bind(o,"input",this.autoResize),r.resizable&&this.resizable(t),a.appendChild(i),this.setSelection(o.lastChild,o.lastChild&&o.lastChild.length),i},Fb.prototype.handlePaste=function(e){var t,n=this,r=this.options,i=this.style;if(e.preventDefault(),t=e.clipboardData?e.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),!document.execCommand("insertHTML",!1,t)){var o,a,s=this.getSelection(),c=s.startContainer,u=s.endContainer,l=s.startOffset,p=s.endOffset,h=s.commonAncestorContainer,f=[].slice.call(h.childNodes);if(h.nodeType===Node.TEXT_NODE){var d=c.textContent;c.textContent=d.substring(0,l)+t+d.substring(p),o=c,a=l+t.length}else if(c===this.content&&u===this.content){var m=document.createTextNode(t);this.content.insertBefore(m,f[l]),o=m,a=m.textContent.length}else{var y=f.indexOf(c),v=f.indexOf(u);f.forEach(function(e,n){n===y?e.textContent=c.textContent.substring(0,l)+t+u.textContent.substring(p):n>y&&n<=v&&Object(xd.k)(e)}),o=c,a=l+t.length}o&&void 0!==a&&setTimeout(function(){n.setSelection(o,a)})}if(r.autoResize){var g=this.autoResize(i);g&&this.resizeHandler(g)}},Fb.prototype.autoResize=function(){var e=this.parent,t=this.content,n=parseInt(this.style.fontSize)||12;if(t.scrollHeight>e.offsetHeight||t.scrollHeight<e.offsetHeight-n){var r=e.getBoundingClientRect(),i=t.scrollHeight;e.style.height=i+"px",this.resizeHandler({width:r.width,height:r.height,dx:0,dy:i-r.height})}},Fb.prototype.resizable=function(){var e=this,t=this.parent,n=this.resizeHandle,r=parseInt(this.style.minWidth)||0,i=parseInt(this.style.minHeight)||0,o=parseInt(this.style.maxWidth)||1/0,a=parseInt(this.style.maxHeight)||1/0;if(!n){var s,c,u,l;n=this.resizeHandle=Object(xd.f)('<div class="djs-direct-editing-resize-handle"></div>');var p=function(n){Bb(n),Lb(n);var p=Nb(Ib(u+n.clientX-s,r),o),h=Nb(Ib(l+n.clientY-c,i),a);t.style.width=p+"px",t.style.height=h+"px",e.resizeHandler({width:u,height:l,dx:n.clientX-s,dy:n.clientY-c})},h=function(e){Bb(e),Lb(e),xd.g.unbind(document,"mousemove",p,!1),xd.g.unbind(document,"mouseup",h,!1)};xd.g.bind(n,"mousedown",function(e){Bb(e),Lb(e),s=e.clientX,c=e.clientY;var n=t.getBoundingClientRect();u=n.width,l=n.height,xd.g.bind(document,"mousemove",p),xd.g.bind(document,"mouseup",h)})}Object(_d.a)(n.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),t.appendChild(n)},Fb.prototype.destroy=function(){var e=this.parent,t=this.content,n=this.resizeHandle;t.innerText="",e.removeAttribute("style"),t.removeAttribute("style"),xd.g.unbind(t,"keydown",this.keyHandler),xd.g.unbind(t,"mousedown",Lb),xd.g.unbind(t,"input",this.autoResize),xd.g.unbind(t,"paste",this.handlePaste),n&&(n.removeAttribute("style"),Object(xd.k)(n)),Object(xd.k)(e)},Fb.prototype.getValue=function(){return this.content.innerText},Fb.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},Fb.prototype.setSelection=function(e,t){var n=document.createRange();null===e?n.selectNodeContents(this.content):(n.setStart(e,t),n.setEnd(e,t));var r=window.getSelection();r.removeAllRanges(),r.addRange(n)},zb.$inject=["eventBus","canvas"],zb.prototype.registerProvider=function(e){this._providers.push(e)},zb.prototype.isActive=function(){return!!this._active},zb.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},zb.prototype._fire=function(e,t){this._eventBus.fire("directEditing."+e,t||{active:this._active})},zb.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},zb.prototype.complete=function(){var e=this._active;if(e){var t=this.getValue(),n=this.$textbox.getBoundingClientRect();(t!==e.context.text||this.resizable)&&e.provider.update(e.element,t,e.context.text,{x:n.top,y:n.left,width:n.width,height:n.height}),this._fire("complete"),this.close()}},zb.prototype.getValue=function(){return this._textbox.getValue()},zb.prototype._handleKey=function(e){e.stopPropagation();var t=e.keyCode||e.charCode;return 27===t?(e.preventDefault(),this.cancel()):13!==t||e.shiftKey?void 0:(e.preventDefault(),this.complete())},zb.prototype._handleResize=function(e){this._fire("resize",e)},zb.prototype.activate=function(e){var t;this.isActive()&&this.cancel();var n=Object(_d.f)(this._providers,function(n){return(t=n.activate(e))?n:null});return t&&(this.$textbox=this._textbox.create(t.bounds,t.style,t.text,t.options),this._active={element:e,context:t,provider:n},t.options&&t.options.resizable&&(this.resizable=!0),this._fire("activate")),!!t};var Vb={__depends__:[uv],__init__:["directEditing"],directEditing:["type",zb]};function Ub(e,t,n){this._providers=[],this._eventBus=t,this._overlays=n;var r=Object(_d.m)(e&&e.scale)?e.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:r},this._current=null,this._init()}Ub.$inject=["config.contextPad","eventBus","overlays"],Ub.prototype._init=function(){var e=this._eventBus,t=this;e.on("selection.changed",function(e){var n=e.newSelection;1===n.length?t.open(n[0]):t.close()}),e.on("elements.delete",function(e){var n=e.elements;Object(_d.i)(n,function(e){t.isOpen(e)&&t.close()})}),e.on("element.changed",function(e){var n=e.element,r=t._current;r&&r.element===n&&t.open(n,!0)})},Ub.prototype.registerProvider=function(e){this._providers.push(e)},Ub.prototype.getEntries=function(e){var t={};return Object(_d.i)(this._providers,function(n){var r=n.getContextPadEntries(e);Object(_d.i)(r,function(e,n){t[n]=e})}),t},Ub.prototype.trigger=function(e,t,n){var r,i,o=this._current.element,a=this._current.entries,s=t.delegateTarget||t.target;if(!s)return t.preventDefault();if(r=a[Object(xd.a)(s,"data-action")].action,i=t.originalEvent||t,Object(_d.n)(r)){if("click"===e)return r(i,o,n)}else if(r[e])return r[e](i,o,n);t.preventDefault()},Ub.prototype.open=function(e,t){!t&&this.isOpen(e)||(this.close(),this._updateAndOpen(e))},Ub.prototype._updateAndOpen=function(e){var t=this.getEntries(e),n=this.getPad(e),r=n.html;Object(_d.i)(t,function(e,t){var n,i,o,a,s=e.group||"default",c=Object(xd.f)(e.html||'<div class="entry" draggable="true"></div>');Object(xd.a)(c,"data-action",t),(n=Object(xd.i)("[data-group="+s+"]",r))||(n=Object(xd.f)('<div class="group" data-group="'+s+'"></div>'),r.appendChild(n)),n.appendChild(c),e.className&&(i=c,o=e.className,a=Object(xd.b)(i),(Object(_d.l)(o)?o:o.split(/\s+/g)).forEach(function(e){a.add(e)})),e.title&&Object(xd.a)(c,"title",e.title),e.imageUrl&&c.appendChild(Object(xd.f)('<img src="'+e.imageUrl+'">'))}),Object(xd.b)(r).add("open"),this._current={element:e,pad:n,entries:t},this._eventBus.fire("contextPad.open",{current:this._current})},Ub.prototype.getPad=function(e){if(this.isOpen())return this._current.pad;var t=this,n=this._overlays,r=Object(xd.f)('<div class="djs-context-pad"></div>'),i=Object(_d.a)({html:r},this._overlaysConfig);xd.e.bind(r,".entry","click",function(e){t.trigger("click",e)}),xd.e.bind(r,".entry","dragstart",function(e){t.trigger("dragstart",e)}),xd.g.bind(r,"mousedown",function(e){e.stopPropagation()}),this._overlayId=n.add(e,"context-pad",i);var o=n.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:e,pad:o}),o},Ub.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},Ub.prototype.isOpen=function(e){return!(!this._current||e&&this._current.element!==e)};var Hb={__depends__:[uv,Sv],contextPad:["type",Ub]},$b="connect-ok",Wb="connect-not-ok";function Gb(e,t,n,r,i,o){function a(e,t){return r.allowed("connection.create",{source:e,target:t})}e.on("connect.move",function(e){var t,n=e.context,r=n.visual;t=function(e,t,r,i){var a=o.getShapePath(n.source),s=i&&o.getShapePath(i),c=o.getConnectionPath({waypoints:[e,t]});return[e=Zy(a,c,!0)||e,t=i&&Zy(s,c,!1)||t]}(n.sourcePosition,{x:e.x,y:e.y},0,n.target),Object(Ed.b)(r,{points:[t[0].x,t[0].y,t[1].x,t[1].y]})}),e.on("connect.hover",function(e){var t,n=e.context,r=e.hover;null!==(t=n.canExecute=a(n.source,r))&&(n.target=r,i.addMarker(r,t?$b:Wb))}),e.on(["connect.out","connect.cleanup"],function(e){var t=e.context;t.target&&i.removeMarker(t.target,t.canExecute?$b:Wb),t.target=null,t.canExecute=!1}),e.on("connect.cleanup",function(e){var t=e.context;t.visual&&Object(Ed.j)(t.visual)}),e.on("connect.start",function(e){var t,n=e.context;t=Object(Ed.f)("polyline"),Object(Ed.b)(t,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),Object(Ed.a)(i.getDefaultLayer(),t),n.visual=t}),e.on("connect.end",function(e){var t=e.context,r=t.source,i=t.sourcePosition,o=t.target,s={x:e.x,y:e.y},c=t.canExecute||a(r,o);if(!c)return!1;var u=null;"object"==typeof c&&(u=c),n.connect(r,o,u,{connectionStart:i,connectionEnd:s})}),this.start=function(e,n,r,i){"object"!=typeof r&&(i=r,r=qy(n)),t.init(e,"connect",{autoActivate:i,data:{shape:n,context:{source:n,sourcePosition:r}}})}}Gb.$inject=["eventBus","dragging","modeling","rules","canvas","graphicsFactory"];var qb={__depends__:[bv,nb,Xg],connect:["type",Gb]},Kb=750,Zb="drop-ok",Xb="drop-not-ok",Yb="attach-ok",Qb="new-parent";function Jb(e,t,n,r,i,o,a){function s(e,t){[Yb,Zb,Xb,Qb].forEach(function(n){n===t?i.addMarker(e,n):i.removeMarker(e,n)})}e.on("create.move",function(e){var t,r=e.context,i=e.hover;t=r.canExecute=i&&function(t,r,i,o){if(!r)return!1;var a,s,c,u={source:i,shape:t,target:r,position:{x:e.x,y:e.y}};return(s=n.allowed("shape.attach",u))||(a=n.allowed("shape.create",u)),(a||s)&&(c=i&&n.allowed("connection.create",{source:i,target:t,hints:{targetParent:r,targetAttach:s}})),!(!a&&!s)&&{attach:s,connect:c}}(r.shape,i,r.source),i&&null!==t&&(r.target=i,s(i,t&&t.attach?Yb:t?Qb:Xb))}),e.on("create.move",Kb,function(e){var t=e.context,n=t.visual;n||(n=t.visual=function(e){var t,n;t=Object(Ed.f)("g"),Object(Ed.b)(t,o.cls("djs-drag-group",["no-events"])),Object(Ed.a)(i.getDefaultLayer(),t),n=Object(Ed.f)("g"),Object(Ed.c)(n).add("djs-dragger"),Object(Ed.a)(t,n),Object(sy.c)(n,e.width/-2,e.height/-2);var r=Object(Ed.f)("g");return Object(Ed.c)(r).add("djs-visual"),Object(Ed.a)(n,r),a.drawShape(r,e),t}(t.shape)),Object(sy.c)(n,e.x,e.y)}),e.on(["create.end","create.out","create.cleanup"],function(e){var t=e.context.target;t&&s(t,null)}),e.on("create.end",function(e){var t=e.context,n=t.shape,i=t.target,o=t.canExecute,a=o&&o.attach,s=o&&o.connect,c={x:e.x,y:e.y};if(!o)return!1;n=s?r.appendShape(t.source,n,c,i,{attach:a,connection:!0===s?{}:s}):r.createShape(n,c,i,{attach:a}),t.shape=n}),e.on("create.cleanup",function(e){var t=e.context;t.visual&&Object(Ed.j)(t.visual)}),this.start=function(e,n,r){t.init(e,"create",{cursor:"grabbing",autoActivate:!0,data:{shape:n,context:{shape:n,source:r}}})}}Jb.$inject=["eventBus","dragging","rules","modeling","canvas","styles","graphicsFactory"];var ew={__depends__:[Xg,bv,nb],create:["type",Jb]};function tw(e,t,n){var r=Object(_d.m)(e&&e.scale)?e.scale:{min:1,max:1.5};this._config={scale:r},this._eventBus=t,this._canvas=n,this._providers={},this._current={}}tw.$inject=["config.popupMenu","eventBus","canvas"],tw.prototype.registerProvider=function(e,t){this._providers[e]=t},tw.prototype.isEmpty=function(e,t){if(!e)throw new Error("element parameter is missing");if(!t)throw new Error("providerId parameter is missing");var n=this._providers[t],r=n.getEntries(e),i=n.getHeaderEntries&&n.getHeaderEntries(e);return!(r.length>0||i&&i.length>0)},tw.prototype.open=function(e,t,n){var r=this._providers[t];if(!e)throw new Error("Element is missing");if(!r)throw new Error("Provider is not registered: "+t);if(!n)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var i=this._current={provider:r,className:t,element:e,position:n};r.getHeaderEntries&&(i.headerEntries=r.getHeaderEntries(e)),i.entries=r.getEntries(e),i.container=this._createContainer();var o=i.entries||[];(i.headerEntries||[]).length&&i.container.appendChild(this._createEntries(i.headerEntries,"djs-popup-header")),o.length&&i.container.appendChild(this._createEntries(i.entries,"djs-popup-body"));var a=this._canvas.getContainer();this._attachContainer(i.container,a,n.cursor)},tw.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindHandlers(),Object(xd.k)(this._current.container),this._current.container=null)},tw.prototype.isOpen=function(){return!!this._current.container},tw.prototype.trigger=function(e){e.preventDefault();var t=e.delegateTarget||e.target,n=Object(xd.a)(t,"data-id"),r=this._getEntry(n);if(r.action)return r.action.call(null,e,r)},tw.prototype._getEntry=function(e){var t=Object(_d.u)({id:e}),n=Object(_d.f)(this._current.entries,t)||Object(_d.f)(this._current.headerEntries,t);if(!n)throw new Error("entry not found");return n},tw.prototype._emit=function(e){this._eventBus.fire("popupMenu."+e)},tw.prototype._createContainer=function(){var e=Object(xd.f)('<div class="djs-popup">'),t=this._current.position,n=this._current.className;return Object(_d.a)(e.style,{position:"absolute",left:t.x+"px",top:t.y+"px",visibility:"hidden"}),Object(xd.b)(e).add(n),e},tw.prototype._attachContainer=function(e,t,n){var r=this;xd.e.bind(e,".entry","click",function(e){r.trigger(e)}),this._updateScale(e),t.appendChild(e),n&&this._assureIsInbounds(e,n),this._bindHandlers()},tw.prototype._updateScale=function(e){var t,n,r,i,o=this._canvas.zoom(),a=this._config.scale,s=o;!0!==a&&(!1===a?(t=1,n=1):(t=a.min,n=a.max),Object(_d.m)(t)&&o<t&&(s=t),Object(_d.m)(n)&&o>n&&(s=n)),i="scale("+s+")",(r=e).style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(e){r.style[e+"transform"]=i})},tw.prototype._assureIsInbounds=function(e,t){var n,r,i=this._canvas._container.getBoundingClientRect(),o=e.offsetTop,a=e.scrollWidth,s=e.scrollHeight,c={},u=t.x-i.left,l=t.y-i.top;e.offsetLeft+a>i.width&&(c.x=!0),o+s>i.height&&(c.y=!0),c.x&&c.y?(n=u-a+"px",r=l-s+"px"):c.x?(n=u-a+"px",r=l+"px"):c.y&&l<s?(n=u+"px",r="10px"):c.y&&(n=u+"px",r=l-s+"px"),Object(_d.a)(e.style,{left:n,top:r},{visibility:"visible","z-index":1e3})},tw.prototype._createEntries=function(e,t){var n=Object(xd.f)("<div>"),r=this;return Object(xd.b)(n).add(t),Object(_d.i)(e,function(e){var t=r._createEntry(e,n);n.appendChild(t)}),n},tw.prototype._createEntry=function(e){if(!e.id)throw new Error("every entry must have the id property set");var t=Object(xd.f)("<div>"),n=Object(xd.b)(t);if(n.add("entry"),e.className&&e.className.split(" ").forEach(function(e){n.add(e)}),Object(xd.a)(t,"data-id",e.id),e.label){var r=Object(xd.f)("<span>");r.textContent=e.label,t.appendChild(r)}return e.imageUrl&&t.appendChild(Object(xd.f)('<img src="'+e.imageUrl+'" />')),!0===e.active&&n.add("active"),!0===e.disabled&&n.add("disabled"),e.title&&(t.title=e.title),t},tw.prototype._bindHandlers=function(){var e=this._eventBus,t=this;function n(){t.close()}e.once("contextPad.close",n),e.once("canvas.viewbox.changing",n),e.once("commandStack.changed",n)},tw.prototype._unbindHandlers=function(){var e=this._eventBus,t=this;function n(){t.close()}e.off("contextPad.close",n),e.off("canvas.viewbox.changed",n),e.off("commandStack.changed",n)};var nw={__init__:["popupMenu"],popupMenu:["type",tw]},rw=Math.round;function iw(e){this._modeling=e}iw.$inject=["modeling"],iw.prototype.replaceElement=function(e,t,n){var r=this._modeling,i=null;return e.waypoints||(t.x=rw(e.x+(t.width||e.width)/2),t.y=rw(e.y+(t.height||e.height)/2),i=r.replaceShape(e,t,n)),i};var ow={__init__:["replace"],replace:["type",iw]},aw=["lanes","incoming","outgoing","artifacts","default","flowElements","dataInputAssociations","dataOutputAssociations"];function sw(e,t){var n=[];return Object(_d.i)(e.properties,function(e){t&&e.default||n.push(e.ns.name)}),n}function cw(e,t){this._eventBus=e,this._bpmnFactory=t}cw.prototype.clone=function(e,t,n){var r=this,i={newElement:t,hasNestedProperty:!1};return n=Object(_d.A)(n,function(e){return"bpmn:extensionElements"===e}),Object(_d.i)(n,function(n){var o,a,s,c,u=e.get(n),l=t.get(n),p=t.$model.getPropertyDescriptor(t,n);l!==u&&(p&&(p.isId||p.isReference)||(s=u,c=["boolean","string","number"],Object(_d.z)(c,function(e){return typeof s===e})||null===u?t.set(n,u):Object(_d.l)(u)?Object(_d.i)(u,function(e){var n;i.refTopLevelProperty=e,n=r._deepClone(e,i),i.hasNestedProperty&&(n.$parent=t,l.push(n)),i.hasNestedProperty=!1}):(a=n.replace(/bpmn:/,""),i.refTopLevelProperty=u,o=r._deepClone(u,i),i.hasNestedProperty&&(o.$parent=t,t.set(a,o)),i.hasNestedProperty=!1)))}),t},cw.prototype._deepClone=function(e,t){var n=this,r=this._eventBus,i=this._bpmnFactory.create(e.$type),o=Object(_d.e)(Object.keys(e),function(e){var t=i.$model.getPropertyDescriptor(i,e);return(!t||!t.isId&&!t.isReference)&&-1===aw.indexOf(e)&&"$type"!==e});return o.length||(t.hasNestedProperty=!0),Object(_d.i)(o,function(o){void 0!==e[o]&&(e[o].$type||Object(_d.l)(e[o]))?Object(_d.l)(e[o])?(i[o]=[],Object(_d.i)(e[o],function(a){var s,c=e.$model.getTypeDescriptor(a.$type);if(c){if(!r.fire("property.clone",{newElement:t.newElement,refTopLevelProperty:t.refTopLevelProperty,propertyDescriptor:c})&&"bpmn:ExtensionElements"===e.$type&&c.meta&&c.meta.allowedIn&&!function(e,n){var r=e.meta.allowedIn;return 1===r.length&&"*"===r[0]||-1!==r.indexOf(t.newElement.$type)}(c))return!1;(s=n._deepClone(a,t)).$parent=i,i[o]||(i[o]=[]),t.hasNestedProperty=!0,i[o].push(s)}})):e[o].$type&&(i[o]=n._deepClone(e[o],t),i[o]&&(t.hasNestedProperty=!0,i[o].$parent=i)):(t.hasNestedProperty=!0,i[o]=e[o])}),i};var uw=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function lw(e,t,n,r,i){var o=new cw(i,e);this.replaceElement=function(i,a,s){s=s||{};var c=a.type,u=i.businessObject;if(pw(u)&&"bpmn:SubProcess"===c&&function(e,t){var n=e&&Object(_d.k)(e,"collapsed")?e.collapsed:!Qm(e);return n!==(t&&(Object(_d.k)(t,"collapsed")||Object(_d.k)(t,"isExpanded"))?Object(_d.k)(t,"collapsed")?t.collapsed:!t.isExpanded:n)&&(e.collapsed=n,!0)}(i,a))return r.toggleCollapse(i),i;var l,p=e.create(c),h={type:c,businessObject:p},f=sw(u.$descriptor),d=sw(p.$descriptor,!0),m=(l=d,f.filter(function(e){return-1!==l.indexOf(e)}));Object(_d.a)(p,Object(_d.w)(a,uw));var y=Object(_d.e)(m,function(e){var t=e.replace(/bpmn:/,"");return"eventDefinitions"===t?hw(i,a.eventDefinitionType):"loopCharacteristics"===t?!Jm(p):!(e in p||"processRef"===t&&!1===a.isExpanded||"triggeredByEvent"===t||-1!==aw.indexOf(t))});return p=o.clone(u,p,y),a.eventDefinitionType&&(hw(p,a.eventDefinitionType)||(h.eventDefinitionType=a.eventDefinitionType)),Xm(u,"bpmn:Activity")&&(pw(u)?h.isExpanded=Qm(u):a&&Object(_d.k)(a,"isExpanded")&&(h.isExpanded=a.isExpanded),Qm(u)&&!Xm(u,"bpmn:Task")&&h.isExpanded&&(h.width=i.width,h.height=i.height)),pw(u)&&!pw(p)&&(s.moveChildren=!1),Xm(u,"bpmn:Participant")&&(!0===a.isExpanded?p.processRef=e.create("bpmn:Process"):s.moveChildren=!1,h.width=i.width,h.height=i.height),p.name=u.name,jg(u,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&jg(p,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(p.default=u.default),("fill"in u.di||"stroke"in u.di)&&Object(_d.a)(h,{colors:Object(_d.w)(u.di,["fill","stroke"])}),h=t.replaceElement(i,h,s),!1!==s.select&&n.select(h),h}}function pw(e){return Xm(e,"bpmn:SubProcess")}function hw(e,t){var n=Ym(e);return t&&n.get("eventDefinitions").some(function(e){return Xm(e,t)})}lw.$inject=["bpmnFactory","replace","selection","modeling","eventBus"];var fw={__depends__:[bv,ow],bpmnReplace:["type",lw]};function dw(e){return function(t){var n=t.target,r=Ym(e),i=r.eventDefinitions&&r.eventDefinitions[0],o=r.$type===n.type,a=(i&&i.$type)===n.eventDefinitionType,s=r.triggeredByEvent===n.triggeredByEvent,c=void 0===n.isExpanded||n.isExpanded===Qm(r);return!(o&&a&&s&&c)}}var mw=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],yw=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Intermediate Catch Event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message Intermediate Throw Event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Intermediate Catch Event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Intermediate Throw Event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Intermediate Catch Event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link Intermediate Catch Event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition"}},{label:"Link Intermediate Throw Event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition"}},{label:"Compensation Intermediate Throw Event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal Intermediate Catch Event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal Intermediate Throw Event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],vw=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message End Event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation End Event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error End Event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel End Event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation End Event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal End Event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate End Event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],gw=[{label:"Exclusive Gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel Gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive Gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex Gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event based Gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],bw=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],ww=[{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],_w=[{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}}],xw=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"Send Task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive Task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"User Task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Manual Task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business Rule Task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Service Task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Script Task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call Activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub Process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],Ew=[{label:"Message Boundary Event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Boundary Event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Boundary Event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Boundary Event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error Boundary Event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel Boundary Event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal Boundary Event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation Boundary Event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],Ow=[{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Error Start Event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Escalation Start Event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Compensation Start Event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],jw=[{label:"Sequence Flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default Flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional Flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],Sw=[{label:"Expanded Pool",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:"Collapsed Pool",actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}];function Cw(e,t,n,r,i,o){this._popupMenu=e,this._modeling=t,this._moddle=n,this._bpmnReplace=r,this._rules=i,this._translate=o,this.register()}Cw.$inject=["popupMenu","modeling","moddle","bpmnReplace","rules","translate"],Cw.prototype.register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},Cw.prototype.getEntries=function(e){var t,n=e.businessObject;if(!this._rules.allowed("shape.replace",{element:e}))return[];var r=dw(e);return Xm(n,"bpmn:StartEvent")&&!Jm(n.$parent)?(t=Object(_d.e)(mw,r),this._createEntries(e,t)):Xm(n,"bpmn:Participant")?(t=Object(_d.e)(Sw,function(e){return Qm(n)!==e.target.isExpanded}),this._createEntries(e,t)):Xm(n,"bpmn:StartEvent")&&Jm(n.$parent)?(t=Object(_d.e)(Ow,function(t){var n=!1!==t.target.isInterrupting,i=Ym(e).isInterrupting===n;return r(t)||!r(t)&&!i}),this._createEntries(e,t)):Xm(n,"bpmn:EndEvent")?(t=Object(_d.e)(vw,function(e){return!("bpmn:CancelEventDefinition"==e.target.eventDefinitionType&&!Xm(n.$parent,"bpmn:Transaction"))&&r(e)}),this._createEntries(e,t)):Xm(n,"bpmn:BoundaryEvent")?(t=Object(_d.e)(Ew,function(e){var t=e.target;if("bpmn:CancelEventDefinition"==t.eventDefinition&&!Xm(n.attachedToRef,"bpmn:Transaction"))return!1;var i=n.cancelActivity==(!1!==t.cancelActivity);return r(e)||!r(e)&&!i}),this._createEntries(e,t)):Xm(n,"bpmn:IntermediateCatchEvent")||Xm(n,"bpmn:IntermediateThrowEvent")?(t=Object(_d.e)(yw,r),this._createEntries(e,t)):Xm(n,"bpmn:Gateway")?(t=Object(_d.e)(gw,r),this._createEntries(e,t)):Xm(n,"bpmn:Transaction")?(t=Object(_d.e)(ww,r),this._createEntries(e,t)):Jm(n)&&Qm(n)?(t=Object(_d.e)(_w,r),this._createEntries(e,t)):Xm(n,"bpmn:SubProcess")&&Qm(n)?(t=Object(_d.e)(bw,r),this._createEntries(e,t)):Xm(n,"bpmn:AdHocSubProcess")&&!Qm(n)?(t=Object(_d.e)(xw,function(t){var n=t.target,r="bpmn:SubProcess"===n.type,i=!0===n.isExpanded;return dw(e)&&(!r||i)}),this._createEntries(e,t)):Xm(n,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(e,jw):Xm(n,"bpmn:FlowNode")?(t=Object(_d.e)(xw,r),Xm(n,"bpmn:SubProcess")&&!Qm(n)&&(t=Object(_d.e)(t,function(e){return"Sub Process (collapsed)"!==e.label})),this._createEntries(e,t)):[]},Cw.prototype.getHeaderEntries=function(e){var t=[];return Xm(e,"bpmn:Activity")&&!Jm(e)&&(t=t.concat(this._getLoopEntries(e))),!Xm(e,"bpmn:SubProcess")||Xm(e,"bpmn:Transaction")||Jm(e)||t.push(this._getAdHocEntry(e)),t},Cw.prototype._createEntries=function(e,t){var n=[],r=this;return Object(_d.i)(t,function(t){var i=r._createMenuEntry(t,e);n.push(i)}),n},Cw.prototype._createSequenceFlowEntries=function(e,t){var n=Ym(e),r=[],i=this._modeling,o=this._moddle,a=this;return Object(_d.i)(t,function(t){switch(t.actionName){case"replace-with-default-flow":n.sourceRef.default!==n&&(Xm(n.sourceRef,"bpmn:ExclusiveGateway")||Xm(n.sourceRef,"bpmn:InclusiveGateway")||Xm(n.sourceRef,"bpmn:ComplexGateway")||Xm(n.sourceRef,"bpmn:Activity"))&&r.push(a._createMenuEntry(t,e,function(){i.updateProperties(e.source,{default:n})}));break;case"replace-with-conditional-flow":!n.conditionExpression&&Xm(n.sourceRef,"bpmn:Activity")&&r.push(a._createMenuEntry(t,e,function(){var t=o.create("bpmn:FormalExpression",{body:""});i.updateProperties(e,{conditionExpression:t})}));break;default:if(Xm(n.sourceRef,"bpmn:Activity")&&n.conditionExpression)return r.push(a._createMenuEntry(t,e,function(){i.updateProperties(e,{conditionExpression:void 0})}));if((Xm(n.sourceRef,"bpmn:ExclusiveGateway")||Xm(n.sourceRef,"bpmn:InclusiveGateway")||Xm(n.sourceRef,"bpmn:ComplexGateway")||Xm(n.sourceRef,"bpmn:Activity"))&&n.sourceRef.default===n)return r.push(a._createMenuEntry(t,e,function(){i.updateProperties(e.source,{default:void 0})}))}}),r},Cw.prototype._createMenuEntry=function(e,t,n){var r=this._bpmnReplace.replaceElement;return n=n||function(){return r(t,e.target)},{label:(0,this._translate)(e.label),className:e.className,id:e.actionName,action:n}},Cw.prototype._getLoopEntries=function(e){var t=this,n=this._translate;function r(n,r){var i;r.active?i=void 0:(i=t._moddle.create(r.options.loopCharacteristics),r.options.isSequential&&(i.isSequential=r.options.isSequential)),t._modeling.updateProperties(e,{loopCharacteristics:i})}var i,o,a,s=Ym(e).loopCharacteristics;return s&&(i=s.isSequential,o=void 0===s.isSequential,a=void 0!==s.isSequential&&!s.isSequential),[{id:"toggle-parallel-mi",className:"bpmn-icon-parallel-mi-marker",title:n("Parallel Multi Instance"),active:a,action:r,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},{id:"toggle-sequential-mi",className:"bpmn-icon-sequential-mi-marker",title:n("Sequential Multi Instance"),active:i,action:r,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},{id:"toggle-loop",className:"bpmn-icon-loop-marker",title:n("Loop"),active:o,action:r,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}]},Cw.prototype._getAdHocEntry=function(e){var t=this._translate,n=Xm(Ym(e),"bpmn:AdHocSubProcess"),r=this._bpmnReplace.replaceElement;return{id:"toggle-adhoc",className:"bpmn-icon-ad-hoc-marker",title:t("Ad-hoc"),active:n,action:function(t,i){return r(e,n?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"})}}};var kw={__depends__:[nw,fw],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",Cw]},Tw=Math.max,Aw=Math.min,Rw=20;function Pw(e,t){return{top:e.top-t.top,right:e.right-t.right,bottom:e.bottom-t.bottom,left:e.left-t.left}}function Mw(e,t,n){var r=t[e],i=n.min&&n.min[e],o=n.max&&n.max[e];return Object(_d.o)(i)&&(r=(/top|left/.test(e)?Aw:Tw)(r,i)),Object(_d.o)(o)&&(r=(/top|left/.test(e)?Tw:Aw)(r,o)),r}function Dw(e,t){return void 0!==e?e:Rw}function Nw(e){return!e.waypoints&&"label"!==e.type}function Iw(e,t){var n;if((n=void 0===e.length?Object(_d.e)(e.children,Nw):e).length)return function(e,t){var n,r,i,o;return"object"==typeof t?(n=Dw(t.left),r=Dw(t.right),i=Dw(t.top),o=Dw(t.bottom)):n=r=i=o=Dw(t),{x:e.x-n,y:e.y-i,width:e.width+n+r,height:e.height+i+o}}(Object(lv.b)(n),t)}var Bw=Math.abs,Lw=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"];function Fw(e,t){return t=t||[],e.children.filter(function(e){Xm(e,"bpmn:Lane")&&(Fw(e,t),t.push(e))}),t}function zw(e){return e.children.filter(function(e){return Xm(e,"bpmn:Lane")})}function Vw(e){return function(e,t){for("string"==typeof t&&(t=[t]);e=e.parent;)if(jg(e,t))return e;return null}(e,Lw)||e}function Uw(e,t,n,r,i,o,a,s,c,u,l,p){e=e||{},r.registerProvider(this),this._contextPad=r,this._modeling=i,this._elementFactory=o,this._connect=a,this._create=s,this._popupMenu=c,this._canvas=u,this._rules=l,this._translate=p,!1!==e.autoPlace&&(this._autoPlace=t.get("autoPlace",!1)),n.on("create.end",250,function(e){var t=e.context.shape;if(ov(e)){var n=r.getEntries(t);n.replace&&n.replace.action.click(e,t)}})}function Hw(e,t,n){var r=e.$instanceOf(t),i=!1,o=e.eventDefinitions||[];return Object(_d.i)(o,function(e){e.$type===n&&(i=!0)}),r&&i}Uw.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate"],Uw.prototype.getContextPadEntries=function(e){var t=this._contextPad,n=this._modeling,r=this._elementFactory,i=this._connect,o=this._create,a=this._popupMenu,s=this._canvas,c=this._rules,u=this._autoPlace,l=this._translate,p={};if("label"===e.type)return p;var h=e.businessObject;function f(e,t){i.start(e,t)}function d(e,t,n,i){function a(t,n){var a=r.createShape(Object(_d.a)({type:e},i));o.start(t,a,n)}return"string"!=typeof n&&(i=n,n=l("Append {type}",{type:e.replace(/^bpmn:/,"")})),{group:"model",className:t,title:n,action:{dragstart:a,click:u?function(t,n){var o=r.createShape(Object(_d.a)({type:e},i));u.append(n,o)}:a}}}function m(e){return function(r,i){n.splitLane(i,e),t.open(i,!0)}}if(jg(h,["bpmn:Lane","bpmn:Participant"])&&Qm(h)){var y=zw(e);Object(_d.a)(p,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:l("Add Lane above"),action:{click:function(e,t){n.addLane(t,"top")}}}}),y.length<2&&(e.height>=120&&Object(_d.a)(p,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:l("Divide into two Lanes"),action:{click:m(2)}}}),e.height>=180&&Object(_d.a)(p,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:l("Divide into three Lanes"),action:{click:m(3)}}})),Object(_d.a)(p,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:l("Add Lane below"),action:{click:function(e,t){n.addLane(t,"bottom")}}}})}Xm(h,"bpmn:FlowNode")&&(Xm(h,"bpmn:EventBasedGateway")?Object(_d.a)(p,{"append.receive-task":d("bpmn:ReceiveTask","bpmn-icon-receive-task"),"append.message-intermediate-event":d("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",l("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":d("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",l("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condtion-intermediate-event":d("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",l("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":d("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",l("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):Hw(h,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?Object(_d.a)(p,{"append.compensation-activity":d("bpmn:Task","bpmn-icon-task",l("Append compensation activity"),{isForCompensation:!0})}):Xm(h,"bpmn:EndEvent")||h.isForCompensation||Hw(h,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||Jm(h)||Object(_d.a)(p,{"append.end-event":d("bpmn:EndEvent","bpmn-icon-end-event-none"),"append.gateway":d("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",l("Append Gateway")),"append.append-task":d("bpmn:Task","bpmn-icon-task"),"append.intermediate-event":d("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",l("Append Intermediate/Boundary Event"))})),a.isEmpty(e,"bpmn-replace")||Object(_d.a)(p,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:l("Change type"),action:{click:function(e,n){var r=Object(_d.a)(function(e){var n=s.getContainer(),r=t.getPad(e).html,i=n.getBoundingClientRect(),o=r.getBoundingClientRect();return{x:o.left-i.left,y:o.top-i.top+o.height+5}}(n),{cursor:{x:e.x,y:e.y}});a.open(n,"bpmn-replace",r)}}}}),jg(h,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Object(_d.a)(p,{"append.text-annotation":d("bpmn:TextAnnotation","bpmn-icon-text-annotation"),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:l("Connect using "+(h.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:f,dragstart:f}}}),jg(h,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Object(_d.a)(p,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:l("Connect using DataInputAssociation"),action:{click:f,dragstart:f}}});var v=c.allowed("elements.delete",{elements:[e]});return Object(_d.l)(v)&&(v=v[0]===e),v&&Object(_d.a)(p,{delete:{group:"edit",className:"bpmn-icon-trash",title:l("Remove"),action:{click:function(t){n.removeElements([e])}}}}),p};var $w={__depends__:[Vb,Hb,bv,qb,ew,kw],__init__:["contextPadProvider"],contextPadProvider:["type",Uw]};function Ww(){}Ww.prototype.get=function(){return this._data},Ww.prototype.set=function(e){this._data=e},Ww.prototype.clear=function(){var e=this._data;return delete this._data,e},Ww.prototype.isEmpty=function(){return!this._data};var Gw={clipboard:["type",Ww]};function qw(e,t,n,r,i,o){this._eventBus=e,this._modeling=t,this._elementFactory=n,this._rules=r,this._canvas=o,this._clipboard=i,this._descriptors=[],this.registerDescriptor(function(e,t){return t.priority=1,t.id=e.id,e.parent&&(t.parent=e.parent.id),e.labelTarget&&(t.priority=4,t.labelTarget=e.labelTarget.id),e.host&&(t.priority=2,t.host=e.host.id),"number"==typeof e.x&&(t.x=e.x,t.y=e.y),e.width&&(t.width=e.width,t.height=e.height),e.waypoints&&(t.priority=3,t.waypoints=[],Object(_d.i)(e.waypoints,function(e){var n={x:e.x,y:e.y};e.original&&(n.original={x:e.original.x,y:e.original.y}),t.waypoints.push(n)})),e.source&&e.target&&(t.source=e.source.id,t.target=e.target.id),t})}qw.$inject=["eventBus","modeling","elementFactory","rules","clipboard","canvas"],qw.prototype.copy=function(e){var t,n,r=this._clipboard;if(Object(_d.l)(e)||(e=e?[e]:[]),e.length)return t=this.createTree(e),n=this._bbox=Zv(Object(lv.b)(t.allShapes)),delete t.allShapes,Object(_d.i)(t,function(e){Object(_d.i)(e,function(t){var r,i;t.labelTarget?(i=Object(_d.f)(e,Object(_d.u)({id:t.labelTarget})),r=Xv(t,i.waypoints?i.waypoints[0]:i)):3===t.priority?(r=[],Object(_d.i)(t.waypoints,function(e){var t=Xv(e,n);r.push(t)})):r=Xv(t,n),t.delta=r})}),this._eventBus.fire("elements.copy",{context:{tree:t}}),0===Object.keys(t).length?r.clear():r.set(t),this._eventBus.fire("elements.copied",{context:{tree:t}}),t},qw.prototype.paste=function(e){var t,n=this._clipboard,r=this._modeling,i=this._eventBus,o=this._rules,a=n.get(),s=e.element,c=e.point;n.isEmpty()||(t=Object(_d.x)(a,function(e,t,n){var r=parseInt(n,10);return isNaN(r)?e:(e[r]=t,e)},{}),o.allowed("elements.paste",{tree:t,target:s})?r.pasteElements(t,s,c):i.fire("elements.paste.rejected",{context:{tree:t,position:c,target:s}}))},qw.prototype._computeDelta=function(e,t){var n=this._bbox,r={};return t.labelTarget?Xv(t,t.labelTarget):(3===t.priority?(r=[],Object(_d.i)(t.waypoints,function(e){var t=Xv(e,n);r.push(t)})):r=Xv(t,n),r)},qw.prototype.hasRelations=function(e,t){var n,r;return!(t.waypoints&&(n=Object(_d.f)(e,Object(_d.u)({id:t.source.id})),r=Object(_d.f)(e,Object(_d.u)({id:t.target.id})),!n||!r)||t.labelTarget&&!Object(_d.f)(e,Object(_d.u)({id:t.labelTarget.id})))},qw.prototype.registerDescriptor=function(e){if("function"!=typeof e)throw new Error("the descriptor must be a function");if(-1!==this._descriptors.indexOf(e))throw new Error("this descriptor is already registered");this._descriptors.push(e)},qw.prototype._executeDescriptors=function(e){return e.descriptor||(e.descriptor={}),Object(_d.i)(this._descriptors,function(t){e.descriptor=t(e.element,e.descriptor)}),e},qw.prototype.createTree=function(e){var t,n=this._rules,r=this,i={},o=[],a=function(e){var t={},n=[],r=[],i=[];return Object(_d.i)(e,function(e){var r=e.parent;t[r.id]||(t[r.id]=[]),-1===n.indexOf(r.id)&&n.push(r.id),t[r.id].push(e)}),Object(_d.i)(n,function(e){Object(_d.i)(t[e],function(e){t[e.id]&&i.push(e.id)})}),Object(_d.i)(n,function(e){-1===i.indexOf(e)&&(r=r.concat(t[e]))}),r}(e);function s(e){var t=Object(_d.g)(o,Object(_d.u)({element:e.element}));if(-1===t)return o.push(e);o[t].depth<e.depth&&(o.splice(t,1),o.push(e))}return i.allShapes=[],Object(lv.a)(a,function(e,t,n){var r,i=e.children;if(!e.labelTarget)return Object(_d.i)(e.labels,function(e){s({element:e,depth:n})}),r=[e.attachers,e.incoming,e.outgoing],Object(_d.i)(r,function(e){e&&e.length&&Object(_d.i)(e,function(e){Object(_d.i)(e.labels,function(e){s({element:e,depth:n})}),s({element:e,depth:n})})}),s({element:e,depth:n}),i||void 0}),o=Object(_d.t)(o,function(e){return r._executeDescriptors(e)}),o=Object(_d.A)(o,function(e){return e.descriptor.priority}),t=Object(_d.t)(o,function(e){return e.element}),Object(_d.i)(o,function(e){var o=e.depth;r.hasRelations(i.allShapes,e.element)&&n.allowed("element.copy",{collection:t,element:e.element})&&(i.allShapes.push(e.element),i[o]||(i[o]=[]),i[o].push(e.descriptor))}),i};var Kw={__depends__:[Gw,nb,Qg],__init__:["copyPaste"],copyPaste:["type",qw]};function Zw(e,t,n){Object(_d.i)(n,function(n){void 0!==t[n]&&(e[n]=t[n])})}function Xw(e,t,n,r,i,o){var a=new cw(t,e);n.registerDescriptor(function(e,t){var n=t.oldBusinessObject=Ym(e),r={};return t.type=e.type,Zw(t,n.di,["isExpanded"]),Zw(r,n.di,["fill","stroke"]),t.colors=r,"label"===e.type?t:(Zw(t,n,["processRef","triggeredByEvent"]),n.default&&(t.default=n.default.id),t)}),t.on("element.paste",function(t){var n,r,s,c,u=t.descriptor,l=t.createdElements,p=u.parent,h=i.getRootElement(),f=u.oldBusinessObject;n=e.create(f.$type);var d,m=sw(f.$descriptor);m=Object(_d.e)(m,function(e){return-1===aw.indexOf(e.replace(/bpmn:/,""))}),u.businessObject=a.clone(f,n,m),"label"!==u.type&&(Xm(p,"bpmn:Process")&&(u.parent=Xm(h,"bpmn:Collaboration")?h:p),"bpmn:DataOutputAssociation"!==u.type&&"bpmn:DataInputAssociation"!==u.type&&"bpmn:MessageFlow"!==u.type||(u.parent=h),Xm(p,"bpmn:Lane")&&(u.parent=p.parent),u.waypoints&&(s=l[u.target],(r=l[u.source])&&s&&(r=r.element,s=s.element),(c=o.canConnect(r,s))&&(u.type=c.type)),delete n.id,e._ensureId(n),"bpmn:Participant"===u.type&&u.processRef&&(u.processRef=n.processRef=e.create("bpmn:Process")),Zw(n,u,["isExpanded","triggeredByEvent"]),d=u,Object(_d.i)(["triggeredByEvent"],function(e){d[e]&&delete d[e]}))})}Xw.$inject=["bpmnFactory","eventBus","copyPaste","clipboard","canvas","bpmnRules"];var Yw={__depends__:[Kw],__init__:["bpmnCopyPaste"],bpmnCopyPaste:["type",Xw]},Qw={horizontal:["x","width"],vertical:["y","height"]};function Jw(e){this._modeling=e,this._filters=[],this.registerFilter(function(e,t,n){var r,i=0,o=0;return Object(_d.i)(e,function(e){e.waypoints||e.labelTarget||(i+=e[n],o+=1)}),r=Math.round(i/o),Object(_d.e)(e,function(e){return e[n]<r+50})})}Jw.$inject=["modeling"],Jw.prototype.registerFilter=function(e){if("function"!=typeof e)throw new Error("the filter has to be a function");this._filters.push(e)},Jw.prototype.trigger=function(e,t){var n,r,i=this._modeling;if(!(e.length<3||(this._setOrientation(t),r=this._filterElements(e),(n=this._createGroups(r)).length<=2)))return i.distributeElements(n,this._axis,this._dimension),n},Jw.prototype._filterElements=function(e){var t=this._filters,n=this._axis,r=this._dimension,i=[].concat(e);return t.length?(Object(_d.i)(t,function(e){i=e(i,n,r)}),i):e},Jw.prototype._createGroups=function(e){var t=[],n=this,r=this._axis,i=this._dimension;if(!r)throw new Error('must have a defined "axis" and "dimension"');var o=Object(_d.A)(e,r);return Object(_d.i)(o,function(e,o){var a=n._findRange(e,r,i),s=t[t.length-1];s&&n._hasIntersection(s.range,a)?t[t.length-1].elements.push(e):t.push({range:a,elements:[e]})}),t},Jw.prototype._setOrientation=function(e){var t=Qw[e];this._axis=t[0],this._dimension=t[1]},Jw.prototype._hasIntersection=function(e,t){return Math.max(e.min,e.max)>=Math.min(t.min,t.max)&&Math.min(e.min,e.max)<=Math.max(t.min,t.max)},Jw.prototype._findRange=function(e){var t=e[this._axis];return{min:t+5,max:t+e[this._dimension]-5}};var e_={__init__:["distributeElements"],distributeElements:["type",Jw]};function t_(e){e.registerFilter(function(e){return Object(_d.e)(e,function(e){var t=jg(e,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:Participant","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(e.labelTarget||t)})})}t_.$inject=["distributeElements"];var n_={__depends__:[e_],__init__:["bpmnDistributeElements"],bpmnDistributeElements:["type",t_]};function r_(e,t){this._actions={};var n=this;e.on("diagram.init",function(){n._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:n})})}function i_(e,t){return new Error(e+" "+t)}r_.$inject=["eventBus","injector"],r_.prototype._registerDefaultActions=function(e){var t=e.get("commandStack",!1),n=e.get("modeling",!1),r=e.get("selection",!1),i=e.get("zoomScroll",!1),o=e.get("copyPaste",!1),a=e.get("canvas",!1),s=e.get("rules",!1),c=e.get("mouseTracking",!1),u=e.get("keyboardMove",!1),l=e.get("keyboardMoveSelection",!1);t&&(this.register("undo",function(){t.undo()}),this.register("redo",function(){t.redo()})),o&&r&&this.register("copy",function(){var e=r.get();o.copy(e)}),c&&o&&this.register("paste",function(){var e=c.getHoverContext();o.paste(e)}),i&&this.register("stepZoom",function(e){i.stepZoom(e.value)}),a&&this.register("zoom",function(e){a.zoom(e.value)}),n&&r&&s&&this.register("removeSelection",function(){var e=r.get();if(e.length){var t,i=s.allowed("elements.delete",{elements:e});!1!==i&&(t=Object(_d.l)(i)?i:e).length&&n.removeElements(t.slice())}}),u&&this.register("moveCanvas",function(e){u.moveCanvas(e)}),l&&this.register("moveSelection",function(e){l.moveSelection(e.direction,e.accelerated)})},r_.prototype.trigger=function(e,t){if(!this._actions[e])throw i_(e,"is not a registered action");return this._actions[e](t)},r_.prototype.register=function(e,t){var n=this;if("string"==typeof e)return this._registerAction(e,t);Object(_d.i)(e,function(e,t){n._registerAction(t,e)})},r_.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw i_(e,"is already registered");this._actions[e]=t},r_.prototype.unregister=function(e){if(!this.isRegistered(e))throw i_(e,"is not a registered action");this._actions[e]=void 0},r_.prototype.getActions=function(){return Object.keys(this._actions)},r_.prototype.isRegistered=function(e){return!!this._actions[e]};var o_={__init__:["editorActions"],editorActions:["type",r_]};function a_(e){e.invoke(r_,this)}a_.$inject=["injector"],a_.prototype._registerDefaultActions=function(e){r_.prototype._registerDefaultActions.call(this,e);var t=e.get("canvas",!1),n=e.get("elementRegistry",!1),r=e.get("selection",!1),i=e.get("spaceTool",!1),o=e.get("lassoTool",!1),a=e.get("handTool",!1),s=e.get("globalConnect",!1),c=e.get("distributeElements",!1),u=e.get("alignElements",!1),l=e.get("directEditing",!1),p=e.get("searchPad",!1),h=e.get("modeling",!1);t&&n&&r&&this._registerAction("selectElements",function(){var e=t.getRootElement(),i=n.filter(function(t){return t!==e});return r.select(i),i}),i&&this._registerAction("spaceTool",function(){i.toggle()}),o&&this._registerAction("lassoTool",function(){o.toggle()}),a&&this._registerAction("handTool",function(){a.toggle()}),s&&this._registerAction("globalConnectTool",function(){s.toggle()}),r&&c&&this._registerAction("distributeElements",function(e){var t=r.get();t.length&&c.trigger(t,e.type)}),r&&u&&this._registerAction("alignElements",function(e){var t=r.get(),n=[],i=e.type;t.length&&(n=Object(_d.e)(t,function(e){return!Xm(e,"bpmn:Lane")}),u.trigger(n,i))}),r&&h&&this._registerAction("setColor",function(e){var t=r.get();t.length&&h.setColor(t,e)}),r&&l&&this._registerAction("directEditing",function(){var e=r.get();e.length&&l.activate(e[0])}),p&&this._registerAction("find",function(){p.toggle()}),t&&h&&this._registerAction("moveToOrigin",function(){var e,r,i=t.getRootElement();r=Xm(i,"bpmn:Collaboration")?n.filter(function(e){return Xm(e.parent,"bpmn:Collaboration")}):n.filter(function(e){return e!==i&&!Xm(e.parent,"bpmn:SubProcess")}),e=Object(lv.b)(r),h.moveElements(r,{x:-e.x,y:-e.y},i)})};var s_={__depends__:[o_],editorActions:["type",a_]};function c_(e){e.invoke(Fv,this)}c_.$inject=["injector"],c_.prototype.registerBindings=function(e,t){function n(n,r){t.isRegistered(n)&&e.addListener(r)}Fv.prototype.registerBindings.call(this,e,t),n("selectElements",function(n){var r=n.keyEvent;if(e.isKey(["a","A"],r)&&e.isCmd(r))return t.trigger("selectElements"),!0}),n("find",function(n){var r=n.keyEvent;if(e.isKey(["f","F"],r)&&e.isCmd(r))return t.trigger("find"),!0}),n("spaceTool",function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["s","S"],r)?(t.trigger("spaceTool"),!0):void 0}),n("lassoTool",function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["l","L"],r)?(t.trigger("lassoTool"),!0):void 0}),n("handTool",function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["h","H"],r)?(t.trigger("handTool"),!0):void 0}),n("globalConnectTool",function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["c","C"],r)?(t.trigger("globalConnectTool"),!0):void 0}),n("directEditing",function(n){var r=n.keyEvent;if(!e.hasModifier(r))return e.isKey(["e","E"],r)?(t.trigger("directEditing"),!0):void 0})};var u_={__depends__:[zv],__init__:["keyboardBindings"],keyboardBindings:["type",c_]},l_={moveSpeed:1,moveSpeedAccelerated:10},p_=1500,h_={ArrowLeft:"left",Left:"left",ArrowUp:"up",Up:"up",ArrowRight:"right",Right:"right",ArrowDown:"down",Down:"down"},f_={left:function(e){return{x:-e,y:0}},up:function(e){return{x:0,y:-e}},right:function(e){return{x:e,y:0}},down:function(e){return{x:0,y:e}}};function d_(e,t,n,r){var i=this;this._config=Object(_d.a)({},l_,e||{}),t.addListener(p_,function(e){var n=e.keyEvent,r=h_[n.key];if(r&&!t.isCmd(n)){var o=t.isShift(n);return i.moveSelection(r,o),!0}}),this.moveSelection=function(e,t){var i=r.get();if(i.length){var o=f_[e](this._config[t?"moveSpeedAccelerated":"moveSpeed"]);n.moveElements(i,o)}}}d_.$inject=["config.keyboardMoveSelection","keyboard","modeling","selection"];var m_={__depends__:[zv,bv],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",d_]};function y_(e,t,n,r){e.on("element.changed",function(r){var i=r.element;(i.parent||i===t.getRootElement())&&(r.gfx=n.getGraphics(i)),r.gfx&&e.fire(Object(lv.e)(i)+".changed",r)}),e.on("elements.changed",function(t){var n=t.elements;n.forEach(function(t){e.fire("element.changed",{element:t})}),r.updateContainments(n)}),e.on("shape.changed",function(e){r.update("shape",e.element,e.gfx)}),e.on("connection.changed",function(e){r.update("connection",e.element,e.gfx)})}y_.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var v_={__init__:["changeSupport"],changeSupport:["type",y_]};function g_(e,t,n){this._elementRegistry=e,this._canvas=t,this._styles=n}g_.$inject=["elementRegistry","canvas","styles"],g_.prototype.getGfx=function(e){return this._elementRegistry.getGraphics(e)},g_.prototype.addDragger=function(e,t){var n=this.getGfx(e),r=Object(Ed.e)(n),i=n.getBoundingClientRect();return e.waypoints&&function e(t){t.children&&Object(_d.i)(t.children,function(t){e(t)}),t.style.markerStart="",t.style.markerEnd=""}(r),Object(Ed.b)(r,this._styles.cls("djs-dragger",[],{x:i.top,y:i.left})),Object(Ed.a)(t,r),r},g_.prototype.addFrame=function(e,t){var n=Object(Ed.f)("rect",{class:"djs-resize-overlay",width:e.width,height:e.height,x:e.x,y:e.y});return Object(Ed.a)(t,n),n};var b_={__init__:["previewSupport"],previewSupport:["type",g_]};function w_(e,t,n,r){this._dragging=r,this._rules=t;var i=this;e.on("resize.start",function(e){var t,n;n=(t=e.context).minBounds,void 0===t.resizeConstraints&&(void 0===n&&(n=i.computeMinResizeBox(t)),t.resizeConstraints={min:Wy(n)})}),e.on("resize.move",function(e){var t,n,r,o,a,s;o=(t=e.context).shape,a=t.direction,s=t.resizeConstraints,t.delta=n={x:e.dx,y:e.dy},r=function(e,t,n){var r=n.x,i=n.y;switch(t){case"nw":return{x:e.x+r,y:e.y+i,width:e.width-r,height:e.height-i};case"sw":return{x:e.x+r,y:e.y,width:e.width-r,height:e.height+i};case"ne":return{x:e.x,y:e.y+i,width:e.width+r,height:e.height-i};case"se":return{x:e.x,y:e.y,width:e.width+r,height:e.height+i};default:throw new Error("unrecognized direction: "+t)}}(o,a,n),t.newBounds=function(e,t){if(!t)return r;var n=Wy(r);return Gy({top:Mw("top",n,t),right:Mw("right",n,t),bottom:Mw("bottom",n,t),left:Mw("left",n,t)})}(0,s),t.canExecute=i.canResize(t)}),e.on("resize.end",function(e){var t,r,i;r=(t=e.context).shape,i=t.newBounds,t.canExecute&&(i=Hy(i),n.resizeShape(r,i))})}w_.prototype.canResize=function(e){var t=this._rules,n=Object(_d.w)(e,["newBounds","shape","delta","direction"]);return t.allowed("shape.resize",n)},w_.prototype.activate=function(e,t,n){var r,i,o=this._dragging;if("string"==typeof n&&(n={direction:n}),!(i=(r=Object(_d.a)({shape:t},n)).direction))throw new Error("must provide a direction (nw|se|ne|sw)");o.init(e,"resize",{autoActivate:!0,cursor:"resize-"+(/nw|se/.test(i)?"nwse":"nesw"),data:{shape:t,context:r}})},w_.prototype.computeMinResizeBox=function(e){var t=e.shape;return function(e,t,n,r){var i=Wy(t),o={top:/n/.test(e)?i.bottom-n.height:i.top,left:/w/.test(e)?i.right-n.width:i.left,bottom:/s/.test(e)?i.top+n.height:i.bottom,right:/e/.test(e)?i.left+n.width:i.right},a=r?Wy(r):o;return Gy({top:Aw(o.top,a.top),left:Aw(o.left,a.left),bottom:Tw(o.bottom,a.bottom),right:Tw(o.right,a.right)})}(e.direction,t,e.minDimensions||{width:10,height:10},Iw(t,e.childrenBoxPadding))},w_.$inject=["eventBus","rules","modeling","dragging"];var __="djs-resizing",x_="resize-not-ok",E_=500;function O_(e,t,n){e.on("resize.move",E_,function(e){var r,i,o,a;i=(r=e.context).shape,o=r.newBounds,(a=r.frame)||(a=r.frame=n.addFrame(i,t.getDefaultLayer()),t.addMarker(i,__)),o.width>5&&Object(Ed.b)(a,{x:o.x,width:o.width}),o.height>5&&Object(Ed.b)(a,{y:o.y,height:o.height}),r.canExecute?Object(Ed.c)(a).remove(x_):Object(Ed.c)(a).add(x_)}),e.on("resize.cleanup",function(e){var n,r;r=(n=e.context).shape,n.frame&&Object(Ed.j)(n.frame),t.removeMarker(r,__)})}function j_(e,t,n,r){this._resize=r,this._canvas=t;var i=this;e.on("selection.changed",function(e){var t=e.newSelection;i.removeResizers(),1===t.length&&Object(_d.i)(t,Object(_d.b)(i.addResizer,i))}),e.on("shape.changed",function(e){var t=e.element;n.isSelected(t)&&(i.removeResizers(),i.addResizer(t))})}O_.$inject=["eventBus","canvas","previewSupport"],j_.prototype.makeDraggable=function(e,t,n){var r=this._resize;function i(t){iv(t)&&r.activate(t,e,n)}xd.g.bind(t,"mousedown",i),xd.g.bind(t,"touchstart",i)},j_.prototype._createResizer=function(e,t,n,r,i){var o=this._getResizersParent(),a=Object(Ed.f)("g");Object(Ed.c)(a).add("djs-resizer"),Object(Ed.c)(a).add("djs-resizer-"+e.id),Object(Ed.c)(a).add("djs-resizer-"+i),Object(Ed.a)(o,a);var s=Object(Ed.f)("rect");Object(Ed.b)(s,{x:-7,y:-7,width:5,height:5}),Object(Ed.c)(s).add("djs-resizer-visual"),Object(Ed.a)(a,s);var c=Object(Ed.f)("rect");return Object(Ed.b)(c,{x:-7,y:-7,width:20,height:20}),Object(Ed.c)(c).add("djs-resizer-hit"),Object(Ed.a)(a,c),Object(sy.b)(a,t,n,r),a},j_.prototype.createResizer=function(e,t){var n,r=Wy(e);n="nw"===t?this._createResizer(e,r.left,r.top,0,t):"ne"===t?this._createResizer(e,r.right,r.top,90,t):"se"===t?this._createResizer(e,r.right,r.bottom,180,t):this._createResizer(e,r.left,r.bottom,270,t),this.makeDraggable(e,n,t)},j_.prototype.addResizer=function(e){this._resize.canResize({shape:e})&&(this.createResizer(e,"nw"),this.createResizer(e,"ne"),this.createResizer(e,"se"),this.createResizer(e,"sw"))},j_.prototype.removeResizers=function(){var e=this._getResizersParent();Object(Ed.d)(e)},j_.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},j_.$inject=["eventBus","canvas","selection","resize"];var S_={__depends__:[nb,Xg,b_],__init__:["resize","resizePreview","resizeHandles"],resize:["type",w_],resizePreview:["type",O_],resizeHandles:["type",j_]};function C_(e){return Xm(e,"bpmn:FlowElement")||Xm(e,"bpmn:Participant")||Xm(e,"bpmn:Lane")||Xm(e,"bpmn:SequenceFlow")||Xm(e,"bpmn:MessageFlow")?"name":Xm(e,"bpmn:TextAnnotation")?"text":void 0}function k_(e){var t=e.businessObject,n=C_(t);if(n)return t[n]||""}function T_(e,t,n,r,i,o){function a(e,t){(t||jg(e,["bpmn:Task","bpmn:TextAnnotation"])||A_(e))&&n.activate(e)}this._canvas=t,this._modeling=r,this._textRenderer=o,n.registerProvider(this),e.on("element.dblclick",function(e){a(e.element,!0)}),e.on(["element.mousedown","drag.init","canvas.viewbox.changing","autoPlace","popupMenu.open"],function(e){n.isActive()&&n.complete()}),e.on(["commandStack.changed"],function(e){n.isActive()&&n.cancel()}),e.on("directEditing.activate",function(e){i.removeResizers()}),e.on("create.end",500,function(e){e.isTouch||e.context.canExecute&&a(e.shape)}),e.on("autoPlace.end",500,function(e){a(e.shape)})}function A_(e){return Xm(e,"bpmn:SubProcess")&&!Qm(e)}T_.$inject=["eventBus","canvas","directEditing","modeling","resizeHandles","textRenderer"],T_.prototype.activate=function(e){var t=k_(e);if(void 0!==t){var n={text:t},r=this.getEditingBBox(e);Object(_d.a)(n,r);var i={};return(jg(e,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||A_(e))&&Object(_d.a)(i,{centerVertically:!0}),Ry(e)&&Object(_d.a)(i,{autoResize:!0}),Xm(e,"bpmn:TextAnnotation")&&Object(_d.a)(i,{resizable:!0,autoResize:!0}),Object(_d.a)(n,{options:i}),n}},T_.prototype.getEditingBBox=function(e){var t=this._canvas,n=e.label||e,r=t.getAbsoluteBBox(n),i=r.x+r.width/2,o=r.y+r.height/2,a={x:r.x,y:r.y},s=t.zoom(),c=this._textRenderer.getDefaultStyle(),u=this._textRenderer.getExternalStyle(),l=u.fontSize*s,p=u.lineHeight,h=c.fontSize*s,f=c.lineHeight,d={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};(Xm(e,"bpmn:Lane")||function(e){return Xm(e,"bpmn:Participant")&&Qm(e)}(e))&&(Object(_d.a)(a,{width:r.height,height:30*s,x:r.x-r.height/2+15*s,y:o-30*s/2}),Object(_d.a)(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px",transform:"rotate(-90deg)"})),(jg(e,["bpmn:Task","bpmn:CallActivity"])||function(e){return Xm(e,"bpmn:Participant")&&!Qm(e)}(e)||A_(e))&&(Object(_d.a)(a,{width:r.width,height:r.height}),Object(_d.a)(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px"})),function(e){return Xm(e,"bpmn:SubProcess")&&Qm(e)}(e)&&(Object(_d.a)(a,{width:r.width,x:r.x}),Object(_d.a)(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px"}));var m=90*s,y=7*s,v=4*s;if(n.labelTarget&&(Object(_d.a)(a,{width:m,height:r.height+y+v,x:i-m/2,y:r.y-y}),Object(_d.a)(d,{fontSize:l+"px",lineHeight:p,paddingTop:y+"px",paddingBottom:v+"px"})),Ry(n)&&!Py(n)&&!Dy(n)){var g=My(e),b=t.getAbsoluteBBox({x:g.x,y:g.y,width:0,height:0}),w=l+y+v;Object(_d.a)(a,{width:m,height:w,x:b.x-m/2,y:b.y-w/2}),Object(_d.a)(d,{fontSize:l+"px",lineHeight:p,paddingTop:y+"px",paddingBottom:v+"px"})}return Xm(e,"bpmn:TextAnnotation")&&(Object(_d.a)(a,{width:r.width,height:r.height,minWidth:30*s,minHeight:10*s}),Object(_d.a)(d,{textAlign:"left",paddingTop:5*s+"px",paddingBottom:7*s+"px",paddingLeft:7*s+"px",paddingRight:5*s+"px",fontSize:h+"px",lineHeight:f})),{bounds:a,style:d}},T_.prototype.update=function(e,t,n,r){var i,o,a;Xm(e,"bpmn:TextAnnotation")&&(o=this._canvas.getAbsoluteBBox(e),i={x:e.x,y:e.y,width:e.width/o.width*r.width,height:e.height/o.height*r.height}),(a=t)&&a.trim()||(t=null),this._modeling.updateLabel(e,t,i)};var R_="djs-element-hidden",P_="djs-label-hidden";function M_(e,t,n,r){var i,o,a,s=this,c=t.getDefaultLayer();e.on("directEditing.activate",function(e){var n=e.active;if(Xm(i=n.element.label||n.element,"bpmn:TextAnnotation")){o=t.getAbsoluteBBox(i),a=Object(Ed.f)("g");var u=r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:i.width,containerHeight:i.height,position:{mx:0,my:0}}),l=s.path=Object(Ed.f)("path");Object(Ed.b)(l,{d:u,strokeWidth:2,stroke:D_(i)}),Object(Ed.a)(a,l),Object(Ed.a)(c,a),Object(sy.c)(a,i.x,i.y)}Xm(i,"bpmn:TextAnnotation")||i.labelTarget?t.addMarker(i,R_):(Xm(i,"bpmn:Task")||Xm(i,"bpmn:CallActivity")||Xm(i,"bpmn:SubProcess")||Xm(i,"bpmn:Participant"))&&t.addMarker(i,P_)}),e.on("directEditing.resize",function(e){if(Xm(i,"bpmn:TextAnnotation")){var t=Math.max(i.height/o.height*(e.height+e.dy),0),n=r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:i.width,containerHeight:t,position:{mx:0,my:0}});Object(Ed.b)(s.path,{d:n})}}),e.on(["directEditing.complete","directEditing.cancel"],function(e){var n=e.active;n&&(t.removeMarker(n.element.label||n.element,R_),t.removeMarker(i,P_)),i=void 0,o=void 0,a&&(Object(Ed.j)(a),a=void 0)})}function D_(e,t){return Ym(e).di.get("stroke")||t||"black"}M_.$inject=["eventBus","canvas","elementRegistry","pathMap"];var N_={__depends__:[v_,S_,Vb],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",T_],labelEditingPreview:["type",M_]};function I_(e,t){function n(e){if(Py(e)){var n=function(e){var t=qy(e.label),n=qy(e),r=L_(n,t);if(-1!==B_.indexOf(r)){var i=[].concat(e.incoming.map(function(e){return e.waypoints[e.waypoints.length-2]}),e.outgoing.map(function(e){return e.waypoints[1]})).map(function(e){return L_(n,e)}),o=B_.filter(function(e){return-1===i.indexOf(e)});if(-1===o.indexOf(r))return o[0]}}(e);n&&function(e,n){var i,o=qy(e),a=e.label,s=qy(a),c=Wy(e);switch(n){case"top":i={x:o.x,y:c.top-r-a.height/2};break;case"left":i={x:c.left-r-a.width/2,y:o.y};break;case"bottom":i={x:o.x,y:c.bottom+r+a.height/2};break;case"right":i={x:c.right+r+a.width/2,y:o.y}}var u=Xv(i,s);t.moveShape(a,u)}(e,n)}}Lg.call(this,e),this.postExecuted(["connection.create","connection.layout","connection.reconnectEnd","connection.reconnectStart","connection.updateWaypoints"],function(e){var t=e.context.connection,r=t.target;n(t.source),n(r)}),this.postExecuted(["label.create"],function(e){n(e.context.shape.labelTarget)});var r=10}I_.$inject=["eventBus","modeling"];var B_=["top","bottom","left","right"];function L_(e,t){return Ky(t,e,5)}function F_(e,t,n){Lg.call(this,e),this.preExecute("shape.append",function(e){var t=e.source,n=e.shape;e.position||(e.position=Xm(n,"bpmn:TextAnnotation")?{x:t.x+t.width/2+75,y:t.y-50-n.height/2}:{x:t.x+t.width+80+n.width/2,y:t.y+t.height/2})},!0)}function z_(e,t){function n(e){return Object(_d.e)(e.attachers,function(e){return Xm(e,"bpmn:BoundaryEvent")})}Lg.call(this,e),this.postExecute("connection.create",function(e){var r=e.context.source,i=e.context.target,o=n(i);Xm(r,"bpmn:EventBasedGateway")&&Xm(i,"bpmn:ReceiveTask")&&o.length>0&&t.removeElements(o)}),this.postExecute("connection.reconnectStart",function(e){var r=e.context.newSource;Xm(e.context.oldSource,"bpmn:Gateway")&&Xm(r,"bpmn:EventBasedGateway")&&Object(_d.i)(r.outgoing,function(e){var r=e.target,i=n(r);Xm(r,"bpmn:ReceiveTask")&&i.length>0&&t.removeElements(i)})})}function V_(e,t,n){Lg.call(this,e),this.preExecute("elements.paste",1500,function(e){var t=e.topParent;if(t.parent||(e.topParent=n.getRootElement()),Xm(t,"bpmn:Lane"))do{t=e.topParent=t.parent}while(Xm(t,"bpmn:Lane")||!Xm(t,"bpmn:Participant"))},!0),this.postExecute("elements.paste",function(e){var n=e.tree.createdElements;Object(_d.i)(n,function(e){var r,i=e.element,o=i.businessObject,a=e.descriptor;(Xm(o,"bpmn:ExclusiveGateway")||Xm(o,"bpmn:InclusiveGateway")||Xm(o,"bpmn:Activity"))&&a.default&&(r=(r=n[a.default])?r.element:void 0,delete i.default,t.updateProperties(i,{default:r}))})},!0)}function U_(e,t,n,r){Lg.call(this,e),this.preExecute("shape.create",function(e){var t,i=e.host,o={cancelActivity:!0};i&&Xm(e.shape,"bpmn:IntermediateThrowEvent")&&(o.attachedToRef=i.businessObject,t=r.create("bpmn:BoundaryEvent",o),e.shape=n.createShape({type:"bpmn:BoundaryEvent",businessObject:t}))},!0)}function H_(e,t,n){Lg.call(this,e),this.preExecute("shape.create",function(e){var n=e.context.shape;if(Xm(n,"bpmn:DataObjectReference")&&"label"!==n.type){var r=t.create("bpmn:DataObject");n.businessObject.dataObjectRef=r}})}function $_(e,t,n,r,i){Lg.call(this,e),this.preExecute("shape.create",function(e){var n=e.parent,r=e.shape,o=e.position,a=i.getRootElement();if(Xm(n,"bpmn:Process")&&Xm(r,"bpmn:Participant")&&!Xm(a,"bpmn:Collaboration")){var s=t.makeCollaboration();e.position=o,e.parent=s,e.processRoot=n}},!0),this.execute("shape.create",function(e){var t=e.processRoot,n=e.shape;t&&(e.oldProcessRef=n.businessObject.processRef,n.businessObject.processRef=t.businessObject)},!0),this.revert("shape.create",function(e){e.processRoot&&(e.shape.businessObject.processRef=e.oldProcessRef)},!0),this.postExecute("shape.create",function(e){var n=e.processRoot,r=e.shape;if(n){var i=n.children.slice();t.moveElements(i,{x:0,y:0},r)}},!0)}F_.$inject=["eventBus","elementFactory","bpmnRules"],z_.$inject=["eventBus","modeling"],V_.$inject=["eventBus","modeling","canvas"],U_.$inject=["eventBus","modeling","elementFactory","bpmnFactory"],H_.$inject=["eventBus","bpmnFactory","moddle"],$_.$inject=["eventBus","modeling","elementFactory","bpmnFactory","canvas"];var W_=n("6m0L"),G_="__targetRef_placeholder";function q_(e,t){function n(e,n){var r=e.get("properties"),i=Object(_d.f)(r,function(e){return e.name===G_});return!i&&n&&(i=t.create("bpmn:Property",{name:G_}),Object(W_.a)(r,i)),i}function r(e,t){var r=n(e);r&&(function(e,t,n){var r=e.get("dataInputAssociations");return Object(_d.f)(r,function(e){return e!==n&&e.targetRef===t})}(e,r,t)||Object(W_.c)(e.get("properties"),r))}function i(e){var t,i=e.context,o=i.connection,a=o.businessObject,s=o.target,c=s&&s.businessObject,u=i.newTarget,l=u&&u.businessObject,p=i.oldTarget||i.target,h=p&&p.businessObject,f=o.businessObject;h&&h!==c&&r(h,a),l&&l!==c&&r(l,a),c?(t=n(c,!0),f.targetRef=t):f.targetRef=null}Lg.call(this,e),this.executed(["connection.create","connection.delete","connection.move","connection.reconnectEnd"],K_(i)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnectEnd"],K_(i))}function K_(e){return function(t){if(Xm(t.context.connection,"bpmn:DataInputAssociation"))return e(t)}}function Z_(e){this._bpmnUpdater=e}function X_(e,t,n,r){function i(e){return e.children.filter(function(e){return Xm(e,"bpmn:DataStoreReference")&&!e.labelTarget})}function o(e,r){var i=e.businessObject||e;if(r=r||n.filter(function(e){return Xm(e,"bpmn:Participant")})[0]){var o=r.businessObject||r;t.execute("dataStore.updateContainment",{dataStoreBo:i,newSemanticParent:o.processRef||o,newDiParent:o.di})}}Lg.call(this,r),t.registerHandler("dataStore.updateContainment",Z_),this.preExecute("shape.create",function(e){var t=e.context,n=t.shape;Xm(n,"bpmn:DataStoreReference")&&"label"!==n.type&&(t.hints||(t.hints={}),t.hints.autoResize=!1)}),this.preExecute("elements.move",function(e){var t=e.context,n=t.shapes;n.filter(function(e){return Xm(e,"bpmn:DataStoreReference")}).length&&(t.hints||(t.hints={}),t.hints.autoResize=n.filter(function(e){return!Xm(e,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(e){var t=e.context.shape,n=t.parent;Xm(t,"bpmn:DataStoreReference")&&"label"!==t.type&&Xm(n,"bpmn:Collaboration")&&o(t)}),this.postExecute("shape.move",function(e){var t=e.context,n=t.shape,r=t.oldParent,i=n.parent;Xm(r,"bpmn:Collaboration")||Xm(n,"bpmn:DataStoreReference")&&"label"!==n.type&&Xm(i,"bpmn:Collaboration")&&o(n,Xm(r,"bpmn:Participant")?r:function(e,t){for(;e.parent;){if(Xm(e.parent,"bpmn:Participant"))return e.parent;e=e.parent}}(r))}),this.postExecute("shape.delete",function(t){var n=t.context.shape,r=e.getRootElement();jg(n,["bpmn:Participant","bpmn:SubProcess"])&&Xm(r,"bpmn:Collaboration")&&i(r).filter(function(e){return function(t,r){for(var i=e.businessObject||e,o=n.businessObject||n;i.$parent;){if(i.$parent===o.processRef||o)return!0;i=i.$parent}return!1}()}).forEach(function(e){o(e)})}),this.postExecute("canvas.updateRoot",function(e){var t=e.context,n=t.newRoot;i(t.oldRoot).forEach(function(e){Xm(n,"bpmn:Process")&&o(e,n)})})}q_.$inject=["eventBus","bpmnFactory"],Z_.$inject=["bpmnUpdater"],Z_.prototype.execute=function(e){var t=e.dataStoreBo,n=e.newSemanticParent,r=e.newDiParent;e.oldSemanticParent=t.$parent,e.oldDiParent=t.di.$parent,this._bpmnUpdater.updateSemanticParent(t,n),this._bpmnUpdater.updateDiParent(t.di,r)},Z_.prototype.revert=function(e){var t=e.dataStoreBo,n=e.oldDiParent;this._bpmnUpdater.updateSemanticParent(t,e.oldSemanticParent),this._bpmnUpdater.updateDiParent(t.di,n)},X_.$inject=["canvas","commandStack","elementRegistry","eventBus"];var Y_=500;function Q_(e,t,n){Lg.call(this,e),this.postExecuted("shape.delete",Y_,function(e){var t=e.context,r=t.hints,i=t.shape,o=t.oldParent;Xm(i,"bpmn:Lane")&&(r&&r.nested||function(e,t){var r,i,o,a=zw(t),s=[],c=[];Object(lv.a)(a,function(t){return t.y>e.y?c.push(t):s.push(t),t.children}),a.length&&(r=c.length&&s.length?e.height/2:e.height,s.length&&(i=n.calculateAdjustments(s,"y",r,e.y-10),n.makeSpace(i.movingShapes,i.resizingShapes,{x:0,y:r},"s")),c.length&&(o=n.calculateAdjustments(c,"y",-r,e.y+e.height+10),n.makeSpace(o.movingShapes,o.resizingShapes,{x:0,y:-r},"n")))}(i,o))})}function J_(e,t,n){function r(e,r,i){var o,a,s,c,u,l,p=r.waypoints,h=e.outgoing.slice(),f=e.incoming.slice(),d=hb(p,i);if(d){if(o=p.slice(0,d.index),a=p.slice(d.index+(d.bendpoint?1:0)),!o.length||!a.length)return;s=d.bendpoint?p[d.index]:i,ex(e,o[o.length-1])||o.push(tx(s)),ex(e,a[0])||a.unshift(tx(s))}c=r.target,t.canConnect(r.source,e,r)&&(n.reconnectEnd(r,e,o||i),u=r),t.canConnect(e,c,r)&&(u?l=n.connect(e,c,{type:r.type,waypoints:a}):(n.reconnectStart(r,e,a||i),l=r));var m=[].concat(u&&Object(_d.e)(f,function(e){return e.source===u.source})||[],l&&Object(_d.e)(h,function(e){return e.source===l.source})||[]);m.length&&n.removeElements(m)}Lg.call(this,e),this.preExecute("elements.move",function(e){var n=e.newParent,r=e.shapes,i=e.delta,o=r[0];if(o&&n){n&&n.waypoints&&(e.newParent=n=n.parent);var a,s=(a=o,{x:Math.round(a.x+a.width/2),y:Math.round(a.y+a.height/2)}),c={x:s.x+i.x,y:s.y+i.y},u=Object(_d.f)(n.children,function(e){return t.canInsert(r,e)&&hb(e.waypoints,c)});u&&(e.targetFlow=u,e.position=c)}},!0),this.postExecuted("elements.move",function(e){var t=e.targetFlow;t&&r(e.shapes[0],t,e.position)},!0),this.preExecute("shape.create",function(e){var n=e.parent;t.canInsert(e.shape,n)&&(e.targetFlow=n,e.parent=n.parent)},!0),this.postExecuted("shape.create",function(e){var t=e.targetFlow;t&&r(e.shape,t,e.position)},!0)}function ex(e,t){var n=t.x,r=t.y;return n>=e.x&&n<=e.x+e.width&&r>=e.y&&r<=e.y+e.height}function tx(e){return Object(_d.a)({},e)}function nx(e,t,n,r){var i,o;return 0==(i=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y))?null:(o=((r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x))/i,{x:Math.round(e.x+o*(t.x-e.x)),y:Math.round(e.y+o*(t.y-e.y))})}function rx(e){function t(e,t,n){var r,i={x:n.x-50,y:n.y},o=nx(e,t,n,{x:n.x,y:n.y-50}),a=nx(e,t,n,i);r=o&&a?ix(o,n)>ix(a,n)?a:o:o||a,e.original=r}e.on("bpmnElement.added",function(e){var n,r,i=e.element;i.waypoints&&(t((r=(n=i).waypoints)[0],r[1],qy(n.source)),t(r[r.length-1],r[r.length-2],qy(n.target)))})}function ix(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ox(e){return Math.atan((e[1].y-e[0].y)/(e[1].x-e[0].x))}function ax(e,t){return n={x:e.x-t.x,y:e.y-t.y},Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2));var n}Q_.$inject=["eventBus","modeling","spaceTool"],J_.$inject=["eventBus","bpmnRules","modeling"],rx.$inject=["eventBus"];var sx=Math.sqrt,cx=Math.min,ux=Math.max,lx=Math.abs;function px(e){return Math.pow(e,2)}function hx(e,t){return sx(px(e.x-t.x)+px(e.y-t.y))}function fx(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=n.x-e.x,s=n.y-e.y,c=i*i+o*o,u=(i*a+o*s)/c,l=u*u-(a*a+s*s-r*r)/c;if(l<0&&l>-1e-6&&(l=0),l<0)return[];var p=sx(l),h=-u+p,f=-u-p,d={x:e.x-i*h,y:e.y-o*h};return 0===l?[d]:[d,{x:e.x-i*f,y:e.y-o*f}].filter(function(n){return function(e,t,n){return dx(e.x,t.x,n.x)&&dx(e.y,t.y,n.y)}(n,e,t)})}function dx(e,t,n){return e>=cx(t,n)-mx&&e<=ux(t,n)+mx}var mx=.1;function yx(e,t){return lx(e.x-t.x)<=mx&&lx(e.y-t.y)<=mx}function vx(e,t){var n=ax(e[t-1],e[t]);return n/(n+ax(e[t],e[t+1]))}function gx(e,t){return[e[t],e[t+1]]}var bx={width:90,height:20},wx="name",_x="text";function xx(e,t,n,r){Lg.call(this,e),this.postExecute("element.updateProperties",function(e){var n=e.context,i=n.element,o=n.properties;if(wx in o&&t.updateLabel(i,o[wx]),_x in o&&Xm(i,"bpmn:TextAnnotation")){var a=r.getTextAnnotationBounds({x:i.x,y:i.y,width:i.width,height:i.height},o[_x]||"");t.updateLabel(i,o.text,a)}}),this.postExecute(["shape.create","connection.create"],function(e){var n=e.context,i=n.shape||n.connection,o=i.businessObject;if(Ry(i)&&o.name){var a=My(i),s=r.getExternalLabelBounds(bx,o.name||"");t.createLabel(i,a,{id:o.id+"_label",businessObject:o,width:s.width,height:s.height})}}),this.postExecute("shape.delete",function(e){var n=e.context,r=n.labelTarget;r&&!1!==(n.hints||{}).unsetLabel&&t.updateLabel(r,null,null,{removeShape:!1})}),this.postExecute(["label.create"],function(e){var t,r=e.context.shape;r.labelTarget&&Xm(r.labelTarget||r,"bpmn:BaseElement")&&((t=r.businessObject.di).label||(t.label=n.create("bpmndi:BPMNLabel",{bounds:n.create("dc:Bounds")})),Object(_d.a)(t.label.bounds,{x:r.x,y:r.y,width:r.width,height:r.height}))}),this.postExecute(["connection.layout","connection.reconnectEnd","connection.reconnectStart","connection.updateWaypoints"],function(e){var n,r=e.context.connection.label;r&&(n=function(e){var t=e.command,n=e.context,r=n.connection,i=r.label,o=Object(_d.a)({},n.hints),a=n.newWaypoints||r.waypoints,s=n.oldWaypoints;return void 0===o.startChanged&&(o.startChanged="connection.reconnectStart"===t),void 0===o.endChanged&&(o.endChanged="connection.reconnectEnd"===t),function(e,t,n,r){var i=0,o=0,a=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}(e),s=function(e,t){var n,r,i,o,a,s,c,u,l,p,h,f,d=0;for(d=0;d<t.length-1;d++){if(yx(n=t[d],r=t[d+1])?s=[n]:(i=hx(e,n),o=hx(e,r),s=fx(n,r,e,cx(i,o))),s.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===s.length&&(c={type:"bendpoint",position:s[0],segmentIndex:d,bendpointIndex:yx(n,s[0])?d:d+1}),2===s.length&&(c={type:"segment",position:a={x:((h=s[0]).x+(f=s[1]).x)/2,y:(h.y+f.y)/2},segmentIndex:d,relativeLocation:hx(n,a)/hx(n,r)}),u=hx(c.position,e),(!p||l>u)&&(p=c,l=u)}return p}(a,n),c=s.segmentIndex,u=function(e,t,n,r){var i=n.segmentIndex,o=t.length-e.length;if(r.segmentMove){var a=r.segmentMove.newSegmentStartIndex;return i===r.segmentMove.segmentStartIndex?a:i>=a?i+o<a?a:i+o:i}if(r.bendpointMove){var s,c=r.bendpointMove.insert,u=r.bendpointMove.bendpointIndex;return 0===o?i:(i>=u&&(s=c?i+1:i-1),i<u&&(s=i,c&&"bendpoint"!==n.type&&u-1===i&&vx(t,u)<n.relativeLocation&&s++),s)}return 0===o?i:r.connectionStart?0===i?0:null:r.connectionEnd&&i===e.length-2?t.length-2:null}(n,t,s,r);if(null===u)return{x:i,y:o};if(u<0||u>t.length-2)return{x:i,y:o};var l,p,h,f,d,m,y=gx(n,c),v=gx(t,u),g=s.position,b=(f=g,d=ax((h=y)[0],h[1]),m=ax(h[0],f),0===d?0:m/d),w=(l=v,p=ox(y),ox(l)-p);if("bendpoint"===s.type){var _=t.length-n.length,x=s.bendpointIndex;if(-1!==t.indexOf(n[x]))return{x:i,y:o};if(0===_){var E=t[x];return{x:E.x-s.position.x,y:E.y-s.position.y}}_<0&&0!==x&&x<n.length-1&&(b=vx(n,x))}var O,j,S=(v[1].x-v[0].x)*b+v[0].x,C=(v[1].y-v[0].y)*b+v[0].y,k=(O={x:a.x-g.x,y:a.y-g.y},(j=w)?{x:Math.cos(j)*O.x-Math.sin(j)*O.y,y:Math.sin(j)*O.x+Math.cos(j)*O.y}:O);return $y({x:i=S+k.x-a.x,y:o=C+k.y-a.y})}(i,a,s,o)}(e),t.moveShape(r,n))}),this.postExecute(["shape.replace"],function(e){var t=e.context,n=t.newShape,r=t.oldShape,i=Ym(n);i&&Ry(i)&&r.label&&n.label&&(n.label.x=r.label.x,n.label.y=r.label.y)})}xx.$inject=["eventBus","modeling","bpmnFactory","textRenderer"];var Ex="flow elements must be children of pools/participants",Ox="participants cannot be pasted onto a non-empty process diagram";function jx(e,t,n){function r(e,n,r){t.add({position:{x:e.x+5,y:e.y+5},type:"error",timeout:r||2e3,html:"<div>"+n+"</div>"})}e.on(["shape.move.rejected","create.rejected"],function(e){var t=e.context,i=t.shape;Xm(t.target,"bpmn:Collaboration")&&Xm(i,"bpmn:FlowNode")&&r(e,n(Ex))}),e.on(["elements.paste.rejected"],function(e){var t=e.context,i=t.position,o=t.target;Xm(o,"bpmn:Collaboration")&&r(i,n(Ex)),Xm(o,"bpmn:Process")&&r(i,n(Ox),3e3)})}function Sx(e,t,n){function r(e){var r,i,o=e.source,a=e.target;e.parent&&(Xm(e,"bpmn:SequenceFlow")&&(n.canConnectSequenceFlow(o,a)||(i=!0),n.canConnectMessageFlow(o,a)&&(r="bpmn:MessageFlow")),Xm(e,"bpmn:MessageFlow")&&(n.canConnectMessageFlow(o,a)||(i=!0),n.canConnectSequenceFlow(o,a)&&(r="bpmn:SequenceFlow")),Xm(e,"bpmn:Association")&&!n.canConnectAssociation(o,a)&&(i=!0),i&&t.removeConnection(e),r&&t.connect(o,a,{type:r,waypoints:e.waypoints.slice()}))}Lg.call(this,e),this.postExecuted("elements.move",function(e){var t=e.closure.allConnections;Object(_d.i)(t,r)},!0),this.postExecuted(["connection.reconnectStart","connection.reconnectEnd"],function(e){r(e.context.connection)}),this.postExecuted("element.updateProperties",function(e){var n,r=e.context,i=r.properties,o=r.element,a=o.businessObject;i.default&&(n=Object(_d.f)(o.outgoing,Object(_d.u)({id:o.businessObject.default.id})))&&t.updateProperties(n,{conditionExpression:void 0}),i.conditionExpression&&a.sourceRef.default===a&&t.updateProperties(o.source,{default:void 0})})}function Cx(e,t){Lg.call(this,e),this.preExecute("shape.delete",function(e){var t=e.shape,n=t.parent;Xm(t,"bpmn:Participant")&&(e.collaborationRoot=n)},!0),this.postExecute("shape.delete",function(e){var n=e.collaborationRoot;n&&!n.businessObject.participants.length&&t.makeProcess()},!0)}function kx(e,t,n,r,i,o){Lg.call(this,e),this._bpmnReplace=t,this._elementRegistry=r,this._selection=i,this._modeling=o,this.postExecuted(["elements.move"],500,function(e){var t=e.context,r=t.newParent,i=t.newHost,o=[];Object(_d.i)(t.closure.topLevel,function(e){o=Jm(e)?o.concat(e.children):o.concat(e)}),1===o.length&&i&&(r=i);var a=n.canReplace(o,r);a&&this.replaceElements(o,a.replacements,i)},this),this.postExecute(["shape.replace"],1500,function(e){var t,r=e.context,i=r.oldShape.attachers;i&&i.length&&(t=n.canReplace(i,r.newShape),this.replaceElements(i,t.replacements))},this),this.postExecuted(["shape.replace"],1500,function(e){var t=e.context,n=t.oldShape,r=t.newShape;o.unclaimId(n.businessObject.id,n.businessObject),o.updateProperties(r,{id:n.id})})}jx.$inject=["eventBus","tooltips","translate"],Sx.$inject=["eventBus","modeling","bpmnRules"],Cx.$inject=["eventBus","modeling"],kx.prototype.replaceElements=function(e,t,n){var r=this._elementRegistry,i=this._bpmnReplace,o=this._selection,a=this._modeling;Object(_d.i)(t,function(t){var o={type:t.newElementType},s=r.get(t.oldElementId);n&&Xm(s,"bpmn:BoundaryEvent")&&a.updateAttachment(s,null);var c=e.indexOf(s);e[c]=i.replaceElement(s,o,{select:!1}),n&&Xm(e[c],"bpmn:BoundaryEvent")&&a.updateAttachment(e[c],n)}),t&&o.select(e)},kx.$inject=["eventBus","bpmnReplace","bpmnRules","elementRegistry","selection","modeling"];var Tx=1001;function Ax(e,t){e.on("resize.start",Tx+500,function(e){var t=e.context,n=t.shape;(Xm(n,"bpmn:Lane")||Xm(n,"bpmn:Participant"))&&(t.balanced=!ov(e))}),e.on("resize.end",Tx,function(e){var n=e.context,r=n.shape,i=n.canExecute,o=n.newBounds;if(Xm(r,"bpmn:Lane")||Xm(r,"bpmn:Participant"))return i&&(o=Hy(o),t.resizeLane(r,o,n.balanced)),!1})}function Rx(e,t,n){Lg.call(this,e),this.preExecute("shape.delete",function(e){var r=e.context.shape;if(1===r.incoming.length&&1===r.outgoing.length){var i,o,a,s=r.incoming[0],c=r.outgoing[0];if(Xm(s,"bpmn:SequenceFlow")&&Xm(c,"bpmn:SequenceFlow")&&t.canConnect(s.source,c.target,s)){var u=(o=c.waypoints,(a=nx(Px((i=s.waypoints)[i.length-2]),Px(i[i.length-1]),Px(o[1]),Px(o[0])))?[].concat(i.slice(0,i.length-1),[a],o.slice(1)):[Px(i[0]),Px(o[o.length-1])]);n.reconnectEnd(s,c.target,u)}}})}function Px(e){return e.original||e}Ax.$inject=["eventBus","modeling"],Rx.$inject=["eventBus","bpmnRules","modeling"];var Mx=500;function Dx(e,t,n,r){Lg.call(this,e),this.executed(["shape.toggleCollapse"],Mx,function(e){var t,n=e.context.shape;Xm(n,"bpmn:SubProcess")&&(n.collapsed?Ym(n).di.isExpanded=!1:((t=n.children).length&&t.forEach(function(e){"label"!==e.type||e.businessObject.name||(e.hidden=!0)}),Ym(n).di.isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],Mx,function(e){var t=e.context.shape;Ym(t).di.isExpanded=!t.collapsed}),this.postExecuted(["shape.toggleCollapse"],Mx,function(e){var r,i=e.context.shape,o=t._getDefaultSize(i);r=i.collapsed?function(e,t){return{x:e.x+(e.width-t.width)/2,y:e.y+(e.height-t.height)/2,width:t.width,height:t.height}}(i,o):function(e,t){var n,r,i=t;return(n=Iw((r=e.children,r.filter(function(e){return!e.hidden})).concat([e])))?(i.width=Math.max(n.width,i.width),i.height=Math.max(n.height,i.height),i.x=n.x+(n.width-i.width)/2,i.y=n.y+(n.height-i.height)/2):(i.x=e.x+(e.width-i.width)/2,i.y=e.y+(e.height-i.height)/2),i}(i,o),n.resizeShape(i,r)})}function Nx(e,t){Lg.call(this,e),this.preExecute("elements.delete",function(e){var n=e.context.elements;Object(_d.i)(n,function(e){t.unclaimId(e.businessObject.id,e.businessObject)})})}Dx.$inject=["eventBus","elementFactory","modeling"],Nx.$inject=["eventBus","modeling"];var Ix=500,Bx=5e3;function Lx(e,t,n){var r;Lg.call(this,e);var i=["spaceTool","lane.add","lane.resize","lane.split","elements.move","elements.delete","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(i,Bx,function(e){(r=r||new Fx).enter()}),this.postExecuted(i,Ix,function(e){!function(){if(!r)throw new Error(n("out of bounds release"));r.leave()&&(t.updateLaneRefs(r.flowNodes,r.lanes),r=null)}()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(e){var t=e.context.shape,i=function(){if(!r)throw new Error(n("out of bounds release"));return r}();t.labelTarget||(Xm(t,"bpmn:Lane")&&i.addLane(t),Xm(t,"bpmn:FlowNode")&&i.addFlowNode(t))})}function Fx(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(e){this.lanes.push(e)},this.addFlowNode=function(e){this.flowNodes.push(e)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}function zx(e,t){Lg.call(this,e),this.preExecute("connection.delete",function(e){var n=e.context.connection,r=n.source;(function(e,t){if(!Xm(e,"bpmn:SequenceFlow"))return!1;var n=Ym(t),r=Ym(e);return n.get("default")===r})(n,r)&&t.updateProperties(r,{default:null})})}Lx.$inject=["eventBus","modeling","translate"],zx.$inject=["eventBus","modeling"];var Vx={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","boundaryEventBehavior","copyPasteBehavior","createBoundaryEventBehavior","createDataObjectBehavior","dataStoreBehavior","createParticipantBehavior","dataInputAssociationBehavior","deleteLaneBehavior","dropOnFlowBehavior","importDockingFix","labelBehavior","modelingFeedback","removeElementBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeLaneBehavior","toggleElementCollapseBehaviour","unclaimIdBehavior","unsetDefaultFlowBehavior","updateFlowNodeRefsBehavior"],adaptiveLabelPositioningBehavior:["type",I_],appendBehavior:["type",F_],boundaryEventBehavior:["type",z_],copyPasteBehavior:["type",V_],createBoundaryEventBehavior:["type",U_],createDataObjectBehavior:["type",H_],createParticipantBehavior:["type",$_],dataInputAssociationBehavior:["type",q_],dataStoreBehavior:["type",X_],deleteLaneBehavior:["type",Q_],dropOnFlowBehavior:["type",J_],importDockingFix:["type",rx],labelBehavior:["type",xx],modelingFeedback:["type",jx],replaceConnectionBehavior:["type",Sx],removeParticipantBehavior:["type",Cx],replaceElementBehaviour:["type",kx],resizeLaneBehavior:["type",Ax],removeElementBehavior:["type",Rx],toggleElementCollapseBehaviour:["type",Dx],unclaimIdBehavior:["type",Nx],updateFlowNodeRefsBehavior:["type",Lx],unsetDefaultFlowBehavior:["type",zx]};function Ux(e,t){var n=Ky(e,t,-15);return"intersect"!==n?n:null}var Hx=Math.abs,$x=Math.min,Wx=Math.max;function Gx(e,t,n,r){var i=e[t];e[t]=void 0===i?n:r(n,i)}function qx(e,t,n){return Gx(e,t,n,$x)}function Kx(e,t,n){return Gx(e,t,n,Wx)}var Zx=60,Xx=300,Yx=20,Qx=50,Jx=20,eE=20;function tE(e){Vg.call(this,e)}function nE(e){return!e||Dy(e)}function rE(e){do{if(Xm(e,"bpmn:Process"))return Ym(e);if(Xm(e,"bpmn:Participant"))return Ym(e).processRef||Ym(e)}while(e=e.parent)}function iE(e){return Xm(e,"bpmn:TextAnnotation")}function oE(e){return Xm(e,"bpmn:BoundaryEvent")&&cE(e,"bpmn:CompensateEventDefinition")}function aE(e){return Ym(e).isForCompensation}function sE(e){for(var t=e;t=t.parent;){if(Xm(t,"bpmn:FlowElementsContainer"))return Ym(t);if(Xm(t,"bpmn:Participant"))return Ym(t).processRef}return null}function cE(e,t){var n=Ym(e);return!!Object(_d.f)(n.eventDefinitions||[],function(e){return Xm(e,t)})}function uE(e,t){return(Ym(e).eventDefinitions||[]).every(function(e){return Xm(e,t)})}function lE(e){return e.waypoints}function pE(e,t){return-1!==function(e){for(var t=[];e;)(e=e.parent)&&t.push(e);return t}(t).indexOf(e)}function hE(e,t,n){if(nE(e)||nE(t))return null;if(!Xm(n,"bpmn:DataAssociation")){if(xE(e,t))return{type:"bpmn:MessageFlow"};if(EE(e,t))return{type:"bpmn:SequenceFlow"}}return OE(e,t)||(oE(e)&&aE(t)?{type:"bpmn:Association",associationDirection:"One"}:!!_E(e,t)&&{type:"bpmn:Association"})}function fE(e,t,n){return!!Dy(e)||!(Xm(t,"bpmn:Participant")&&!Qm(t))&&(Xm(e,"bpmn:Participant")?Xm(t,"bpmn:Process")||Xm(t,"bpmn:Collaboration"):Xm(e,"bpmn:Lane")?Xm(t,"bpmn:Participant")||Xm(t,"bpmn:Lane"):!Xm(e,"bpmn:BoundaryEvent")&&(Xm(e,"bpmn:FlowElement")&&!Xm(e,"bpmn:DataStoreReference")?Xm(t,"bpmn:FlowElementsContainer")?Qm(t):jg(t,["bpmn:Participant","bpmn:Lane"]):jg(e,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?jg(t,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!Xm(e,"bpmn:MessageFlow")&&(Xm(t,"bpmn:Collaboration")||e.source.parent==t||e.target.parent==t)))}function dE(e){return!Dy(e)&&Xm(e,"bpmn:BoundaryEvent")}function mE(e){return Xm(e,"bpmn:Lane")}function yE(e,t,n,r){if(Array.isArray(e)||(e=[e]),n)return!1;if(1!==e.length)return!1;var i=e[0];return!Dy(i)&&!!function(e){return dE(e)||Xm(e,"bpmn:IntermediateThrowEvent")&&!e.parent}(i)&&(!t||!Jm(t)&&!(!Xm(t,"bpmn:Activity")||aE(t))&&!(r&&!Ux(r,t))&&!function(e){return Xm(e,"bpmn:ReceiveTask")&&Object(_d.f)(e.incoming,function(e){return Xm(e.source,"bpmn:EventBasedGateway")})}(t)&&"attach")}function vE(e,t,n){if(!t)return!1;var r={replacements:[]};return Object(_d.i)(e,function(e){Jm(t)||Xm(e,"bpmn:StartEvent")&&"label"!==e.type&&fE(e,t)&&(function(e){return e&&!1!==Ym(e).isInterrupting}(e)||r.replacements.push({oldElementId:e.id,newElementType:"bpmn:StartEvent"}),(function(e){return ey(e,"bpmn:ErrorEventDefinition")}(e)||function(e){return ey(e,"bpmn:EscalationEventDefinition")}(e)||function(e){return ey(e,"bpmn:CompensateEventDefinition")}(e))&&r.replacements.push({oldElementId:e.id,newElementType:"bpmn:StartEvent"})),Xm(t,"bpmn:Transaction")||cE(e,"bpmn:CancelEventDefinition")&&"label"!==e.type&&(Xm(e,"bpmn:EndEvent")&&fE(e,t)&&r.replacements.push({oldElementId:e.id,newElementType:"bpmn:EndEvent"}),Xm(e,"bpmn:BoundaryEvent")&&yE(e,t,null,n)&&r.replacements.push({oldElementId:e.id,newElementType:"bpmn:BoundaryEvent"}))}),!!r.replacements.length&&r}function gE(e,t){return!Object(_d.z)(e,dE)&&!Object(_d.z)(e,mE)&&(!t||e.every(function(e){return fE(e,t)}))}function bE(e,t,n,r){return!!t&&(Dy(t)?null:n!==t&&(!n||!pE(n,t))&&(fE(e,t)||jE(e,t)))}function wE(e,t){return Xm(e,"bpmn:SubProcess")?Qm(e)&&(!t||t.width>=100&&t.height>=80):Xm(e,"bpmn:Lane")?!t||t.width>=130&&t.height>=60:Xm(e,"bpmn:Participant")?!t||t.width>=250&&t.height>=50:!!iE(e)}function _E(e,t){return!lE(e)&&!lE(t)&&(!(!oE(e)||!aE(t))||!pE(t,e)&&!pE(e,t)&&function(e,t){var n=iE(e),r=iE(t);return(n||r)&&n!==r}(e,t))}function xE(e,t){return Xm(r=e,"bpmn:InteractionNode")&&(!Xm(r,"bpmn:Event")||Xm(r,"bpmn:ThrowEvent")&&uE(r,"bpmn:MessageEventDefinition"))&&function(e){return Xm(e,"bpmn:InteractionNode")&&!aE(e)&&(!Xm(e,"bpmn:Event")||Xm(e,"bpmn:CatchEvent")&&uE(e,"bpmn:MessageEventDefinition"))}(t)&&(n=t,!(rE(e)===rE(n)));var n,r}function EE(e,t){return Xm(o=e,"bpmn:FlowNode")&&!Xm(o,"bpmn:EndEvent")&&!Jm(o)&&!(Xm(o,"bpmn:IntermediateThrowEvent")&&cE(o,"bpmn:LinkEventDefinition"))&&!oE(o)&&!aE(o)&&function(e){return Xm(e,"bpmn:FlowNode")&&!Xm(e,"bpmn:StartEvent")&&!Xm(e,"bpmn:BoundaryEvent")&&!Jm(e)&&!(Xm(e,"bpmn:IntermediateCatchEvent")&&cE(e,"bpmn:LinkEventDefinition"))&&!aE(e)}(t)&&(n=t,r=sE(e),i=sE(n),r&&r===i)&&!(Xm(e,"bpmn:EventBasedGateway")&&!function(e){return Xm(e,"bpmn:ReceiveTask")||Xm(e,"bpmn:IntermediateCatchEvent")&&(cE(e,"bpmn:MessageEventDefinition")||cE(e,"bpmn:TimerEventDefinition")||cE(e,"bpmn:ConditionalEventDefinition")||cE(e,"bpmn:SignalEventDefinition"))}(t));var n,r,i,o}function OE(e,t){return jg(e,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&jg(t,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!jg(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!jg(e,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function jE(e,t,n){if(!t)return!1;if(Array.isArray(e)){if(1!==e.length)return!1;e=e[0]}return t.source!==e&&t.target!==e&&jg(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!Dy(t)&&Xm(e,"bpmn:FlowNode")&&!Xm(e,"bpmn:BoundaryEvent")&&fE(e,t.parent)}function SE(e,t){return e&&t&&-1!==e.indexOf(t)}function CE(e,t){return!(Xm(t,"bpmn:Lane")&&!SE(e,t.parent)||Xm(t,"bpmn:BoundaryEvent")&&!SE(e,t.host))}tE.$inject=["eventBus"],tE.prototype.init=function(){this.addRule("connection.start",function(e){return nE(t=e.source)?null:jg(t,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"]);var t}),this.addRule("connection.create",function(e){var t=e.source,n=e.target,r=e.hints||{},i=r.targetParent;if(r.targetAttach)return!1;i&&(n.parent=i);try{return hE(t,n)}finally{i&&(n.parent=null)}}),this.addRule("connection.reconnectStart",function(e){var t=e.connection;return hE(e.hover||e.source,t.target,t)}),this.addRule("connection.reconnectEnd",function(e){var t=e.connection;return hE(t.source,e.hover||e.target,t)}),this.addRule("connection.updateWaypoints",function(e){return null}),this.addRule("shape.resize",function(e){return wE(e.shape,e.newBounds)}),this.addRule("elements.move",function(e){var t=e.target,n=e.shapes,r=e.position;return yE(n,t,null,r)||vE(n,t,r)||gE(n,t)||jE(n,t)}),this.addRule("shape.create",function(e){return bE(e.shape,e.target,e.source)}),this.addRule("shape.attach",function(e){return yE(e.shape,e.target,null,e.position)}),this.addRule("element.copy",function(e){return CE(e.collection,e.element)}),this.addRule("element.paste",function(e){var t=e.parent,n=e.element,r=e.position,i=e.source,o=e.target;return i||o?hE(i,o):yE([n],t,null,r)||bE(n,t,null)}),this.addRule("elements.paste",function(e){return n=e.tree[0],Xm(t=e.target,"bpmn:Collaboration")?Object(_d.d)(n,function(e){return"bpmn:Participant"===e.type}):Xm(t,"bpmn:Process")?!(Object(_d.z)(n,function(e){return"bpmn:Participant"===e.type})&&t.children.length>0):!(Xm(t,"bpmn:Participant")&&!Qm(t))&&(Xm(t,"bpmn:FlowElementsContainer")?Qm(t):jg(t,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]));var t,n})},tE.prototype.canConnectMessageFlow=xE,tE.prototype.canConnectSequenceFlow=EE,tE.prototype.canConnectDataAssociation=OE,tE.prototype.canConnectAssociation=_E,tE.prototype.canMove=gE,tE.prototype.canAttach=yE,tE.prototype.canReplace=vE,tE.prototype.canDrop=fE,tE.prototype.canInsert=jE,tE.prototype.canCreate=bE,tE.prototype.canConnect=hE,tE.prototype.canResize=wE,tE.prototype.canCopy=CE;var kE={__depends__:[nb],__init__:["bpmnRules"],bpmnRules:["type",tE]};function TE(e){Lg.call(this,e);var t=this;this.preExecute(["shape.create","connection.create"],function(e){var n=e.context,r=t.getOrdering(n.shape||n.connection,n.parent);r&&(void 0!==r.parent&&(n.parent=r.parent),n.parentIndex=r.index)}),this.preExecute(["shape.move","connection.move"],function(e){var n=e.context,r=n.shape||n.connection,i=t.getOrdering(r,n.newParent||r.parent);i&&(void 0!==i.parent&&(n.newParent=i.parent),n.newParentIndex=i.index)})}function AE(e,t,n){TE.call(this,e);var r=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:3,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:Process"]}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function i(e){var t=e.order;return t||(e.order=t=function(e){if(e.labelTarget)return{level:10};var t=Object(_d.f)(r,function(t){return jg(e,[t.type])});return t&&t.order||{level:1}}(e)),t}this.getOrdering=function(e,r){if(e.labelTarget)return{parent:t.getRootElement(),index:-1};var o=i(e);o.containers&&(r=function(e,t,r){for(var i=t;i&&!jg(i,r);)i=i.parent;if(!i)throw new Error(n("no parent for {element} in {parent}",{element:e.id,parent:t.id}));return i}(e,r,o.containers));var a=r.children.indexOf(e),s=Object(_d.g)(r.children,function(t){return!(!e.labelTarget&&t.labelTarget)&&o.level<i(t).level});return-1!==s&&-1!==a&&a<s&&(s-=1),{index:s,parent:r}}}TE.prototype.getOrdering=function(e,t){return null},AE.$inject=["eventBus","canvas","translate"];var RE={__depends__:[ky],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",AE]};function PE(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}PE.$inject=["eventBus","injector"],PE.prototype.execute=function(e,t){if(!e)throw new Error("command required");var n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction(n)},PE.prototype.canExecute=function(e,t){var n={command:e,context:t},r=this._getHandler(e),i=this._fire(e,"canExecute",n);if(void 0===i){if(!r)return!1;r.canExecute&&(i=r.canExecute(t))}return i},PE.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,!1!==e&&this._fire("changed")},PE.prototype.undo=function(){var e,t=this._getUndoAction();if(t){for(this._pushAction(t);t&&(this._internalUndo(t),(e=this._getUndoAction())&&e.id===t.id);)t=e;this._popAction()}},PE.prototype.redo=function(){var e,t=this._getRedoAction();if(t){for(this._pushAction(t);t&&(this._internalExecute(t,!0),(e=this._getRedoAction())&&e.id===t.id);)t=e;this._popAction()}},PE.prototype.register=function(e,t){this._setHandler(e,t)},PE.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");var n=this._injector.instantiate(t);this.register(e,n)},PE.prototype.canUndo=function(){return!!this._getUndoAction()},PE.prototype.canRedo=function(){return!!this._getRedoAction()},PE.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},PE.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},PE.prototype._internalUndo=function(e){var t=this,n=e.command,r=e.context,i=this._getHandler(n);this._atomicDo(function(){t._fire(n,"revert",e),i.revert&&t._markDirty(i.revert(r)),t._revertedAction(e),t._fire(n,"reverted",e)})},PE.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);var r,i,o,a=t?[e+"."+t,t]:[e];for(n=this._eventBus.createEvent(n),r=0;(i=a[r])&&(o=this._eventBus.fire("commandStack."+i,n),!n.cancelBubble);r++);return o},PE.prototype._createId=function(){return this._uid++},PE.prototype._atomicDo=function(e){var t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},PE.prototype._internalExecute=function(e,t){var n=this,r=e.command,i=e.context,o=this._getHandler(r);if(!o)throw new Error("no command handler registered for <"+r+">");this._pushAction(e),t||(this._fire(r,"preExecute",e),o.preExecute&&o.preExecute(i),this._fire(r,"preExecuted",e)),this._atomicDo(function(){n._fire(r,"execute",e),o.execute&&n._markDirty(o.execute(i)),n._executedAction(e,t),n._fire(r,"executed",e)}),t||(this._fire(r,"postExecute",e),o.postExecute&&o.postExecute(i),this._fire(r,"postExecuted",e)),this._popAction(e)},PE.prototype._pushAction=function(e){var t=this._currentExecution,n=t.actions,r=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=r&&r.id||this._createId()),n.push(e)},PE.prototype._popAction=function(){var e=this._currentExecution,t=e.actions,n=e.dirty;t.pop(),t.length||(this._eventBus.fire("elements.changed",{elements:Object(_d.C)("id",n)}),n.length=0,this._fire("changed"))},PE.prototype._markDirty=function(e){var t=this._currentExecution;e&&(e=Object(_d.l)(e)?e:[e],t.dirty=t.dirty.concat(e))},PE.prototype._executedAction=function(e,t){var n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},PE.prototype._revertedAction=function(e){this._stackIdx--},PE.prototype._getHandler=function(e){return this._handlerMap[e]},PE.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};var ME={commandStack:["type",PE]},DE=new wv("tt");function NE(e,t){e.style.display=!1===t?"none":""}var IE=".djs-tooltip";function BE(e,t){var n,r;this._eventBus=e,this._canvas=t,this._ids=DE,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=(n=t.getContainer(),r=Object(xd.f)('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />'),n.insertBefore(r,n.firstChild),r);var i=this;xd.e.bind(this._tooltipRoot,IE,"mousedown",function(e){e.stopPropagation()}),xd.e.bind(this._tooltipRoot,IE,"mouseover",function(e){i.trigger("mouseover",e)}),xd.e.bind(this._tooltipRoot,IE,"mouseout",function(e){i.trigger("mouseout",e)}),this._init()}BE.$inject=["eventBus","canvas"],BE.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var t=this._ids.next();return e=Object(_d.a)({},this._tooltipDefaults,e,{id:t}),this._addTooltip(e),e.timeout&&this.setTimeout(e),t},BE.prototype.trigger=function(e,t){var n=t.delegateTarget||t.target,r=this.get(Object(xd.a)(n,"data-tooltip-id"));r&&("mouseover"===e&&r.timeout&&this.clearTimeout(r),"mouseout"===e&&r.timeout&&(r.timeout=1e3,this.setTimeout(r)))},BE.prototype.get=function(e){return"string"!=typeof e&&(e=e.id),this._tooltips[e]},BE.prototype.clearTimeout=function(e){if(e=this.get(e)){var t=e.removeTimer;t&&(clearTimeout(t),e.removeTimer=null)}},BE.prototype.setTimeout=function(e){if(e=this.get(e)){this.clearTimeout(e);var t=this;e.removeTimer=setTimeout(function(){t.remove(e)},e.timeout)}},BE.prototype.remove=function(e){var t=this.get(e);t&&(Object(xd.k)(t.html),Object(xd.k)(t.htmlContainer),delete t.htmlContainer,delete this._tooltips[t.id])},BE.prototype.show=function(){NE(this._tooltipRoot)},BE.prototype.hide=function(){NE(this._tooltipRoot,!1)},BE.prototype._updateRoot=function(e){var t=e.scale||1,n=e.scale||1,r="matrix("+t+",0,0,"+n+","+-1*e.x*t+","+-1*e.y*n+")";this._tooltipRoot.style.transform=r,this._tooltipRoot.style["-ms-transform"]=r},BE.prototype._addTooltip=function(e){var t,n=e.id,r=e.html,i=this._tooltipRoot;r.get&&r.constructor.prototype.jquery&&(r=r.get(0)),Object(_d.q)(r)&&(r=Object(xd.f)(r)),(t=Object(xd.f)('<div data-tooltip-id="'+n+'" class="djs-tooltip" style="position: absolute">')).appendChild(r),e.type&&Object(xd.b)(t).add("djs-tooltip-"+e.type),e.className&&Object(xd.b)(t).add(e.className),e.htmlContainer=t,i.appendChild(t),this._tooltips[n]=e,this._updateTooltip(e)},BE.prototype._updateTooltip=function(e){var t,n,r,i=e.position;t=e.htmlContainer,n=i.x,r=i.y,Object(_d.a)(t.style,{left:n+"px",top:r+"px"})},BE.prototype._updateTooltipVisibilty=function(e){Object(_d.i)(this._tooltips,function(t){var n=t.show,r=!0;n&&((n.minZoom>e.scale||n.maxZoom<e.scale)&&(r=!1),NE(t.htmlContainer,r))})},BE.prototype._init=function(){var e=this;this._eventBus.on("canvas.viewbox.changing",function(t){e.hide()}),this._eventBus.on("canvas.viewbox.changed",function(t){var n;e._updateRoot(n=t.viewbox),e._updateTooltipVisibilty(n),e.show()})};var LE={__init__:["tooltips"],tooltips:["type",BE]};function FE(e,t){if("function"!=typeof t)throw new Error("removeFn iterator must be a function");if(e){for(var n;n=e[0];)t(n);return e}}var zE=250,VE=1400;function UE(e,t,n){Lg.call(this,t);var r=e.get("movePreview",!1);t.on("shape.move.start",VE,function(e){var t=e.context,n=t.validatedShapes;t.shapes=HE(t.shapes),t.validatedShapes=HE(n)}),r&&t.on("shape.move.start",zE,function(e){var t=e.context,n=t.shapes,i=[];Object(_d.i)(n,function(e){Object(_d.i)(e.labels,function(n){n.hidden||-1!==t.shapes.indexOf(n)||i.push(n),e.labelTarget&&i.push(e)})}),Object(_d.i)(i,function(e){r.makeDraggable(t,e,!0)})}),this.preExecuted("elements.move",VE,function(e){var t=e.context.closure,n=t.enclosedElements,r=[];Object(_d.i)(n,function(e){Object(_d.i)(e.labels,function(e){n[e.id]||r.push(e)})}),t.addAll(r)}),this.preExecute(["connection.delete","shape.delete"],function(e){var t=e.context;FE((t.connection||t.shape).labels,function(e){n.removeShape(e,{nested:!0})})}),this.execute("shape.delete",function(e){var t=e.context,n=t.shape,r=n.labelTarget;r&&(t.labelTargetIndex=Object(W_.b)(r.labels,n),t.labelTarget=r,n.labelTarget=null)}),this.revert("shape.delete",function(e){var t=e.context,n=t.shape,r=t.labelTarget,i=t.labelTargetIndex;r&&(Object(W_.a)(r.labels,n,i),n.labelTarget=r)})}function HE(e){return Object(_d.e)(e,function(t){return-1===e.indexOf(t.labelTarget)})}UE.$inject=["injector","eventBus","modeling"];var $E={__init__:["labelSupport"],labelSupport:["type",UE]};function WE(e,t,n){var r=Zv(t),i=Zv(n),o=Xv(e,r);return $y({x:i.x+o.x*(n.width/t.width),y:i.y+o.y*(n.height/t.height)})}function GE(e,t,n){var r=Zv(e),i=Zv(t),o=Zv(n),a=Xv(e,r),s=Xv(r,i);return $y({x:o.x+s.x*(n.width/t.width)+a.x-e.x,y:o.y+s.y*(n.height/t.height)+a.y-e.y})}var qE=251,KE=1401;function ZE(e,t,n,r){Lg.call(this,t);var i=e.get("movePreview",!1);t.on("shape.move.start",KE,function(e){var t,n,r=e.context,i=r.validatedShapes;r.shapes=(n=XE(t=r.shapes),Object(_d.B)("id",t,n)),r.validatedShapes=function(e){var t=Object(_d.j)(e,"id");return Object(_d.e)(e,function(e){for(;e;){if(e.host&&t[e.host.id])return!1;e=e.parent}return!0})}(i)}),i&&t.on("shape.move.start",qE,function(e){var t=e.context,n=XE(t.shapes);Object(_d.i)(n,function(e){i.makeDraggable(t,e,!0),Object(_d.i)(e.labels,function(e){i.makeDraggable(t,e,!0)})})}),this.preExecuted("elements.move",KE,function(e){var t=e.context,n=t.closure,r=XE(t.shapes);Object(_d.i)(r,function(e){n.add(e,n.topLevel[e.host.id])})}),this.postExecuted("elements.move",function(e){var t,n=e.context,i=n.shapes,o=n.newHost;i.length>1||(t=o?i:Object(_d.e)(i,function(e){return!!e.host}),Object(_d.i)(t,function(e){r.updateAttachment(e,o)}))}),this.postExecuted("elements.move",function(e){var t=e.context.shapes;Object(_d.i)(t,function(e){Object(_d.i)(e.attachers,function(e){Object(_d.i)(e.outgoing.slice(),function(e){n.allowed("connection.reconnectStart",{connection:e,source:e.source,target:e.target})||r.removeConnection(e)}),Object(_d.i)(e.incoming.slice(),function(e){n.allowed("connection.reconnectEnd",{connection:e,source:e.source,target:e.target})||r.removeConnection(e)})})})}),this.postExecute("shape.create",function(e){var t=e.context,n=t.host;n&&r.updateAttachment(t.shape,n)}),this.postExecute("shape.replace",function(e){var t=e.context,i=t.oldShape,o=t.newShape;FE(i.attachers,function(e){"attach"===n.allowed("elements.move",{target:o,shapes:[e]})?r.updateAttachment(e,o):r.removeShape(e)}),o.attachers.length&&Object(_d.i)(o.attachers,function(e){var t=GE(e,i,o);r.moveShape(e,t,e.parent)})}),this.postExecute("shape.resize",function(e){var t=e.context,n=t.oldBounds,i=t.newBounds,o=t.shape.attachers;Object(_d.i)(o,function(e){var t=GE(e,n,i);r.moveShape(e,t,e.parent),Object(_d.i)(e.labels,function(e){r.moveShape(e,t,e.parent)})})}),this.preExecute("shape.delete",function(e){var t=e.context.shape;FE(t.attachers,function(e){r.removeShape(e)}),t.host&&r.updateAttachment(t,null)}),t.on("spaceTool.move",function(e){var t=e.context;if(t.initialized&&!t.attachSupportInitialized){var n=t.movingShapes,r=Object(_d.e)(n,function(e){var t=e.host;return t&&-1===n.indexOf(t)});Object(_d.i)(r,function(e){Object(W_.c)(n,e),Object(_d.i)(e.labels,function(t){Object(W_.c)(n,e.label)})}),t.attachSupportInitialized=!0}})}function XE(e){return Object(_d.h)(Object(_d.t)(e,function(e){return e.attachers||[]}))}ZE.$inject=["injector","eventBus","rules","modeling"];var YE={__depends__:[nb],__init__:["attachSupport"],attachSupport:["type",ZE]};function QE(e,t){this._eventBus=e,this._dragging=t,this._tools=[],this._active=null}QE.$inject=["eventBus","dragging"],QE.prototype.registerTool=function(e,t){var n=this._tools;if(!t)throw new Error('A tool has to be registered with it\'s "events"');n.push(e),this.bindEvents(e,t)},QE.prototype.isActive=function(e){return e&&this._active===e},QE.prototype.length=function(e){return this._tools.length},QE.prototype.setActive=function(e){var t=this._eventBus;this._active!==e&&(this._active=e,t.fire("tool-manager.update",{tool:e}))},QE.prototype.bindEvents=function(e,t){var n=this._eventBus,r=this._dragging,i=[];n.on(t.tool+".init",function(t){if(!t.context.reactivate&&this.isActive(e))return this.setActive(null),void r.cancel();this.setActive(e)},this),Object(_d.i)(t,function(e){i.push(e+".ended"),i.push(e+".canceled")}),n.on(i,250,function(e){var t=e.originalEvent;this._active&&(t&&Object(xd.d)(t.target,'.group[data-group="tools"]')||this.setActive(null))},this)};var JE={__depends__:[Xg],__init__:["toolManager"],toolManager:["type",QE]};function eO(e,t){if("x"===e){if(t>0)return"e";if(t<0)return"w"}if("y"===e){if(t>0)return"s";if(t<0)return"n"}return null}var tO=Math.abs,nO=Math.round,rO=1500,iO={x:"width",y:"height"},oO={x:"y",y:"x"};function aO(e,t,n,r,i,o){this._canvas=n,this._dragging=t,this._modeling=r,this._rules=i,this._toolManager=o;var a=this;o.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),e.on("spaceTool.selection.end",function(t){(t.hover||t.originalEvent.target instanceof SVGElement)&&e.once("spaceTool.selection.ended",function(){a.activateMakeSpace(t.originalEvent)})}),e.on("spaceTool.move",rO,function(e){var t=e.context;t.initialized||(t.initialized=a.initializeMakeSpace(e,t))}),e.on("spaceTool.end",function(t){var n=t.context,r=n.axis,i=n.direction,o=n.movingShapes,s=n.resizingShapes;if(n.initialized){var c={x:nO(t.dx),y:nO(t.dy)};c[oO[r]]=0;var u=!0;Object(_d.i)(s,function(e){("w"===i&&t.x>e.x+e.width||"e"===i&&t.x<e.x||"n"===i&&t.y>e.y+e.height||"s"===i&&t.y<e.y)&&(u=!1)}),u&&a.makeSpace(o,s,c,i),e.once("spaceTool.ended",function(e){a.activateSelection(e.originalEvent,!0,!0)})}})}aO.$inject=["eventBus","dragging","canvas","modeling","rules","toolManager"],aO.prototype.activateSelection=function(e,t,n){this._dragging.init(e,"spaceTool.selection",{trapClick:!1,cursor:"crosshair",autoActivate:t,data:{context:{reactivate:n}}})},aO.prototype.activateMakeSpace=function(e){this._dragging.init(e,"spaceTool",{autoActivate:!0,cursor:"crosshair",data:{context:{}}})},aO.prototype.makeSpace=function(e,t,n,r){return this._modeling.createSpace(e,t,n,r)},aO.prototype.initializeMakeSpace=function(e,t){var n=tO(e.dx)>tO(e.dy)?"x":"y",r=e["d"+n],i=e[n]-r;if(tO(r)<5)return!1;r<0&&(r*=-1),ov(e)&&(r*=-1);var o=this._canvas.getRootElement(),a=Object(lv.f)(o,!0),s=this.calculateAdjustments(a,n,r,i);return Object(_d.a)(t,s,{axis:n,direction:eO(n,r)}),Wv("resize-"+("x"===n?"ew":"ns")),!0},aO.prototype.calculateAdjustments=function(e,t,n,r){var i=[],o=[],a=this._rules;return e.forEach(function(e){var s=e[t],c=s+e[iO[t]];if(e.parent&&!e.waypoints)return n>0&&s>r?i.push(e):n<0&&c<r?i.push(e):s<r&&c>r&&a.allowed("shape.resize",{shape:e})?o.push(e):void 0}),{movingShapes:i,resizingShapes:o}},aO.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},aO.prototype.isActive=function(){var e=this._dragging.context();return e&&/^spaceTool/.test(e.prefix)};var sO="djs-dragging",cO="djs-resizing",uO=250;function lO(e,t,n,r,i){function o(e,t){Object(_d.i)(e,function(e){i.addDragger(e,t),n.addMarker(e,sO)})}e.on("spaceTool.selection.start",function(e){var t=n.getLayer("space"),i=e.context,o=Object(Ed.f)("g");Object(Ed.b)(o,r.cls("djs-crosshair-group",["no-events"])),Object(Ed.a)(t,o);var a=Object(Ed.f)("path");Object(Ed.b)(a,"d","M 0,-10000 L 0,10000"),Object(Ed.c)(a).add("djs-crosshair"),Object(Ed.a)(o,a);var s=Object(Ed.f)("path");Object(Ed.b)(s,"d","M -10000,0 L 10000,0"),Object(Ed.c)(s).add("djs-crosshair"),Object(Ed.a)(o,s),i.crosshairGroup=o}),e.on("spaceTool.selection.move",function(e){var t=e.context.crosshairGroup;Object(sy.c)(t,e.x,e.y)}),e.on("spaceTool.selection.cleanup",function(e){var t=e.context.crosshairGroup;t&&Object(Ed.j)(t)}),e.on("spaceTool.move",uO,function(e){var a=e.context,s=a.line,c=a.axis,u=a.movingShapes,l=a.resizingShapes;if(a.initialized){if(!a.dragGroup){var p=n.getLayer("space");s=Object(Ed.f)("path"),Object(Ed.b)(s,"d","M0,0 L0,0"),Object(Ed.c)(s).add("djs-crosshair"),Object(Ed.a)(p,s),a.line=s;var h=Object(Ed.f)("g");Object(Ed.b)(h,r.cls("djs-drag-group",["no-events"])),Object(Ed.a)(n.getDefaultLayer(),h),o(u,h),o(a.movingConnections=t.filter(function(e){var t=!1;Object(_d.i)(u,function(n){Object(_d.i)(n.outgoing,function(n){e===n&&(t=!0)})});var n=!1;Object(_d.i)(u,function(t){Object(_d.i)(t.incoming,function(t){e===t&&(n=!0)})});var r=!1;Object(_d.i)(l,function(t){Object(_d.i)(t.outgoing,function(t){e===t&&(r=!0)})});var i=!1;return Object(_d.i)(l,function(t){Object(_d.i)(t.incoming,function(t){e===t&&(i=!0)})}),function(e){return e.waypoints}(e)&&(t||r)&&(n||i)}),h),a.dragGroup=h}if(!a.frameGroup){var f=Object(Ed.f)("g");Object(Ed.b)(f,r.cls("djs-frame-group",["no-events"])),Object(Ed.a)(n.getDefaultLayer(),f);var d=[];Object(_d.i)(l,function(e){var t=i.addFrame(e,f);d.push({element:t,initialWidth:t.getBBox().width,initialHeight:t.getBBox().height}),n.addMarker(e,cO)}),a.frameGroup=f,a.frames=d}var m={x:"M"+e.x+", -10000 L"+e.x+", 10000",y:"M -10000, "+e.y+" L 10000, "+e.y};Object(Ed.b)(s,{path:m[c],display:""});var y={x:e.dx,y:e.dy};y[{x:"y",y:"x"}[a.axis]]=0,Object(sy.c)(a.dragGroup,y.x,y.y),Object(_d.i)(a.frames,function(e){e.initialWidth+y.x>5&&Object(Ed.b)(e.element,{width:e.initialWidth+y.x}),e.initialHeight+y.y>5&&Object(Ed.b)(e.element,{height:e.initialHeight+y.y})})}}),e.on("spaceTool.cleanup",function(e){var t=e.context,r=t.movingShapes,i=t.movingConnections,o=t.resizingShapes,a=t.line,s=t.dragGroup,c=t.frameGroup;Object(_d.i)(r,function(e){n.removeMarker(e,sO)}),Object(_d.i)(i,function(e){n.removeMarker(e,sO)}),s&&(Object(Ed.j)(a),Object(Ed.j)(s)),Object(_d.i)(o,function(e){n.removeMarker(e,cO)}),c&&Object(Ed.j)(c)})}lO.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var pO={__init__:["spaceToolPreview"],__depends__:[Xg,nb,JE,b_],spaceTool:["type",aO],spaceToolPreview:["type",lO]};function hO(e){this._model=e}hO.$inject=["moddle"],hO.prototype._needsId=function(e){return jg(e,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property"])},hO.prototype._ensureId=function(e){var t=(e.$type||"").replace(/^[^:]*:/g,"")+"_";!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e))},hO.prototype.create=function(e,t){var n=this._model.create(e,t||{});return this._ensureId(n),n},hO.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},hO.prototype.createDiShape=function(e,t,n){return this.create("bpmndi:BPMNShape",Object(_d.a)({bpmnElement:e,bounds:this.createDiBounds(t)},n))},hO.prototype.createDiBounds=function(e){return this.create("dc:Bounds",e)},hO.prototype.createDiWaypoints=function(e){var t=this;return Object(_d.t)(e,function(e){return t.createDiWaypoint(e)})},hO.prototype.createDiWaypoint=function(e){return this.create("dc:Point",Object(_d.w)(e,["x","y"]))},hO.prototype.createDiEdge=function(e,t,n){return this.create("bpmndi:BPMNEdge",Object(_d.a)({bpmnElement:e},n))},hO.prototype.createDiPlane=function(e){return this.create("bpmndi:BPMNPlane",{bpmnElement:e})};var fO=n("3V+g");function dO(e,t,n,r){Lg.call(this,e),this._bpmnFactory=t,this._translate=r;var i=this;function o(e){var t=e.context.oldRoot.children;Object(_d.i)(t,function(e){Xm(e,"bpmn:BaseElement")&&i.updateParent(e)})}function a(e){var t=e.context.shape;Xm(t,"bpmn:BaseElement")&&i.updateBounds(t)}function s(e){i.updateConnection(e.context)}function c(e){i.updateConnectionWaypoints(e.context.connection)}function u(e){i.updateAttachment(e.context)}this.executed(["connection.layout","connection.create","connection.reconnectEnd","connection.reconnectStart"],function(e){var t,r=e.context;r.cropped||((t=r.connection).waypoints=n.getCroppedWaypoints(t),r.cropped=!0)}),this.reverted(["connection.layout"],function(e){delete e.context.cropped}),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],mO(function(e){var t=e.context;i.updateParent(t.shape||t.connection,t.oldParent)})),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],mO(function(e){var t=e.context;i.updateParent(t.shape||t.connection,t.parent||t.newParent)})),this.executed(["canvas.updateRoot"],o),this.reverted(["canvas.updateRoot"],o),this.executed(["shape.move","shape.create","shape.resize"],mO(function(e){"label"!==e.context.shape.type&&a(e)})),this.reverted(["shape.move","shape.create","shape.resize"],mO(function(e){"label"!==e.context.shape.type&&a(e)})),e.on("shape.changed",function(e){"label"===e.element.type&&a({context:{shape:e.element}})}),this.executed(["connection.create","connection.move","connection.delete","connection.reconnectEnd","connection.reconnectStart"],mO(s)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnectEnd","connection.reconnectStart"],mO(s)),this.executed(["connection.layout","connection.move","connection.updateWaypoints","connection.reconnectEnd","connection.reconnectStart"],mO(c)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints","connection.reconnectEnd","connection.reconnectStart"],mO(c)),this.executed(["connection.reconnectEnd","connection.reconnectStart"],mO(function(e){var t=e.context,n=t.connection,r=Ym(n),i=Ym(t.oldSource),o=Ym(t.oldTarget),a=Ym(n.source),s=Ym(n.target);i!==a&&o!==s&&(i&&i.default===r&&(t.default=i.default,i.default=void 0),r.sourceRef&&r.sourceRef.default&&!(Xm(s,"bpmn:Activity")||Xm(s,"bpmn:EndEvent")||Xm(s,"bpmn:Gateway")||Xm(s,"bpmn:IntermediateThrowEvent"))&&(t.default=r.sourceRef.default,r.sourceRef.default=void 0),i&&r.conditionExpression&&!Xm(a,"bpmn:Activity")&&!Xm(a,"bpmn:Gateway")&&(t.conditionExpression=r.conditionExpression,r.conditionExpression=void 0),o&&r.conditionExpression&&!(Xm(s,"bpmn:Activity")||Xm(s,"bpmn:EndEvent")||Xm(s,"bpmn:Gateway")||Xm(s,"bpmn:IntermediateThrowEvent"))&&(t.conditionExpression=r.conditionExpression,r.conditionExpression=void 0))})),this.reverted(["connection.reconnectEnd","connection.reconnectStart"],mO(function(e){var t=e.context,n=t.connection,r=Ym(n),i=Ym(n.source);t.default&&(Xm(i,"bpmn:ExclusiveGateway")||Xm(i,"bpmn:InclusiveGateway")||Xm(i,"bpmn:Activity"))&&(i.default=t.default),t.conditionExpression&&Xm(i,"bpmn:Activity")&&(r.conditionExpression=t.conditionExpression)})),this.executed(["element.updateAttachment"],mO(u)),this.reverted(["element.updateAttachment"],mO(u))}function mO(e){return function(t){var n=t.context;Xm(n.shape||n.connection,"bpmn:BaseElement")&&e(t)}}dO.$inject=["eventBus","bpmnFactory","connectionDocking","translate"],dO.prototype.updateAttachment=function(e){var t=e.shape,n=t.host;t.businessObject.attachedToRef=n&&n.businessObject},dO.prototype.updateParent=function(e,t){if(!(e instanceof fO.b||Xm(e,"bpmn:DataStoreReference")&&e.parent&&Xm(e.parent,"bpmn:Collaboration"))){var n=e.parent,r=e.businessObject,i=n&&n.businessObject,o=i&&i.di;Xm(e,"bpmn:FlowNode")&&this.updateFlowNodeRefs(r,i,t&&t.businessObject),Xm(e,"bpmn:DataOutputAssociation")&&(i=e.source?e.source.businessObject:null),Xm(e,"bpmn:DataInputAssociation")&&(i=e.target?e.target.businessObject:null),this.updateSemanticParent(r,i),Xm(e,"bpmn:DataObjectReference")&&r.dataObjectRef&&this.updateSemanticParent(r.dataObjectRef,i),this.updateDiParent(r.di,o)}},dO.prototype.updateBounds=function(e){var t=e.businessObject.di,n=e instanceof fO.b?this._getLabel(t):t,r=n.bounds;r||(r=this._bpmnFactory.createDiBounds(),n.set("bounds",r)),Object(_d.a)(r,{x:e.x,y:e.y,width:e.width,height:e.height})},dO.prototype.updateFlowNodeRefs=function(e,t,n){var r,i;n!==t&&(Xm(n,"bpmn:Lane")&&(r=n.get("flowNodeRef"),Object(W_.c)(r,e)),Xm(t,"bpmn:Lane")&&(i=t.get("flowNodeRef"),Object(W_.a)(i,e)))},dO.prototype.updateDiConnection=function(e,t,n){e.sourceElement&&e.sourceElement.bpmnElement!==t&&(e.sourceElement=t&&t.di),e.targetElement&&e.targetElement.bpmnElement!==n&&(e.targetElement=n&&n.di)},dO.prototype.updateDiParent=function(e,t){if(t&&!Xm(t,"bpmndi:BPMNPlane")&&(t=t.$parent),e.$parent!==t){var n=(t||e.$parent).get("planeElement");t?(n.push(e),e.$parent=t):(Object(W_.c)(n,e),e.$parent=null)}},dO.prototype.getLaneSet=function(e){var t,n;return Xm(e,"bpmn:Lane")?((t=e.childLaneSet)||(t=this._bpmnFactory.create("bpmn:LaneSet"),e.childLaneSet=t,t.$parent=e),t):(Xm(e,"bpmn:Participant")&&(e=e.processRef),(t=(n=e.get("laneSets"))[0])||((t=this._bpmnFactory.create("bpmn:LaneSet")).$parent=e,n.push(t)),t)},dO.prototype.updateSemanticParent=function(e,t,n){var r,i=this._translate;if(e.$parent!==t){if(Xm(e,"bpmn:Lane"))t&&(t=this.getLaneSet(t)),r="lanes";else if(Xm(e,"bpmn:FlowElement")){if(t)if(Xm(t,"bpmn:Participant"))t=t.processRef;else if(Xm(t,"bpmn:Lane"))do{t=t.$parent.$parent}while(Xm(t,"bpmn:Lane"));r="flowElements"}else if(Xm(e,"bpmn:Artifact")){for(;t&&!Xm(t,"bpmn:Process")&&!Xm(t,"bpmn:SubProcess")&&!Xm(t,"bpmn:Collaboration");){if(Xm(t,"bpmn:Participant")){t=t.processRef;break}t=t.$parent}r="artifacts"}else if(Xm(e,"bpmn:MessageFlow"))r="messageFlows";else if(Xm(e,"bpmn:Participant")){r="participants";var o,a=e.processRef;a&&(o=function(e){for(;e&&!Xm(e,"bpmn:Definitions");)e=e.$parent;return e}(e.$parent||t),e.$parent&&(Object(W_.c)(o.get("rootElements"),a),a.$parent=null),t&&(Object(W_.a)(o.get("rootElements"),a),a.$parent=o))}else Xm(e,"bpmn:DataOutputAssociation")?r="dataOutputAssociations":Xm(e,"bpmn:DataInputAssociation")&&(r="dataInputAssociations");if(!r)throw new Error(i("no parent for {element} in {parent}",{element:e.id,parent:t.id}));var s;if(e.$parent&&(s=e.$parent.get(r),Object(W_.c)(s,e)),t?((s=t.get(r)).push(e),e.$parent=t):e.$parent=null,n){var c=n.get(r);Object(W_.c)(s,e),t&&(c||t.set(r,c=[]),c.push(e))}}},dO.prototype.updateConnectionWaypoints=function(e){e.businessObject.di.set("waypoint",this._bpmnFactory.createDiWaypoints(e.waypoints))},dO.prototype.updateConnection=function(e){var t=e.connection,n=Ym(t),r=Ym(t.source),i=Ym(t.target);if(Xm(n,"bpmn:DataAssociation"))Xm(n,"bpmn:DataInputAssociation")?(n.get("sourceRef")[0]=r,this.updateSemanticParent(n,i,parent.businessObject)):Xm(n,"bpmn:DataOutputAssociation")&&(this.updateSemanticParent(n,r,e.parent||e.newParent||r),n.targetRef=i);else{var o=Xm(n,"bpmn:SequenceFlow");n.sourceRef!==r&&(o&&(Object(W_.c)(n.sourceRef&&n.sourceRef.get("outgoing"),n),r&&r.get("outgoing")&&r.get("outgoing").push(n)),n.sourceRef=r),n.targetRef!==i&&(o&&(Object(W_.c)(n.targetRef&&n.targetRef.get("incoming"),n),i&&i.get("incoming")&&i.get("incoming").push(n)),n.targetRef=i)}this.updateConnectionWaypoints(t),this.updateDiConnection(n.di,r,i)},dO.prototype._getLabel=function(e){return e.label||(e.label=this._bpmnFactory.createDiLabel()),e.label};var yO=n("SIjO");function vO(e,t,n){yO.a.call(this),this._bpmnFactory=e,this._moddle=t,this._translate=n}function gO(e,t,n){e[n]=t[n],delete t[n]}function bO(e){this._modeling=e}vO.$inject=["bpmnFactory","moddle","translate"],vO.prototype.baseCreate=yO.a.prototype.create,vO.prototype.create=function(e,t){return"label"===e?this.baseCreate(e,Object(_d.a)({type:"label"},Ty,t)):this.createBpmnElement(e,t)},vO.prototype.createBpmnElement=function(e,t){var n,r,i,o=(t=t||{}).businessObject;if(!o){if(!t.type)throw new Error((0,this._translate)("no shape type specified"));o=this._bpmnFactory.create(t.type)}return o.di||(o.di="root"===e?this._bpmnFactory.createDiPlane(o,[],{id:o.id+"_di"}):"connection"===e?this._bpmnFactory.createDiEdge(o,[],{id:o.id+"_di"}):this._bpmnFactory.createDiShape(o,{},{id:o.id+"_di"})),t.colors&&(Object(_d.a)(o.di,t.colors),delete t.colors),function(e,t,n){Object(_d.i)(["processRef","isInterrupting","associationDirection","isForCompensation"],function(n){void 0!==t[n]&&gO(e,t,n)})}(o,t),t.isExpanded&&gO(o.di,t,"isExpanded"),Xm(o,"bpmn:ExclusiveGateway")&&(o.di.isMarkerVisible=!0),t.eventDefinitionType&&(r=o.get("eventDefinitions")||[],i=this._moddle.create(t.eventDefinitionType),"bpmn:ConditionalEventDefinition"===t.eventDefinitionType&&(i.condition=this._moddle.create("bpmn:FormalExpression")),r.push(i),i.$parent=o,o.eventDefinitions=r,delete t.eventDefinitionType),n=this._getDefaultSize(o),t=Object(_d.a)({businessObject:o,id:o.id},n,t),this.baseCreate(e,t)},vO.prototype._getDefaultSize=function(e){return Xm(e,"bpmn:SubProcess")?Qm(e)?{width:350,height:200}:{width:100,height:80}:Xm(e,"bpmn:Task")?{width:100,height:80}:Xm(e,"bpmn:Gateway")?{width:50,height:50}:Xm(e,"bpmn:Event")?{width:36,height:36}:Xm(e,"bpmn:Participant")?Qm(e)?{width:600,height:250}:{width:400,height:100}:Xm(e,"bpmn:Lane")?{width:400,height:100}:Xm(e,"bpmn:DataObjectReference")?{width:36,height:50}:Xm(e,"bpmn:DataStoreReference")?{width:50,height:50}:Xm(e,"bpmn:TextAnnotation")?{width:100,height:30}:{width:100,height:80}},vO.prototype.createParticipantShape=function(e){var t={type:"bpmn:Participant"};return e||(t.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(t)},bO.$inject=["modeling"],bO.prototype.preExecute=function(e){var t=e.source;if(!t)throw new Error("source required");var n=e.shape;n=e.shape=this._modeling.createShape(n,e.position,e.target||t.parent,{attach:e.attach}),e.shape=n},bO.prototype.postExecute=function(e){var t,n,r=e.connectionParent||e.shape.parent;t=e.source,n=e.shape,Object(_d.z)(t.outgoing,function(e){return e.target===n})||this._modeling.connect(e.source,e.shape,e.connection,r)};var wO=Math.round;function _O(e){this._canvas=e}function xO(e,t){this._canvas=e,this._modeling=t}function EO(e,t,n){var r=kO(e)[0];return WE(r.original||r,n,t)}function OO(e,t,n){var r=kO(e),i=r[r.length-1];return WE(i.original||i,n,t)}function jO(e,t,n){return EO(e,t,CO(t,n))}function SO(e,t,n){return OO(e,t,CO(t,n))}function CO(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function kO(e){var t=e.waypoints;if(!t.length)throw new Error("connection#"+e.id+": no waypoints");return t}function TO(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function AO(e){this._modeling=e}function RO(e){this._modeling=e,this._helper=new AO(e)}function PO(e){this._modeling=e}function MO(e,t){this._modeling=e,this._rules=t}function DO(e){this._modeling=e}function NO(e){this._modeling=e}function IO(e){_O.call(this,e)}_O.$inject=["canvas"],_O.prototype.execute=function(e){var t=e.shape,n=e.position,r=e.parent,i=e.parentIndex;if(!r)throw new Error("parent required");if(!n)throw new Error("position required");return void 0!==n.width?Object(_d.a)(t,n):Object(_d.a)(t,{x:n.x-wO(t.width/2),y:n.y-wO(t.height/2)}),this._canvas.addShape(t,r,i),t},_O.prototype.revert=function(e){this._canvas.removeShape(e.shape)},xO.$inject=["canvas","modeling"],xO.prototype.preExecute=function(e){var t=this._modeling,n=e.shape;FE(n.incoming,function(e){t.removeConnection(e,{nested:!0})}),FE(n.outgoing,function(e){t.removeConnection(e,{nested:!0})}),FE(n.children,function(e){e.waypoints?t.removeConnection(e,{nested:!0}):t.removeShape(e,{nested:!0})})},xO.prototype.execute=function(e){var t=this._canvas,n=e.shape,r=n.parent;return e.oldParent=r,e.oldParentIndex=Object(W_.b)(r.children,n),t.removeShape(n),n},xO.prototype.revert=function(e){var t=this._canvas,n=e.shape,r=e.oldParent,i=e.oldParentIndex;return Object(W_.a)(r.children,n,i),t.addShape(n,r),n},TO.prototype.add=function(e,t){return this.addAll([e],t)},TO.prototype.addAll=function(e,t){var n=Object(lv.c)(e,!!t,this);return Object(_d.a)(this,n),this},AO.prototype.moveRecursive=function(e,t,n){return e?this.moveClosure(this.getClosure(e),t,n):[]},AO.prototype.moveClosure=function(e,t,n,r,i){var o=this._modeling,a=e.allShapes,s=e.allConnections,c=e.enclosedConnections,u=e.topLevel,l=!1;i&&i.parent===n&&(l=!0),Object(_d.i)(a,function(e){o.moveShape(e,t,u[e.id]&&!l&&n,{recurse:!1,layout:!1})}),Object(_d.i)(s,function(e){var r=!!a[e.source.id],i=!!a[e.target.id];c[e.id]&&r&&i?o.moveConnection(e,t,u[e.id]&&!l&&n):o.layoutConnection(e,{connectionStart:r&&jO(e,e.source,t),connectionEnd:i&&SO(e,e.target,t)})})},AO.prototype.getClosure=function(e){return(new TO).addAll(e,!0)},RO.$inject=["modeling"],RO.prototype.execute=function(e){var t=e.shape,n=e.delta,r=e.newParent||t.parent,i=e.newParentIndex,o=t.parent;return e.oldBounds=Object(_d.w)(t,["x","y","width","height"]),e.oldParent=o,e.oldParentIndex=Object(W_.c)(o.children,t),Object(W_.a)(r.children,t,i),Object(_d.a)(t,{parent:r,x:t.x+n.x,y:t.y+n.y}),t},RO.prototype.postExecute=function(e){var t=e.shape,n=e.delta,r=e.hints,i=this._modeling;!1!==r.layout&&(Object(_d.i)(t.incoming,function(e){i.layoutConnection(e,{connectionEnd:SO(e,t,n)})}),Object(_d.i)(t.outgoing,function(e){i.layoutConnection(e,{connectionStart:jO(e,t,n)})})),!1!==r.recurse&&this.moveChildren(e)},RO.prototype.revert=function(e){var t=e.shape,n=e.oldParent,r=e.oldParentIndex,i=e.delta;return Object(W_.a)(n.children,t,r),Object(_d.a)(t,{parent:n,x:t.x-i.x,y:t.y-i.y}),t},RO.prototype.moveChildren=function(e){this._helper.moveRecursive(e.shape.children,e.delta,null)},RO.prototype.getNewParent=function(e){return e.newParent||e.shape.parent},PO.$inject=["modeling"],PO.prototype.execute=function(e){var t=e.shape,n=e.newBounds,r=e.minBounds;if(void 0===n.x||void 0===n.y||void 0===n.width||void 0===n.height)throw new Error("newBounds must have {x, y, width, height} properties");if(r&&(n.width<r.width||n.height<r.height))throw new Error("width and height cannot be less than minimum height and width");if(!r&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return e.oldBounds={width:t.width,height:t.height,x:t.x,y:t.y},Object(_d.a)(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},PO.prototype.postExecute=function(e){var t=e.shape,n=e.oldBounds,r=this._modeling;Object(_d.i)(t.incoming,function(e){r.layoutConnection(e,{connectionEnd:OO(e,t,n)})}),Object(_d.i)(t.outgoing,function(e){r.layoutConnection(e,{connectionStart:EO(e,t,n)})})},PO.prototype.revert=function(e){var t=e.shape,n=e.oldBounds;return Object(_d.a)(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},MO.$inject=["modeling","rules"],MO.prototype.preExecute=function(e){var t,n,r=this,i=this._modeling,o=this._rules,a=e.oldShape,s=e.newData,c=e.hints;function u(e,t,n,r){return o.allowed(e,{source:t,target:n,connection:r})}t=e.newShape=e.newShape||r.createShape(s,{x:s.x,y:s.y},a.parent,c),a.host&&i.updateAttachment(t,a.host),!1!==c.moveChildren&&(n=a.children.slice(),i.moveElements(n,{x:0,y:0},t));var l=a.incoming.slice(),p=a.outgoing.slice();Object(_d.i)(l,function(e){var n=e.waypoints,i=n[n.length-1];u("connection.reconnectEnd",e.source,t,e)&&r.reconnectEnd(e,t,i)}),Object(_d.i)(p,function(e){var n=e.waypoints[0];u("connection.reconnectStart",t,e.target,e)&&r.reconnectStart(e,t,n)})},MO.prototype.postExecute=function(e){var t=this._modeling,n=e.oldShape,r=e.newShape;Object(_d.i)(r.incoming,function(e){t.layoutConnection(e,{endChanged:!0})}),Object(_d.i)(r.outgoing,function(e){t.layoutConnection(e,{startChanged:!0})}),t.removeShape(n)},MO.prototype.execute=function(e){},MO.prototype.revert=function(e){},MO.prototype.createShape=function(e,t,n,r){return this._modeling.createShape(e,t,n,r)},MO.prototype.reconnectStart=function(e,t,n){this._modeling.reconnectStart(e,t,n)},MO.prototype.reconnectEnd=function(e,t,n){this._modeling.reconnectEnd(e,t,n)},DO.$inject=["modeling"],DO.prototype.execute=function(e){var t,n,r=e.shape,i=r.children;return e.oldChildrenVisibility=(t={},i.forEach(function(e){t[e.id]=e.hidden}),t),r.collapsed=!r.collapsed,n=r.collapsed,i.forEach(function(e){e.hidden=n}),[r].concat(i)},DO.prototype.revert=function(e){var t,n=e.shape,r=n.children;return t=e.oldChildrenVisibility,r.forEach(function(e){e.hidden=t[e.id]}),n.collapsed=!n.collapsed,[n].concat(r)},NO.$inject=["modeling"],NO.prototype.preExecute=function(e){var t=this._modeling,n=e.resizingShapes,r=e.delta,i=e.direction;Object(_d.i)(n,function(e){var n=function(e,t,n){var r=n.x,i=n.y;switch(t){case"n":return{x:e.x,y:e.y+i,width:e.width,height:e.height-i};case"s":return{x:e.x,y:e.y,width:e.width,height:e.height+i};case"w":return{x:e.x+r,y:e.y,width:e.width-r,height:e.height};case"e":return{x:e.x,y:e.y,width:e.width+r,height:e.height};default:throw new Error("unrecognized direction: "+t)}}(e,i,r);t.resizeShape(e,n)})},NO.prototype.postExecute=function(e){this._modeling.moveElements(e.movingShapes,e.delta,void 0,{autoResize:!1,attach:!1})},NO.prototype.execute=function(e){},NO.prototype.revert=function(e){},IO.$inject=["canvas"];var BO=_O.prototype.execute;IO.prototype.execute=function(e){var t=e.shape;return function(e){["width","height"].forEach(function(t){void 0===e[t]&&(e[t]=0)})}(t),t.labelTarget=e.labelTarget,BO.call(this,e)};var LO=_O.prototype.revert;function FO(e,t){this._canvas=e,this._layouter=t}function zO(e,t){this._canvas=e,this._modeling=t}function VO(){}function UO(e,t){this._layouter=e,this._canvas=t}function HO(){}function $O(){}function WO(e){this._helper=new AO(e)}function GO(e,t){this._modeling=e,this._elementRegistry=t}function qO(e){this._modeling=e}IO.prototype.revert=function(e){return e.shape.labelTarget=null,LO.call(this,e)},FO.$inject=["canvas","layouter"],FO.prototype.execute=function(e){var t=e.connection,n=e.source,r=e.target,i=e.parent,o=e.parentIndex,a=e.hints;if(!n||!r)throw new Error("source and target required");if(!i)throw new Error("parent required");return t.source=n,t.target=r,t.waypoints||(t.waypoints=this._layouter.layoutConnection(t,a)),this._canvas.addConnection(t,i,o),t},FO.prototype.revert=function(e){var t=e.connection;this._canvas.removeConnection(t),t.source=null,t.target=null},zO.$inject=["canvas","modeling"],zO.prototype.execute=function(e){var t=e.connection,n=t.parent;return e.parent=n,e.parentIndex=Object(W_.b)(n.children,t),e.source=t.source,e.target=t.target,this._canvas.removeConnection(t),t.source=null,t.target=null,t},zO.prototype.revert=function(e){var t=e.connection,n=e.parent,r=e.parentIndex;return t.source=e.source,t.target=e.target,Object(W_.a)(n.children,t,r),this._canvas.addConnection(t,n),t},VO.prototype.execute=function(e){var t=e.connection,n=e.delta,r=e.newParent||t.parent,i=e.newParentIndex,o=t.parent;return e.oldParent=o,e.oldParentIndex=Object(W_.c)(o.children,t),Object(W_.a)(r.children,t,i),t.parent=r,Object(_d.i)(t.waypoints,function(e){e.x+=n.x,e.y+=n.y,e.original&&(e.original.x+=n.x,e.original.y+=n.y)}),t},VO.prototype.revert=function(e){var t=e.connection,n=t.parent,r=e.oldParent,i=e.oldParentIndex,o=e.delta;return Object(W_.c)(n.children,t),Object(W_.a)(r.children,t,i),t.parent=r,Object(_d.i)(t.waypoints,function(e){e.x-=o.x,e.y-=o.y,e.original&&(e.original.x-=o.x,e.original.y-=o.y)}),t},UO.$inject=["layouter","canvas"],UO.prototype.execute=function(e){var t=e.connection,n=t.waypoints;return Object(_d.a)(e,{oldWaypoints:n}),t.waypoints=this._layouter.layoutConnection(t,e.hints),t},UO.prototype.revert=function(e){var t=e.connection;return t.waypoints=e.oldWaypoints,t},HO.prototype.execute=function(e){var t=e.connection,n=e.newWaypoints;return e.oldWaypoints=t.waypoints,t.waypoints=n,t},HO.prototype.revert=function(e){var t=e.connection;return t.waypoints=e.oldWaypoints,t},$O.$inject=[],$O.prototype.execute=function(e){var t,n=e.newSource,r=e.newTarget,i=e.connection,o=e.dockingOrPoints,a=i.waypoints;if(!n&&!r)throw new Error("newSource or newTarget are required");if(n&&r)throw new Error("must specify either newSource or newTarget");return e.oldWaypoints=a,Object(_d.l)(o)?t=o:(t=a.slice()).splice(n?0:-1,1,o),n&&(e.oldSource=i.source,i.source=n),r&&(e.oldTarget=i.target,i.target=r),i.waypoints=t,i},$O.prototype.revert=function(e){var t=e.newTarget,n=e.connection;return e.newSource&&(n.source=e.oldSource),t&&(n.target=e.oldTarget),n.waypoints=e.oldWaypoints,n},WO.$inject=["modeling"],WO.prototype.preExecute=function(e){e.closure=this._helper.getClosure(e.shapes)},WO.prototype.postExecute=function(e){var t,n=e.hints;n&&n.primaryShape&&(n.oldParent=(t=n.primaryShape).parent),this._helper.moveClosure(e.closure,e.delta,e.newParent,e.newHost,t)},GO.$inject=["modeling","elementRegistry"],GO.prototype.postExecute=function(e){var t=this._modeling,n=this._elementRegistry,r=e.elements;Object(_d.i)(r,function(e){n.get(e.id)&&(e.waypoints?t.removeConnection(e):t.removeShape(e))})},qO.$inject=["modeling"];var KO={x:"y",y:"x"};function ZO(e,t){this._modeling=e,this._canvas=t}function XO(e){this._modeling=e}function YO(e,t){return Object(W_.c)(e&&e.attachers,t)}function QO(e,t,n){if(e){var r=e.attachers;r||(e.attachers=r=[]),Object(W_.a)(r,t,n)}}function JO(e,t){Object(_d.i)(t,function(t){e[t]&&delete e[t]})}function ej(e,t,n,r,i,o){this._eventBus=e,this._canvas=t,this._selection=n,this._elementFactory=r,this._modeling=i,this._rules=o}function tj(e,t,n){this._eventBus=e,this._elementFactory=t,this._commandStack=n;var r=this;e.on("diagram.init",function(){r.registerHandlers(n)})}qO.prototype.preExecute=function(e){var t=this._modeling,n=e.groups,r=e.axis,i=e.dimension;function o(e,t){e.range.min=Math.min(t[r],e.range.min),e.range.max=Math.max(t[r]+t[i],e.range.max)}function a(e){return e[r]+e[i]/2}function s(e){return e.length-1}function c(e){return e.max-e.min}var u,l,p=n[0],h=s(n),f=n[h],d=0;Object(_d.i)(n,function(e,u){var l,p,f;e.elements.length<2?u&&u!==n.length-1&&(o(e,e.elements[0]),d+=c(e.range)):(p=(l=Object(_d.A)(e.elements,r))[0],u===h&&(p=l[s(l)]),f=a(p),e.range=null,Object(_d.i)(l,function(n){!function(e,n){var i={y:0};i[r]=e-a(n),i[r]&&(i[KO[r]]=0,t.moveElements([n],i,n.parent))}(f,n),null!==e.range?o(e,n):e.range={min:n[r],max:n[r]+n[i]}}),u&&u!==n.length-1&&(d+=c(e.range)))}),l=Math.abs(f.range.min-p.range.max),(u=Math.round((l-d)/(n.length-1)))<n.length-1||Object(_d.i)(n,function(e,o){var a,s={};e!==p&&e!==f&&(a=n[o-1],e.range.max=0,Object(_d.i)(e.elements,function(n,o){s[KO[r]]=0,s[r]=a.range.max-n[r]+u,e.range.min!==n[r]&&(s[r]+=n[r]-e.range.min),s[r]&&t.moveElements([n],s,n.parent),e.range.max=Math.max(n[r]+n[i],o?e.range.max:0)}))})},qO.prototype.postExecute=function(e){},ZO.$inject=["modeling","canvas"],ZO.prototype.preExecute=function(e){var t=this._modeling,n=e.elements,r=e.alignment;Object(_d.i)(n,function(e){var n={x:0,y:0};r.left?n.x=r.left-e.x:r.right?n.x=r.right-e.width-e.x:r.center?n.x=r.center-Math.round(e.width/2)-e.x:r.top?n.y=r.top-e.y:r.bottom?n.y=r.bottom-e.height-e.y:r.middle&&(n.y=r.middle-Math.round(e.height/2)-e.y),t.moveElements([e],n,e.parent)})},ZO.prototype.postExecute=function(e){},XO.$inject=["modeling"],XO.prototype.execute=function(e){var t=e.shape,n=e.newHost,r=t.host;return e.oldHost=r,e.attacherIdx=YO(r,t),QO(n,t),t.host=n,t},XO.prototype.revert=function(e){var t=e.shape,n=e.newHost,r=e.oldHost,i=e.attacherIdx;return t.host=r,YO(n,t),QO(r,t,i),t},ej.$inject=["eventBus","canvas","selection","elementFactory","modeling","rules"],ej.prototype.preExecute=function(e){var t=this._eventBus,n=this,r=e.tree,i=e.topParent,o=e.position;r.createdElements={},r.labels=[],Object(_d.i)(r,function(e,a){var s=parseInt(a,10);isNaN(s)||(s||(e=Object(_d.t)(e,function(e){return e.parent=i,e})),e=Object(_d.A)(e,"priority"),Object(_d.i)(e,function(e){var a,c=e.id,u=e.parent,l={},p=Object(_d.a)({},e);if(s&&(p.parent=n._getCreatedElement(u,r)),u)if(t.fire("element.paste",{createdElements:r.createdElements,descriptor:p}),u=p.parent,p.waypoints)(p=n._createConnection(p,u,o,r))&&(r.createdElements[c]={element:p,descriptor:e});else{if(p.parent!==i&&(l.root=!1),p.host&&(l.attach=!0,u=n._getCreatedElement(p.host,r)),p.labelTarget)return r.labels.push(p);a={x:Math.round(o.x+p.delta.x+p.width/2),y:Math.round(o.y+p.delta.y+p.height/2)},JO(p,["id","parent","delta","host","priority"]),(p=n._createShape(p,u,a,l))&&(r.createdElements[c]={element:p,descriptor:e})}}))})},ej.prototype.postExecute=function(e){var t=this._modeling,n=this._selection,r=this,i=e.tree,o=i.labels,a=[];Object(_d.i)(o,function(e){var n,o,a,s=r._getCreatedElement(e.labelTarget,i);s&&(n=s.labels)&&n.length&&(o={x:s.x,y:s.y},s.waypoints&&(o=s.waypoints[0]),Object(_d.i)(n,function(n){a={x:Math.round(o.x-n.x+e.delta.x),y:Math.round(o.y-n.y+e.delta.y)},t.moveShape(n,a,s.parent)}))}),Object(_d.i)(i[0],function(e){var t=i.createdElements[e.id];t&&a.push(t.element)}),n.select(a)},ej.prototype._createConnection=function(e,t,n,r){var i,o,a=this._modeling,s=this._rules;return e.waypoints=Object(_d.t)(e.waypoints,function(t,r){return{x:Math.round(n.x+e.delta[r].x),y:Math.round(n.y+e.delta[r].y)}}),i=this._getCreatedElement(e.source,r),o=this._getCreatedElement(e.target,r),i&&o&&s.allowed("element.paste",{source:i,target:o})?(JO(e,["id","parent","delta","source","target","width","height","priority"]),a.createConnection(i,o,e,t)):null},ej.prototype._createShape=function(e,t,n,r,i){var o=this._modeling,a=this._elementFactory;if(!this._rules.allowed("element.paste",{element:e,position:n,parent:t}))return null;var s=a.createShape(e);return o.createShape(s,n,t,r,i),s},ej.prototype._getCreatedElement=function(e,t){return t.createdElements[e]&&t.createdElements[e].element},tj.$inject=["eventBus","elementFactory","commandStack"],tj.prototype.getHandlers=function(){return{"shape.append":bO,"shape.create":_O,"shape.delete":xO,"shape.move":RO,"shape.resize":PO,"shape.replace":MO,"shape.toggleCollapse":DO,spaceTool:NO,"label.create":IO,"connection.create":FO,"connection.delete":zO,"connection.move":VO,"connection.layout":UO,"connection.updateWaypoints":HO,"connection.reconnectStart":$O,"connection.reconnectEnd":$O,"elements.move":WO,"elements.delete":GO,"elements.distribute":qO,"elements.align":ZO,"element.updateAttachment":XO,"elements.paste":ej}},tj.prototype.registerHandlers=function(e){Object(_d.i)(this.getHandlers(),function(t,n){e.registerHandler(n,t)})},tj.prototype.moveShape=function(e,t,n,r,i){"object"==typeof r&&(i=r,r=null),this._commandStack.execute("shape.move",{shape:e,delta:t,newParent:n,newParentIndex:r,hints:i||{}})},tj.prototype.updateAttachment=function(e,t){this._commandStack.execute("element.updateAttachment",{shape:e,newHost:t})},tj.prototype.moveElements=function(e,t,n,r){var i,o=(r=r||{}).attach,a=n;!0===o?(i=n,a=n.parent):!1===o&&(i=null),this._commandStack.execute("elements.move",{shapes:e,delta:t,newParent:a,newHost:i,hints:r})},tj.prototype.moveConnection=function(e,t,n,r,i){"object"==typeof r&&(i=r,r=void 0),this._commandStack.execute("connection.move",{connection:e,delta:t,newParent:n,newParentIndex:r,hints:i||{}})},tj.prototype.layoutConnection=function(e,t){this._commandStack.execute("connection.layout",{connection:e,hints:t||{}})},tj.prototype.createConnection=function(e,t,n,r,i,o){"object"==typeof n&&(o=i,i=r,r=n,n=void 0);var a={source:e,target:t,parent:i,parentIndex:n,connection:r=this._create("connection",r),hints:o};return this._commandStack.execute("connection.create",a),a.connection},tj.prototype.createShape=function(e,t,n,r,i){"number"!=typeof r&&(i=r,r=void 0);var o,a,s=(i=i||{}).attach;e=this._create("shape",e),s?(o=n.parent,a=n):o=n;var c={position:t,shape:e,parent:o,parentIndex:r,host:a,hints:i};return this._commandStack.execute("shape.create",c),c.shape},tj.prototype.createLabel=function(e,t,n,r){n=this._create("label",n);var i={labelTarget:e,position:t,parent:r||e.parent,shape:n};return this._commandStack.execute("label.create",i),i.shape},tj.prototype.appendShape=function(e,t,n,r,i){i=i||{};var o={source:e,position:n,target:r,shape:t=this._create("shape",t),connection:i.connection,connectionParent:i.connectionParent,attach:i.attach};return this._commandStack.execute("shape.append",o),o.shape},tj.prototype.removeElements=function(e){this._commandStack.execute("elements.delete",{elements:e})},tj.prototype.distributeElements=function(e,t,n){this._commandStack.execute("elements.distribute",{groups:e,axis:t,dimension:n})},tj.prototype.removeShape=function(e,t){this._commandStack.execute("shape.delete",{shape:e,hints:t||{}})},tj.prototype.removeConnection=function(e,t){this._commandStack.execute("connection.delete",{connection:e,hints:t||{}})},tj.prototype.replaceShape=function(e,t,n){var r={oldShape:e,newData:t,hints:n||{}};return this._commandStack.execute("shape.replace",r),r.newShape},tj.prototype.pasteElements=function(e,t,n){this._commandStack.execute("elements.paste",{tree:e,topParent:t,position:n})},tj.prototype.alignElements=function(e,t){this._commandStack.execute("elements.align",{elements:e,alignment:t})},tj.prototype.resizeShape=function(e,t,n){this._commandStack.execute("shape.resize",{shape:e,newBounds:t,minBounds:n})},tj.prototype.createSpace=function(e,t,n,r){this._commandStack.execute("spaceTool",{movingShapes:e,resizingShapes:t,delta:n,direction:r})},tj.prototype.updateWaypoints=function(e,t,n){this._commandStack.execute("connection.updateWaypoints",{connection:e,newWaypoints:t,hints:n||{}})},tj.prototype.reconnectStart=function(e,t,n){this._commandStack.execute("connection.reconnectStart",{connection:e,newSource:t,dockingOrPoints:n})},tj.prototype.reconnectEnd=function(e,t,n){this._commandStack.execute("connection.reconnectEnd",{connection:e,newTarget:t,dockingOrPoints:n})},tj.prototype.connect=function(e,t,n,r){return this.createConnection(e,t,n||{},e.parent,r)},tj.prototype._create=function(e,t){return t instanceof fO.a?t:this._elementFactory.create(e,t)},tj.prototype.toggleCollapse=function(e,t){this._commandStack.execute("shape.toggleCollapse",{shape:e,hints:t||{}})};var nj="id",rj="di",ij={width:0,height:0};function oj(e,t,n,r,i){this._elementRegistry=e,this._moddle=t,this._translate=n,this._modeling=r,this._textRenderer=i}function aj(e,t){return nj in e&&e[nj]!==t[nj]}function sj(e,t){Object(_d.i)(t,function(t,n){var r,i;n!==rj?e.set(n,t):e.di&&(r=e.di,i=t,Object(_d.i)(i,function(e,t){r.set(t,e)}))})}oj.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],oj.prototype.execute=function(e){var t=e.element,n=[t];if(!t)throw new Error((0,this._translate)("element required"));var r=this._elementRegistry,i=this._moddle.ids,o=t.businessObject,a=function(e){var t=Object(_d.a)({},e);return cj.forEach(function(n){n in e&&(t[n]=Ym(t[n]))}),t}(e.properties),s=e.oldProperties||function(e,t){var n=Object(_d.s)(t);return Object(_d.x)(n,function(n,r){var i,o;return n[r]=r!==rj?e.get(r):(i=e.di,o=Object(_d.s)(t.di),Object(_d.x)(o,function(e,t){return e[t]=i.get(t),e},{})),n},{})}(o,a);return aj(a,o)&&(i.unclaim(o[nj]),r.updateId(t,a[nj]),i.claim(a[nj],o)),"default"in a&&(a.default&&n.push(r.get(a.default.id)),o.default&&n.push(r.get(o.default.id))),sj(o,a),e.oldProperties=s,e.changed=n,n},oj.prototype.postExecute=function(e){var t=e.element.label,n=t&&Ym(t).name;if(n){var r=this._textRenderer.getExternalLabelBounds(t,n);this._modeling.resizeShape(t,r,ij)}},oj.prototype.revert=function(e){var t=e.element,n=e.properties,r=e.oldProperties,i=t.businessObject,o=this._elementRegistry,a=this._moddle.ids;return sj(i,r),aj(n,i)&&(a.unclaim(n[nj]),o.updateId(t,r[nj]),a.claim(r[nj],i)),e.changed};var cj=["default"];function uj(e,t){this._canvas=e,this._modeling=t}function lj(e,t){this._modeling=e,this._spaceTool=t}function pj(e,t){this._modeling=e,this._translate=t}function hj(e,t){this._modeling=e,this._spaceTool=t}function fj(e){this._elementRegistry=e}function dj(e){this._moddle=e}uj.$inject=["canvas","modeling"],uj.prototype.execute=function(e){var t=this._canvas,n=e.newRoot,r=n.businessObject,i=t.getRootElement(),o=i.businessObject,a=o.$parent,s=o.di;t.setRootElement(n,!0),Object(W_.a)(a.rootElements,r),r.$parent=a,Object(W_.c)(a.rootElements,o),o.$parent=null,o.di=null,s.bpmnElement=r,r.di=s,e.oldRoot=i},uj.prototype.revert=function(e){var t=e.newRoot.businessObject,n=e.oldRoot,r=n.businessObject,i=t.$parent,o=t.di;this._canvas.setRootElement(n,!0),Object(W_.c)(i.rootElements,t),t.$parent=null,Object(W_.a)(i.rootElements,r),r.$parent=i,t.di=null,o.bpmnElement=r,r.di=o},lj.$inject=["modeling","spaceTool"],lj.prototype.preExecute=function(e){var t=this._spaceTool,n=this._modeling,r=e.shape,i=e.location,o=Vw(r),a=o===r,s=a?r:r.parent;zw(s).length||n.createShape({type:"bpmn:Lane"},{x:r.x+30,y:r.y,width:r.width-30,height:r.height},s);var c=[];Object(lv.a)(o,function(e){return c.push(e),e===r?[]:Object(_d.e)(e.children,function(e){return e!==r})});var u="top"===i?-120:120,l="top"===i?r.y:r.y+r.height,p="top"===i?"n":"s",h=t.calculateAdjustments(c,"y",u,l+("top"===i?10:-10));t.makeSpace(h.movingShapes,h.resizingShapes,{x:0,y:u},p),e.newLane=n.createShape({type:"bpmn:Lane"},{x:r.x+(a?30:0),y:l-("top"===i?120:0),width:r.width-(a?30:0),height:120},s)},pj.$inject=["modeling","translate"],pj.prototype.preExecute=function(e){var t=this._modeling,n=this._translate,r=e.shape,i=e.count,o=zw(r),a=o.length;if(a>i)throw new Error(n("more than {count} child lanes",{count:i}));var s,c,u=Math.round(r.height/i);for(c=0;c<i;c++)s={x:r.x+30,y:r.y+c*u,width:r.width-30,height:c===i-1?r.height-u*c:u},c<a?t.resizeShape(o[c],s):t.createShape({type:"bpmn:Lane"},s,r)},hj.$inject=["modeling","spaceTool"],hj.prototype.preExecute=function(e){var t=e.shape,n=e.newBounds;!1!==e.balanced?this.resizeBalanced(t,n):this.resizeSpace(t,n)},hj.prototype.resizeBalanced=function(e,t){var n=this._modeling,r=function(e,t){var n=Vw(e),r=Fw(n,Xm(n,"bpmn:Process")?[]:[n]),i=Wy(e),o=Wy(t),a=function(e,t){return Pw(Wy(t),Wy(e))}(e,t),s=[];return r.forEach(function(t){if(t!==e){var n,r,c=0,u=a.right,l=0,p=a.left,h=Wy(t);a.top&&(Bw(h.bottom-i.top)<10&&(l=o.top-h.bottom),Bw(h.top-i.top)<5&&(c=o.top-h.top)),a.bottom&&(Bw(h.top-i.bottom)<10&&(c=o.bottom-h.top),Bw(h.bottom-i.bottom)<5&&(l=o.bottom-h.bottom)),(c||u||l||p)&&s.push({shape:t,newBounds:(n=t,r={top:c,right:u,bottom:l,left:p},{x:n.x+(r.left||0),y:n.y+(r.top||0),width:n.width-(r.left||0)+(r.right||0),height:n.height-(r.top||0)+(r.bottom||0)})})}}),s}(e,t);n.resizeShape(e,t),r.forEach(function(e){n.resizeShape(e.shape,e.newBounds)})},hj.prototype.resizeSpace=function(e,t){var n,r,i,o=this._spaceTool,a=Wy(e),s=Pw(Wy(t),a),c=Vw(e),u=[],l=[];Object(lv.a)(c,function(e){return u.push(e),(Xm(e,"bpmn:Lane")||Xm(e,"bpmn:Participant"))&&l.push(e),e.children}),(s.bottom||s.top)&&(n=s.bottom||s.top,r=s.bottom?"s":"n",i=o.calculateAdjustments(u,"y",s.top>0||s.bottom<0?-n:n,e.y+(s.bottom?e.height:0)+(s.bottom?-10:10)),o.makeSpace(i.movingShapes,i.resizingShapes,{x:0,y:n},r)),(s.left||s.right)&&(n=s.right||s.left,r=s.right?"e":"w",i=o.calculateAdjustments(l,"x",s.left>0||s.right<0?-n:n,e.x+(s.right?e.width:0)+(s.right?-10:100)),o.makeSpace(i.movingShapes,i.resizingShapes,{x:n,y:0},r))},fj.$inject=["elementRegistry"],fj.prototype.computeUpdates=function(e,t){var n={},r=[],i={},o=[];function a(e){n[e.id]||(o.push(e),n[e.id]=e)}return t.forEach(function(e){var t=Vw(e);t&&!n[t.id]&&(t.children.filter(function(e){return Xm(e,"bpmn:FlowNode")}).forEach(a),n[t.id]=t)}),e.forEach(a),o.forEach(function(e){var t=e.businessObject,n=t.get("lanes").slice(),o=function(e){return e.parent?function(e){var t=Vw(e);return i[t.id]||(i[t.id]=Fw(t)),i[t.id]}(e).filter(function(t){return n=e,r=Wy(t),o=n.y+n.height/2,(i=n.x+n.width/2)>r.left&&i<r.right&&o>r.top&&o<r.bottom;var n,r,i,o}).map(function(e){return e.businessObject}):[]}(e);r.push({flowNode:t,remove:n,add:o})}),t.forEach(function(e){var t=e.businessObject;e.parent||t.get("flowNodeRef").forEach(function(e){r.push({flowNode:e,remove:[t],add:[]})})}),r},fj.prototype.execute=function(e){var t=e.updates;t||(t=e.updates=this.computeUpdates(e.flowNodeShapes,e.laneShapes)),t.forEach(function(e){var t=e.flowNode,n=t.get("lanes");e.remove.forEach(function(e){Object(W_.c)(n,e),Object(W_.c)(e.get("flowNodeRef"),t)}),e.add.forEach(function(e){Object(W_.a)(n,e),Object(W_.a)(e.get("flowNodeRef"),t)})})},fj.prototype.revert=function(e){e.updates.forEach(function(e){var t=e.flowNode,n=t.get("lanes");e.add.forEach(function(e){Object(W_.c)(n,e),Object(W_.c)(e.get("flowNodeRef"),t)}),e.remove.forEach(function(e){Object(W_.a)(n,e),Object(W_.a)(e.get("flowNodeRef"),t)})})},dj.$inject=["moddle"],dj.prototype.execute=function(e){var t=this._moddle.ids,n=e.id;e.claiming?t.claim(n,e.element):t.unclaim(n)},dj.prototype.revert=function(e){var t=this._moddle.ids,n=e.id,r=e.element;e.claiming?t.unclaim(n):t.claim(n,r)};var mj={fill:void 0,stroke:void 0};function yj(e){this._commandStack=e}yj.$inject=["commandStack"],yj.prototype.postExecute=function(e){var t=e.elements,n=e.colors||mj,r=this,i={};"fill"in n&&Object(_d.a)(i,{fill:n.fill}),"stroke"in n&&Object(_d.a)(i,{stroke:n.stroke}),Object(_d.i)(t,function(e){r._commandStack.execute("element.updateProperties",{element:e,properties:{di:i}})})};var vj={width:0,height:0};function gj(e,t){function n(e,t){var n=e.label||e,r=e.labelTarget||e;return function(e,t,r){var i=n.businessObject,o=C_(i);o&&(i[o]=t)}(0,t),[n,r]}this.preExecute=function(t){var n=t.element,r=n.businessObject,i=t.newLabel;if(!Dy(n)&&Ry(n)&&!Py(n)&&!bj(i)){var o=My(n);e.createLabel(n,o={x:o.x,y:o.y+7},{id:r.id+"_label",businessObject:r})}},this.execute=function(e){return e.oldLabel=k_(e.element),n(e.element,e.newLabel)},this.revert=function(e){return n(e.element,e.oldLabel)},this.postExecute=function(n){var r=n.element,i=r.label||r,o=n.newLabel,a=n.newBounds,s=n.hints||{};if(Dy(i)&&bj(o))!1!==s.removeShape&&e.removeShape(i,{unsetLabel:!1});else if(Ry(r)||Xm(r,"bpmn:TextAnnotation")){var c=Ym(i),u=c.name||c.text;u&&(void 0===a&&(a=t.getExternalLabelBounds(i,u)),a&&e.resizeShape(i,a,vj))}}}function bj(e){return!e||!e.trim()}function wj(e,t,n,r){tj.call(this,e,t,n),this._bpmnRules=r}gj.$inject=["modeling","textRenderer"],wj.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],wj.prototype.getHandlers=function(){var e=tj.prototype.getHandlers.call(this);return e["element.updateProperties"]=oj,e["canvas.updateRoot"]=uj,e["lane.add"]=lj,e["lane.resize"]=hj,e["lane.split"]=pj,e["lane.updateRefs"]=fj,e["id.updateClaim"]=dj,e["element.setColor"]=yj,e["element.updateLabel"]=gj,e},wj.prototype.updateLabel=function(e,t,n,r){this._commandStack.execute("element.updateLabel",{element:e,newLabel:t,newBounds:n,hints:r||{}})},wj.prototype.connect=function(e,t,n,r){if(n||(n=this._bpmnRules.canConnect(e,t)),n)return this.createConnection(e,t,n,e.parent,r)},wj.prototype.updateProperties=function(e,t){this._commandStack.execute("element.updateProperties",{element:e,properties:t})},wj.prototype.resizeLane=function(e,t,n){this._commandStack.execute("lane.resize",{shape:e,newBounds:t,balanced:n})},wj.prototype.addLane=function(e,t){var n={shape:e,location:t};return this._commandStack.execute("lane.add",n),n.newLane},wj.prototype.splitLane=function(e,t){this._commandStack.execute("lane.split",{shape:e,count:t})},wj.prototype.makeCollaboration=function(){var e=this._create("root",{type:"bpmn:Collaboration"});return this._commandStack.execute("canvas.updateRoot",{newRoot:e}),e},wj.prototype.updateLaneRefs=function(e,t){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:e,laneShapes:t})},wj.prototype.makeProcess=function(){var e=this._create("root",{type:"bpmn:Process"});this._commandStack.execute("canvas.updateRoot",{newRoot:e})},wj.prototype.claimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t,claiming:!0})},wj.prototype.unclaimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t})},wj.prototype.setColor=function(e,t){e.length||(e=[e]),this._commandStack.execute("element.setColor",{elements:e,colors:t})};var _j=20,xj=5,Ej=Math.round,Oj=20,jj={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function Sj(e,t,n){var r,i,o=Ky(t,e,xj),a=n.split(":")[0],s=Ej((t.x-e.x)/2+e.x),c=Ej((t.y-e.y)/2+e.y),u={t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[a].test(o),l=/h|r|l/.test(a),p=!1;return u?(r=l?{x:s,y:e.y}:{x:e.x,y:c},i=l?"h:h":"v:v"):(i=l?"h:v":"v:h",function(e,t){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[t].test(e)}(o,a)?l?(p=c===e.y,r={x:e.x+_j*(/l/.test(a)?-1:1),y:p?c+_j:c}):r={x:(p=s===e.x)?s+_j:s,y:e.y+_j*(/t/.test(a)?-1:1)}:r={x:s,y:c}),{waypoints:kj(e,r,i).concat(r),directions:i,turnNextDirections:p}}function Cj(e){return e.split(":").reverse().join(":")}function kj(e,t,n){if(!function(e){return e&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(e)}(n=n||"h:h"))throw new Error("unknown directions: <"+n+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(Rj(n)){var r=function(e,t,n){return Sj(e,t,n)}(e,t,n),i=function(e,t,n){var r=Sj(t,e,Cj(n));return{waypoints:r.waypoints.slice().reverse(),directions:Cj(r.directions),turnNextDirections:r.turnNextDirections}}(e,t,n),o=function(e,t){var n=e.directions.split(":")[1],r=t.directions.split(":")[0];e.turnNextDirections&&(n="h"==n?"v":"h"),t.turnNextDirections&&(r="h"==r?"v":"h");var i=n+":"+r;return{waypoints:kj(e.waypoints[e.waypoints.length-1],t.waypoints[0],i),directions:i}}(r,i);return[].concat(r.waypoints,o.waypoints,i.waypoints)}return function(e,t,n){var r=Ej((t.x-e.x)/2+e.x),i=Ej((t.y-e.y)/2+e.y);if("h:v"===n)return[{x:t.x,y:e.y}];if("v:h"===n)return[{x:e.x,y:t.y}];if("h:h"===n)return[{x:r,y:e.y},{x:r,y:t.y}];if("v:v"===n)return[{x:e.x,y:i},{x:t.x,y:i}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(e,t,n)}function Tj(e,t,n){return function(t,r,i){return t>=n[e]&&t<=n[e]+n[{x:"width",y:"height"}[e]]}(t[e])}function Aj(e,t,n,r){if(function(e,t,n){return n.length<3||!(n.length>4)&&!!Object(_d.f)(n,function(e,t){var r=n[t-1];return r&&Ny(e,r)<3})}(0,0,r))return null;var i,o=r[0],a=r.slice();return a[0]=n,a[1]=function(e,t,n){switch(Ly(o,e)){case"v":return{x:e.x,y:n.y};case"h":return{x:n.x,y:e.y}}return{x:e.x,y:e.y}}(a[1],0,n),(i=function(e,t,n){var r;for(r=e.length-2;0!==r;r--)if(Fy(e[r],t,Oj)||Fy(e[r],n,Oj))return e.slice(r);return e}(a,e,t))!==a?Aj(e,t,n,i):a}function Rj(e){return e&&/t|r|b|l/.test(e)}function Pj(e,t,n,r){if("h"===n&&(n=/left/.test(r)?"l":"r"),"v"===n&&(n=/top/.test(r)?"t":"b"),"t"===n)return{original:e,x:e.x,y:t.y};if("r"===n)return{original:e,x:t.x+t.width,y:e.y};if("b"===n)return{original:e,x:e.x,y:t.y+t.height};if("l"===n)return{original:e,x:t.x,y:e.y};throw new Error("unexpected dockingDirection: <"+n+">")}function Mj(e){return e.reduce(function(t,n,r){return Iy(t[t.length-1],e[r+1],n,0)||t.push(n),t},[])}function Dj(){}function Nj(e,t){return Xm(t,"bpmn:Participant")?"source":Xm(e,"bpmn:Participant")?"target":Lj(t)?"source":Lj(e)?"target":Xm(t,"bpmn:Event")?"target":Xm(e,"bpmn:Event")?"source":null}function Ij(e,t){return e?e.original||e:qy(t)}function Bj(e){var t=e.source,n=e.target;return Xm(n,"bpmn:Activity")&&Xm(t,"bpmn:BoundaryEvent")&&n.businessObject.isForCompensation}function Lj(e){return Xm(e,"bpmn:SubProcess")&&Qm(e)}function Fj(e,t){return e===t}Dj.prototype.layoutConnection=function(e,t){var n,r,i=e.source,o=e.target,a=e.waypoints,s=(t=t||{}).connectionStart,c=t.connectionEnd;return s||(s=Ij(a&&a[0],i)),c||(c=Ij(a&&a[a.length-1],o)),(Xm(e,"bpmn:Association")||Xm(e,"bpmn:DataAssociation"))&&a&&!Bj(e)?[].concat([s],a.slice(1,-1),[c]):(Xm(e,"bpmn:MessageFlow")?n=function(e,t){return{preferredLayouts:["straight","v:v"],preserveDocking:Nj(e,t)}}(i,o):(Xm(e,"bpmn:SequenceFlow")||Bj(e))&&(n=i===o?{preferredLayouts:["b:l"]}:Xm(i,"bpmn:BoundaryEvent")?{preferredLayouts:Wj(i,o)}:Xm(i,"bpmn:Gateway")?{preferredLayouts:["v:h"]}:Xm(o,"bpmn:Gateway")?{preferredLayouts:["h:v"]}:{preferredLayouts:["h:h"]}),n&&(r=Mj(function(e,t,n,r,i,o){var a;return Object(_d.l)(n)&&(i=n,o=r,n=qy(e),r=qy(t)),i=i||[],-1!==(o=Object(_d.a)({preferredLayouts:[]},o)).preferredLayouts.indexOf("straight")&&(a=function(e,t,n,r,i){var o,a,s={};return a=Ky(e,t),/^(top|bottom|left|right)$/.test(a)?(/top|bottom/.test(a)&&(o="x"),/left|right/.test(a)&&(o="y"),"target"===i.preserveDocking?Tj(o,r,e)?(s[o]=r[o],[{x:void 0!==s.x?s.x:n.x,y:void 0!==s.y?s.y:n.y,original:{x:void 0!==s.x?s.x:n.x,y:void 0!==s.y?s.y:n.y}},{x:r.x,y:r.y}]):null:Tj(o,n,t)?(s[o]=n[o],[{x:n.x,y:n.y},{x:void 0!==s.x?s.x:r.x,y:void 0!==s.y?s.y:r.y,original:{x:void 0!==s.x?s.x:r.x,y:void 0!==s.y?s.y:r.y}}]):null):null}(e,t,n,r,o)),a||(o.connectionEnd?a=(a=Aj(t,e,r,i.slice().reverse()))&&a.reverse():o.connectionStart?a=Aj(e,t,n,i):i&&i.length&&(a=i)),a||(a=function(e,t,n,r,i){var o=i&&i.preferredLayouts||[],a=Object(_d.E)(o,"straight")[0]||"h:h",s=Ky(e,t,jj[a]||0),c=function(e,t){if(Rj(t))return t;switch(e){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return t}}(s,a);n=n||qy(e),r=r||qy(t);var u=c.split(":");return function(e,t,n){var r=kj(e,t,n);return r.unshift(e),r.push(t),Mj(r)}(Pj(n,e,u[0],function(e){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[e]}(s)),Pj(r,t,u[1],s),c)}(e,t,n,r,o)),a}(i,o,s,c,a,n=Object(_d.a)(n,t)))),r||[s,c])};var zj={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},Vj={top:"t",right:"r",bottom:"b",left:"l"};function Uj(e){var t=/right|left/.exec(e);return t&&t[0]}function Hj(e){var t=/top|bottom/.exec(e);return t&&t[0]}function $j(e){return"right"===e||"left"===e}function Wj(e,t){var n,r,i,o,a=qy(e),s=qy(t),c=(r=(n=e).host,Ky(qy(n),r,-10)),u=Fj(e.host,t),l=-1!==["top","right","bottom","left"].indexOf(c),p=$j(c),h=Ky(s,a,{x:e.width/2+t.width/2,y:e.height/2+t.height/2});return[(l?Vj[p?Uj(c):Hj(c)]:u||Fj(Hj(c),Hj(h))||(i=Uj(c),o=Uj(h),zj[i]===o)?Vj[Hj(c)]:Vj[Uj(c)])+":"+(l?u||(p?function(e,t){var n=Uj(c);return-1!==t.indexOf(zj[n])}(0,h):function(e,t){var n=Hj(c);return-1!==t.indexOf(zj[n])}(0,h))?p?"h":"v":p?"v":"h":$j(h)||Fj(Hj(c),Hj(h))&&Uj(h)?"h":"v")]}function Gj(e){return Object(_d.a)({original:e.point.original||e.point},e.actual)}function qj(e,t){this._elementRegistry=e,this._graphicsFactory=t}qj.$inject=["elementRegistry","graphicsFactory"],qj.prototype.getCroppedWaypoints=function(e,t,n){n=n||e.target;var r=this.getDockingPoint(e,t=t||e.source,!0),i=this.getDockingPoint(e,n),o=e.waypoints.slice(r.idx+1,i.idx);return o.unshift(Gj(r)),o.push(Gj(i)),o},qj.prototype.getDockingPoint=function(e,t,n){var r,i,o=e.waypoints;return{point:i=o[r=n?0:o.length-1],actual:this._getIntersection(t,e,n)||i,idx:r}},qj.prototype._getIntersection=function(e,t,n){return Zy(this._getShapePath(e),this._getConnectionPath(t),n)},qj.prototype._getConnectionPath=function(e){return this._graphicsFactory.getConnectionPath(e)},qj.prototype._getShapePath=function(e){return this._graphicsFactory.getShapePath(e)},qj.prototype._getGfx=function(e){return this._elementRegistry.getGraphics(e)};var Kj={__init__:["modeling","bpmnUpdater"],__depends__:[Vx,kE,RE,fw,ME,LE,$E,YE,bv,v_,pO],bpmnFactory:["type",hO],bpmnUpdater:["type",dO],elementFactory:["type",vO],modeling:["type",wj],layouter:["type",Dj],connectionDocking:["type",qj]},Zj=500,Xj=1250,Yj=1500,Qj=Math.round;function Jj(e,t,n,r,i){function o(e,t,n,r){return i.allowed("elements.move",{shapes:e,delta:t,position:n,target:r})}function a(e,n,r){if(!n.waypoints&&n.parent){var i=function(e){return{x:e.x+Qj(e.width/2),y:e.y+Qj(e.height/2)}}(n);return t.init(e,i,"shape.move",{cursor:"grabbing",autoActivate:r,data:{shape:n,context:{}}}),!0}}e.on("shape.move.start",Yj,function(e){var t,n,i=e.context,o=e.shape,a=r.get().slice();-1===a.indexOf(o)&&(a=[o]),t=a,n=Object(_d.j)(t,"id"),a=Object(_d.e)(t,function(e){for(;e=e.parent;)if(n[e.id])return!1;return!0}),Object(_d.a)(i,{shapes:a,validatedShapes:a,shape:o})}),e.on("shape.move.start",Xj,function(e){var t=e.context;if(!(t.canExecute=o(t.validatedShapes)))return!1}),e.on("shape.move.move",Zj,function(e){var t,n=e.context,r=e.hover,i={x:e.dx,y:e.dy};t=o(n.validatedShapes,i,{x:e.x,y:e.y},r),n.delta=i,n.canExecute=t,n.target=null!==t?r:null}),e.on("shape.move.end",function(e){var t=e.context,r=t.delta,i=t.canExecute,o="attach"===i,a=t.shapes;if(!i)return!1;r.x=Qj(r.x),r.y=Qj(r.y),n.moveElements(a,r,t.target,{primaryShape:t.shape,attach:o})}),e.on("element.mousedown",function(e){var t=tv(e);if(!t)throw new Error("must supply DOM mousedown event");return a(t,e.element)}),this.start=a}Jj.$inject=["eventBus","dragging","modeling","selection","rules"];var eS=499,tS="djs-dragging",nS="drop-ok",rS="drop-not-ok",iS="new-parent",oS="attach-ok";function aS(e,t,n,r,i){function o(e){var t=Object(lv.f)(e,!0),n=Object(_d.t)(t,function(e){return(e.incoming||[]).concat(e.outgoing||[])});return Object(_d.h)(t.concat(n))}function a(e,t){[oS,nS,rS,iS].forEach(function(r){r===t?n.addMarker(e,r):n.removeMarker(e,r)})}e.on("shape.move.start",eS,function(e){var t,a=e.context,s=a.shapes,c=a.allDraggedElements,u=function(e){return t=o(s),Object(_d.e)(t,function(e){return!function(e){return e.waypoints}(e)||Object(_d.f)(t,Object(_d.u)({id:e.source.id}))&&Object(_d.f)(t,Object(_d.u)({id:e.target.id}))});var t}();if(!a.dragGroup){var l=Object(Ed.f)("g");Object(Ed.b)(l,r.cls("djs-drag-group",["no-events"]));var p=n.getDefaultLayer();Object(Ed.a)(p,l),a.dragGroup=l}u.forEach(function(e){i.addDragger(e,a.dragGroup)}),c=c?Object(_d.h)([c,o(s)]):o(s),Object(_d.i)(c,function(e){n.addMarker(e,tS)}),a.allDraggedElements=c,a.differentParents=(t=s,1!==Object(_d.y)(Object(_d.j)(t,function(e){return e.parent&&e.parent.id})))}),e.on("shape.move.move",eS,function(e){var t=e.context,n=t.dragGroup,r=t.target;r&&a(r,"attach"===t.canExecute?oS:t.canExecute&&r&&r.id!==t.shape.parent.id?iS:t.canExecute?nS:rS),Object(sy.c)(n,e.dx,e.dy)}),e.on(["shape.move.out","shape.move.cleanup"],function(e){var t=e.context.target;t&&a(t,null)}),e.on("shape.move.cleanup",function(e){var t=e.context,r=t.allDraggedElements,i=t.dragGroup;Object(_d.i)(r,function(e){n.removeMarker(e,tS)}),i&&Object(Ed.d)(i)}),this.makeDraggable=function(e,t,r){i.addDragger(t,e.dragGroup),r&&n.addMarker(t,tS),e.allDraggedElements?e.allDraggedElements.push(t):e.allDraggedElements=[t]}}aS.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var sS={__depends__:[uv,bv,fv,nb,Xg,b_],__init__:["move","movePreview"],move:["type",Jj],movePreview:["type",aS]};function cS(e,t){this._eventBus=e,this._canvas=t,this._providers=[];var n=this;e.on("tool-manager.update",function(e){n.updateToolHighlight(e.tool)}),e.on("i18n.changed",function(){n._update()}),e.on("diagram.init",function(){n._diagramInitialized=!0,n._providers.length&&(n._init(),n._update())})}cS.$inject=["eventBus","canvas"],cS.prototype.registerProvider=function(e){this._providers.push(e),this._diagramInitialized&&(this._container||this._init(),this._update())},cS.prototype.getEntries=function(){var e={};return Object(_d.i)(this._providers,function(t){var n=t.getPaletteEntries();Object(_d.i)(n,function(t,n){e[n]=t})}),e},cS.prototype._init=function(){var e=this._eventBus,t=this._canvas.getContainer(),n=this._container=Object(xd.f)(cS.HTML_MARKUP),r=this;t.appendChild(n),xd.e.bind(n,".djs-palette-toggle, .entry","click",function(e){var t=e.delegateTarget;if(Object(xd.h)(t,".djs-palette-toggle"))return r.toggle();r.trigger("click",e)}),xd.g.bind(n,"mousedown",function(e){e.stopPropagation()}),xd.e.bind(n,".entry","dragstart",function(e){r.trigger("dragstart",e)}),e.on("canvas.resized",this._layoutChanged,this),e.fire("palette.create",{container:n})},cS.prototype._toggleState=function(e){e=e||{};var t,n=this._getParentContainer(),r=this._container,i=this._eventBus,o=Object(xd.b)(r);t="twoColumn"in e?e.twoColumn:this._needsCollapse(n.clientHeight,this._entries||{}),o.toggle("two-column",t),"open"in e&&o.toggle("open",e.open),i.fire("palette.changed",{twoColumn:t,open:this.isOpen()})},cS.prototype._update=function(){var e=Object(xd.i)(".djs-palette-entries",this._container),t=this._entries=this.getEntries();Object(xd.c)(e),Object(_d.i)(t,function(t,n){var r=t.group||"default",i=Object(xd.i)("[data-group="+r+"]",e);i||(i=Object(xd.f)('<div class="group" data-group="'+r+'"></div>'),e.appendChild(i));var o,a,s,c=t.html||(t.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),u=Object(xd.f)(c);i.appendChild(u),t.separator||(Object(xd.a)(u,"data-action",n),t.title&&Object(xd.a)(u,"title",t.title),t.className&&(o=u,a=t.className,s=Object(xd.b)(o),(Object(_d.l)(a)?a:a.split(/\s+/g)).forEach(function(e){s.add(e)})),t.imageUrl&&u.appendChild(Object(xd.f)('<img src="'+t.imageUrl+'">')))}),this.open()},cS.prototype.trigger=function(e,t,n){var r,i,o,a=this._entries,s=t.delegateTarget||t.target;if(!s)return t.preventDefault();(r=a[Object(xd.a)(s,"data-action")])&&(i=r.action,o=t.originalEvent||t,Object(_d.n)(i)?"click"===e&&i(o,n):i[e]&&i[e](o,n),t.preventDefault())},cS.prototype._layoutChanged=function(){this._toggleState({})},cS.prototype._needsCollapse=function(e,t){return e<46*Object.keys(t).length+50},cS.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},cS.prototype.open=function(){this._toggleState({open:!0})},cS.prototype.toggle=function(e){this.isOpen()?this.close():this.open()},cS.prototype.isActiveTool=function(e){return e&&this._activeTool===e},cS.prototype.updateToolHighlight=function(e){var t,n;this._toolsContainer||(t=Object(xd.i)(".djs-palette-entries",this._container),this._toolsContainer=Object(xd.i)("[data-group=tools]",t)),n=this._toolsContainer,Object(_d.i)(n.children,function(t){var n=t.getAttribute("data-action");if(n){var r=Object(xd.b)(t);n=n.replace("-tool",""),r.contains("entry")&&n===e?r.add("highlighted-entry"):r.remove("highlighted-entry")}})},cS.prototype.isOpen=function(){return Object(xd.b)(this._container).has("open")},cS.prototype._getParentContainer=function(){return this._canvas.getContainer()},cS.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';var uS={__init__:["palette"],palette:["type",cS]};function lS(e,t,n,r,i,o){this._selection=i,this._dragging=n;var a=this;o.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),e.on("lasso.selection.end",function(t){(t.hover||t.originalEvent.target instanceof SVGElement)&&e.once("lasso.selection.ended",function(){a.activateLasso(t.originalEvent,!0)})}),e.on("lasso.end",function(e){var t=pS(e),n=r.filter(function(e){return e});a.select(n,t)}),e.on("lasso.start",function(e){var n=e.context;n.bbox=pS(e),function(e){var n,r=t.getDefaultLayer();n=e.frame=Object(Ed.f)("rect"),Object(Ed.b)(n,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),Object(Ed.a)(r,n)}(n)}),e.on("lasso.move",function(e){var t=e.context;t.bbox=pS(e),function(e){var t=e.frame,n=e.bbox;Object(Ed.b)(t,{x:n.x,y:n.y,width:n.width,height:n.height})}(t)}),e.on("lasso.cleanup",function(e){var t;(t=e.context).frame&&Object(Ed.j)(t.frame)}),e.on("element.mousedown",1500,function(e){if(function(e){var t=tv(e)||e;return iv(e)&&t.shiftKey}(e))return a.activateLasso(e.originalEvent),!0})}function pS(e){var t={x:e.x-e.dx,y:e.y-e.dy},n={x:e.x,y:e.y};return t.x<=n.x&&t.y<n.y||t.x<n.x&&t.y<=n.y?{x:t.x,y:t.y,width:n.x-t.x,height:n.y-t.y}:t.x>=n.x&&t.y<n.y||t.x>n.x&&t.y<=n.y?{x:n.x,y:t.y,width:t.x-n.x,height:n.y-t.y}:t.x<=n.x&&t.y>n.y||t.x<n.x&&t.y>=n.y?{x:t.x,y:n.y,width:n.x-t.x,height:t.y-n.y}:t.x>=n.x&&t.y>n.y||t.x>n.x&&t.y>=n.y?{x:n.x,y:n.y,width:t.x-n.x,height:t.y-n.y}:{x:n.x,y:n.y,width:0,height:0}}lS.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager"],lS.prototype.activateLasso=function(e,t){this._dragging.init(e,"lasso",{autoActivate:t,cursor:"crosshair",data:{context:{}}})},lS.prototype.activateSelection=function(e){this._dragging.init(e,"lasso.selection",{trapClick:!1,cursor:"crosshair",data:{context:{}}})},lS.prototype.select=function(e,t){var n=Object(lv.d)(e,t);this._selection.select(Object(_d.D)(n))},lS.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},lS.prototype.isActive=function(){var e=this._dragging.context();return e&&/^lasso/.test(e.prefix)};var hS={__depends__:[JE],__init__:["lassoTool"],lassoTool:["type",lS]},fS=1500;function dS(e,t,n,r){this._dragging=n,r.registerTool("hand",{tool:"hand",dragging:"hand.move"}),e.on("element.mousedown",fS,function(e){if(ov(e))return this.activateMove(e.originalEvent),!1},this),e.on("hand.end",function(t){if(!(t.hover||t.originalEvent.target instanceof SVGElement))return!1;e.once("hand.ended",function(){this.activateMove(t.originalEvent,{reactivate:!0})},this)},this),e.on("hand.move.move",function(e){var n=t.viewbox().scale;t.scroll({dx:e.dx*n,dy:e.dy*n})}),e.on("hand.move.end",function(t){var n=t.context.reactivate;return!ov(t)&&n&&e.once("hand.move.ended",function(e){this.activateHand(e.originalEvent,!0,!0)},this),!1},this)}dS.$inject=["eventBus","canvas","dragging","toolManager"],dS.prototype.activateMove=function(e,t,n){"object"==typeof t&&(n=t,t=!1),this._dragging.init(e,"hand.move",{autoActivate:t,cursor:"grab",data:{context:n||{}}})},dS.prototype.activateHand=function(e,t,n){this._dragging.init(e,"hand",{trapClick:!1,autoActivate:t,cursor:"grab",data:{context:{reactivate:n}}})},dS.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateHand()},dS.prototype.isActive=function(){var e=this._dragging.context();return e&&/^hand/.test(e.prefix)};var mS={__depends__:[JE],__init__:["handTool"],handTool:["type",dS]},yS="connect-ok",vS="connect-not-ok";function gS(e,t,n,r,i,o){var a=this;this._dragging=t,this._rules=o,i.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),e.on("global-connect.hover",function(e){var t=e.context,n=e.hover,i=t.canStartConnect=a.canStartConnect(n);null!==i&&(t.startTarget=n,r.addMarker(n,i?yS:vS))}),e.on(["global-connect.out","global-connect.cleanup"],function(e){var t=e.context.startTarget;t&&r.removeMarker(t,e.context.canStartConnect?yS:vS)}),e.on(["global-connect.ended"],function(t){var r=t.context.startTarget,i={x:t.x,y:t.y};if(a.canStartConnect(r))return e.once("element.out",function(){e.once(["connect.ended","connect.canceled"],function(){e.fire("global-connect.drag.ended")}),n.start(null,r,i)}),!1})}gS.$inject=["eventBus","dragging","connect","canvas","toolManager","rules"],gS.prototype.start=function(e){this._dragging.init(e,"global-connect",{trapClick:!1,data:{context:{}}})},gS.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.start()},gS.prototype.isActive=function(){var e=this._dragging.context();return e&&/^global-connect/.test(e.prefix)},gS.prototype.canStartConnect=function(e){return this._rules.allowed("connection.start",{source:e})};var bS={__depends__:[qb,nb,Xg,JE],globalConnect:["type",gS]};function wS(e,t,n,r,i,o,a,s){this._palette=e,this._create=t,this._elementFactory=n,this._spaceTool=r,this._lassoTool=i,this._handTool=o,this._globalConnect=a,this._translate=s,e.registerProvider(this)}wS.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],wS.prototype.getPaletteEntries=function(e){var t={},n=this._create,r=this._elementFactory,i=this._spaceTool,o=this._lassoTool,a=this._handTool,s=this._globalConnect,c=this._translate;function u(e,t,i,o,a){function s(t){var i=r.createShape(Object(_d.a)({type:e},a));a&&(i.businessObject.di.isExpanded=a.isExpanded),n.start(t,i)}var u=e.replace(/^bpmn:/,"");return{group:t,className:i,title:o||c("Create {type}",{type:u}),action:{dragstart:s,click:s}}}function l(e,t){n.start(e,r.createParticipantShape(t))}return Object(_d.a)(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:c("Activate the hand tool"),action:{click:function(e){a.activateHand(e)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:c("Activate the lasso tool"),action:{click:function(e){o.activateSelection(e)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:c("Activate the create/remove space tool"),action:{click:function(e){i.activateSelection(e)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:c("Activate the global connect tool"),action:{click:function(e){s.toggle(e)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":u("bpmn:StartEvent","event","bpmn-icon-start-event-none"),"create.intermediate-event":u("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",c("Create Intermediate/Boundary Event")),"create.end-event":u("bpmn:EndEvent","event","bpmn-icon-end-event-none"),"create.exclusive-gateway":u("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",c("Create Gateway")),"create.task":u("bpmn:Task","activity","bpmn-icon-task"),"create.data-object":u("bpmn:DataObjectReference","data-object","bpmn-icon-data-object"),"create.data-store":u("bpmn:DataStoreReference","data-store","bpmn-icon-data-store"),"create.subprocess-expanded":u("bpmn:SubProcess","activity","bpmn-icon-subprocess-expanded",c("Create expanded SubProcess"),{isExpanded:!0}),"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:c("Create Pool/Participant"),action:{dragstart:l,click:l}}}),t};var _S={__depends__:[uS,ew,pO,hS,mS,bS,ky],__init__:["paletteProvider"],paletteProvider:["type",wS]},xS=250;function ES(e,t,n,r,i){Lg.call(this,e),e.on("shape.move.move",xS,function(e){var o=e.context,a=o.canExecute;o.visualReplacements||(o.visualReplacements={}),a.replacements?function(e){var o=e.canExecute.replacements;Object(_d.i)(o,function(o){var a=o.oldElementId,s={type:o.newElementType};if(!e.visualReplacements[a]){var c=t.get(a);Object(_d.a)(s,{x:c.x,y:c.y});var u=n.createShape(s);r.addShape(u,c.parent);var l=Object(xd.i)('[data-element-id="'+cb()(c.id)+'"]',e.dragGroup);l&&Object(Ed.b)(l,{display:"none"});var p=i.addDragger(u,e.dragGroup);e.visualReplacements[a]=p,r.removeShape(u)}})}(o):function(e){var t=e.visualReplacements;Object(_d.i)(t,function(n,r){var i=Object(xd.i)('[data-element-id="'+cb()(r)+'"]',e.dragGroup);i&&Object(Ed.b)(i,{display:"inline"}),n.remove(),t[r]&&delete t[r]})}(o)})}ES.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"];var OS={__depends__:[b_],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",ES]},jS=Math.abs,SS=Math.round;function CS(e){return{x:e.x,y:e.y}}function kS(e,t){return!e||isNaN(e.x)||isNaN(e.y)?t:{x:SS(e.x+e.width/2),y:SS(e.y+e.height/2)}}function TS(e){return{x:e.x+e.width,y:e.y+e.height}}function AS(e,t){var n=e.snapped;return!!n&&("string"==typeof t?n[t]:n.x&&n.y)}function RS(e,t,n){if("string"!=typeof t)throw new Error("axis must be in [x, y]");if("number"!=typeof n&&!1!==n)throw new Error("value must be Number or false");var r,i=e[t],o=e.snapped=e.snapped||{};return!1===n?o[t]=!1:(o[t]=!0,e[t]+=r=n-i,e["d"+t]+=r),i}function PS(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function MS(e){this._snapValues={}}PS.prototype.getSnapOrigin=function(e){return this._snapOrigins[e]},PS.prototype.setSnapOrigin=function(e,t){this._snapOrigins[e]=t,-1===this._snapLocations.indexOf(e)&&this._snapLocations.push(e)},PS.prototype.addDefaultSnap=function(e,t){var n=this._defaultSnaps[e];n||(n=this._defaultSnaps[e]=[]),n.push(t)},PS.prototype.getSnapLocations=function(){return this._snapLocations},PS.prototype.setSnapLocations=function(e){this._snapLocations=e},PS.prototype.pointsForTarget=function(e){var t=e.id||e,n=this._targets[t];return n||(n=this._targets[t]=new MS).initDefaults(this._defaultSnaps),n},MS.prototype.add=function(e,t){var n=this._snapValues[e];n||(n=this._snapValues[e]={x:[],y:[]}),-1===n.x.indexOf(t.x)&&n.x.push(t.x),-1===n.y.indexOf(t.y)&&n.y.push(t.y)},MS.prototype.snap=function(e,t,n,r){var i=this._snapValues[t];return i&&function(e,t,n){var r,i;for(n=void 0===n?10:n,r=0;r<t.length;r++)if(jS((i=t[r])-e)<=n)return i}(e[n],i[n],r)},MS.prototype.initDefaults=function(e){var t=this;Object(_d.i)(e||{},function(e,n){Object(_d.i)(e,function(e){t.add(n,e)})})};var DS=1250;function NS(e,t){this._canvas=t;var n=this;e.on(["shape.move.start","create.start"],function(e){n.initSnap(e)}),e.on(["shape.move.move","shape.move.end","create.move","create.end"],DS,function(e){e.originalEvent&&e.originalEvent.ctrlKey||AS(e)||n.snap(e)}),e.on(["shape.move.cleanup","create.cleanup"],function(e){n.hide()}),this._asyncHide=Object(_d.c)(Object(_d.b)(this.hide,this),1e3)}NS.$inject=["eventBus","canvas"],NS.prototype.initSnap=function(e){var t=e.context,n=t.shape,r=t.snapContext;r||(r=t.snapContext=new PS);var i=kS(n,e);return r.setSnapOrigin("mid",{x:i.x-e.x,y:i.y-e.y}),r},NS.prototype.snap=function(e){var t=e.context,n=t.snapContext,r=t.shape,i=t.target,o=n.getSnapLocations();if(i){var a=n.pointsForTarget(i);a.initialized||(this.addTargetSnaps(a,r,i),a.initialized=!0);var s={x:AS(e,"x"),y:AS(e,"y")};Object(_d.i)(o,function(t){var r=n.getSnapOrigin(t),i={x:e.x+r.x,y:e.y+r.y};if(Object(_d.i)(["x","y"],function(e){var n;s[e]||void 0!==(n=a.snap(i,t,e,7))&&(s[e]={value:n,originValue:n-r[e]})}),s.x&&s.y)return!1}),this.showSnapLine("vertical",s.x&&s.x.value),this.showSnapLine("horizontal",s.y&&s.y.value),Object(_d.i)(["x","y"],function(t){var n=s[t];"object"==typeof n&&RS(e,t,n.originValue)})}},NS.prototype._createLine=function(e){var t=this._canvas.getLayer("snap"),n=Object(Ed.f)("path");return Object(Ed.b)(n,{d:"M0,0 L0,0"}),Object(Ed.c)(n).add("djs-snap-line"),Object(Ed.a)(t,n),{update:function(t){"number"!=typeof t?Object(Ed.b)(n,{display:"none"}):"horizontal"===e?Object(Ed.b)(n,{d:"M-100000,"+t+" L+100000,"+t,display:""}):Object(Ed.b)(n,{d:"M "+t+",-100000 L "+t+", +100000",display:""})}}},NS.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},NS.prototype.showSnapLine=function(e,t){var n=this.getSnapLine(e);n&&n.update(t),this._asyncHide()},NS.prototype.getSnapLine=function(e){return this._snapLines||this._createSnapLines(),this._snapLines[e]},NS.prototype.hide=function(){Object(_d.i)(this._snapLines,function(e){e.update()})},NS.prototype.addTargetSnaps=function(e,t,n){var r=this.getSiblings(t,n);Object(_d.i)(r,function(t){e.add("mid",kS(t))})},NS.prototype.getSiblings=function(e,t){return t&&Object(_d.e)(t.children,function(t){return!t.hidden&&!t.labelTarget&&t.host!==e&&t!==e})};var IS=Math.round,BS=1500;function LS(e,t,n,r){NS.call(this,e,t),e.on("create.start",function(e){var n=e.context,r=n.shape,i=t.getRootElement();Xm(r,"bpmn:Participant")&&Xm(i,"bpmn:Process")&&FS(n,r,i.children)}),e.on(["create.move","create.end"],BS,function(e){var t=e.context,n=t.shape,r=t.participantSnapBox;!AS(e)&&r&&function(e,t,n,i){var o=t.width/2-(i=i||0),a=t.height/2,s=n.x-o-i,c=n.y-a,u=n.x+o+i,l=n.y+a,p=r,h=TS(r);s>=p.x?RS(n,"x",p.x+i+o):u<=h.x&&RS(n,"x",h.x-i-o),c>=p.y?RS(n,"y",p.y+a):l<=h.y&&RS(n,"y",h.y-a)}(0,n,e)}),e.on("shape.move.start",function(e){var n=e.context,r=n.shape,i=t.getRootElement();Xm(r,"bpmn:Participant")&&Xm(i,"bpmn:Process")&&FS(n,r,i.children)}),e.on(["create.move","create.end","shape.move.move","shape.move.end"],BS,function(e){var t=e.context,r=t.target,i=t.shape;r&&!AS(e)&&function(t,r,i){return"attach"===n.canAttach([t],r,null,e)}(i,r)&&function(e,t,n){var r=Wy(n),i=Ux(e,n);/top/.test(i)?RS(e,"y",r.top):/bottom/.test(i)&&RS(e,"y",r.bottom),/left/.test(i)?RS(e,"x",r.left):/right/.test(i)&&RS(e,"x",r.right)}(e,0,r)}),e.on(["shape.move.hover","shape.move.move","shape.move.end","create.hover","create.move","create.end"],BS,function(e){var t=e.context.shape,n=e.hover;Xm(n,"bpmn:Lane")&&!jg(t,["bpmn:Lane","bpmn:Participant"])&&(e.hover=Vw(n),e.hoverGfx=r.getGraphics(e.hover))}),e.on(["connect.move","connect.hover","connect.end"],BS,function(e){var t=e.context,r=t.source,i=t.target,o=function(e,t){return n.canConnect(e,t)}(r,i)||{};t.initialSourcePosition||(t.initialSourcePosition=t.sourcePosition),!i||"bpmn:Association"!==o.type&&"bpmn:DataOutputAssociation"!==o.type&&"bpmn:DataInputAssociation"!==o.type&&"bpmn:SequenceFlow"!==o.type?"bpmn:MessageFlow"===o.type?(Xm(r,"bpmn:Event")&&(t.sourcePosition=kS(r)),Xm(i,"bpmn:Event")&&zS(e,kS(i))):t.sourcePosition=t.initialSourcePosition:(t.sourcePosition=kS(r),zS(e,kS(i)))}),e.on("resize.start",BS,function(e){var t,n,r,i,o,a,s,c,u,l,p=e.context,h=p.shape;Xm(h,"bpmn:SubProcess")&&Qm(h)&&(p.minDimensions={width:140,height:120}),Xm(h,"bpmn:Participant")&&(p.minDimensions={width:300,height:150}),(Xm(h,"bpmn:Lane")||Xm(h,"bpmn:Participant"))&&(p.resizeConstraints=(n=p.direction,r=p.balanced,i=Vw(t=h),o=!0,a=!0,s=Fw(i,[i]),c=Wy(t),u={},l={},/e/.test(n)?l.right=c.left+Xx:/w/.test(n)&&(l.left=c.right-Xx),s.forEach(function(e){var t=Wy(e);/n/.test(n)&&(t.top<c.top-10&&(o=!1),r&&Hx(c.top-t.bottom)<10&&Kx(u,"top",t.top+Zx),Hx(c.top-t.top)<5&&qx(l,"top",t.bottom-Zx)),/s/.test(n)&&(t.bottom>c.bottom+10&&(a=!1),r&&Hx(c.bottom-t.top)<10&&qx(u,"bottom",t.bottom-Zx),Hx(c.bottom-t.bottom)<5&&Kx(l,"bottom",t.top+Zx))}),i.children.filter(function(e){return!e.hidden&&!e.waypoints&&(Xm(e,"bpmn:FlowElement")||Xm(e,"bpmn:Artifact"))}).forEach(function(e){var t=Wy(e);o&&/n/.test(n)&&qx(l,"top",t.top-Jx),/e/.test(n)&&Kx(l,"right",t.right+Yx),a&&/s/.test(n)&&Kx(l,"bottom",t.bottom+eE),/w/.test(n)&&qx(l,"left",t.left-Qx)}),{min:l,max:u})),Xm(h,"bpmn:TextAnnotation")&&(p.minDimensions={width:50,height:30})})}function FS(e,t,n){if(n.length){var r=Object(lv.b)(n.filter(function(e){return!e.labelTarget&&!e.waypoints}));r.x-=50,r.y-=20,r.width+=70,r.height+=40,t.width=Math.max(t.width,r.width),t.height=Math.max(t.height,r.height),e.participantSnapBox=r}}function zS(e,t){RS(e,"x",t.x),RS(e,"y",t.y)}LS.$inject=["eventBus","canvas","bpmnRules","elementRegistry"],LS.prototype.initSnap=function(e){var t,n,r,i,o,a=e.context,s=e.shape;o=NS.prototype.initSnap.call(this,e),Xm(s,"bpmn:Participant")&&o.setSnapLocations(["top-left","bottom-right","mid"]),s&&(t=kS(s,e),r=CS(n={width:s.width,height:s.height,x:isNaN(s.x)?IS(t.x-s.width/2):s.x,y:isNaN(s.y)?IS(t.y-s.height/2):s.y}),i=TS(n),o.setSnapOrigin("top-left",{x:r.x-e.x,y:r.y-e.y}),o.setSnapOrigin("bottom-right",{x:i.x-e.x,y:i.y-e.y}),Object(_d.i)(s.outgoing,function(t){var n=t.waypoints[0];o.setSnapOrigin(t.id+"-docking",{x:(n=n.original||n).x-e.x,y:n.y-e.y})}),Object(_d.i)(s.incoming,function(t){var n=t.waypoints[t.waypoints.length-1];o.setSnapOrigin(t.id+"-docking",{x:(n=n.original||n).x-e.x,y:n.y-e.y})}));var c=a.source;c&&o.addDefaultSnap("mid",kS(c))},LS.prototype.addTargetSnaps=function(e,t,n){Xm(t,"bpmn:BoundaryEvent")&&"label"!==t.type&&(n=n.parent),Xm(n,"bpmn:SequenceFlow")&&this.addTargetSnaps(e,t,n.parent);var r=this.getSiblings(t,n)||[];Object(_d.i)(r,function(t){Xm(t,"bpmn:Lane")||(t.waypoints?Object(_d.i)(t.waypoints.slice(1,-1),function(n,r){var i=t.waypoints[r+2],o=t.waypoints[r];if(!i||!o)throw new Error("waypoints must exist");i.x!==n.x&&i.y!==n.y&&o.x!==n.x&&o.y!==n.y||e.add("mid",n)}):(e.add("mid",kS(t)),Xm(t,"bpmn:Participant")&&(e.add("top-left",CS(t)),e.add("bottom-right",TS(t)))))}),Object(_d.i)(t.incoming,function(t){-1===r.indexOf(t.source)&&e.add("mid",kS(t.source));var n=t.waypoints[0];e.add(t.id+"-docking",n.original||n)}),Object(_d.i)(t.outgoing,function(t){-1===r.indexOf(t.target)&&e.add("mid",kS(t.target));var n=t.waypoints[t.waypoints.length-1];e.add(t.id+"-docking",n.original||n)})};var VS={__init__:["snapping"],snapping:["type",LS]};function US(e,t,n,r){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=e,this._eventBus=t,this._overlays=n,this._selection=r,this._container=Object(xd.f)(US.BOX_HTML),this._searchInput=Object(xd.i)(US.INPUT_SELECTOR,this._container),this._resultsContainer=Object(xd.i)(US.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),t.on(["canvas.destroy","diagram.destroy"],this.close,this)}function HS(e,t,n){var r=function(e){var t="";return e.forEach(function(e){t+=e.matched?'<strong class="'+US.RESULT_HIGHLIGHT_CLASS+'">'+e.matched+"</strong>":e.normal}),""!==t?t:null}(t),i=Object(xd.f)(n);i.innerHTML=r,e.appendChild(i)}US.$inject=["canvas","eventBus","overlays","selection"],US.prototype._bindEvents=function(){var e=this;function t(t,n,r,i){e._eventMaps.push({el:t,type:r,listener:xd.e.bind(t,n,r,i)})}t(document,"html","click",function(t){e.close()}),t(this._container,US.INPUT_SELECTOR,"click",function(e){e.stopPropagation(),e.delegateTarget.focus()}),t(this._container,US.RESULT_SELECTOR,"mouseover",function(t){t.stopPropagation(),e._scrollToNode(t.delegateTarget),e._preselect(t.delegateTarget)}),t(this._container,US.RESULT_SELECTOR,"click",function(t){t.stopPropagation(),e._select(t.delegateTarget)}),t(this._container,US.INPUT_SELECTOR,"keydown",function(e){38===e.keyCode&&e.preventDefault(),40===e.keyCode&&e.preventDefault()}),t(this._container,US.INPUT_SELECTOR,"keyup",function(t){if(27===t.keyCode)return e.close();if(13===t.keyCode){var n=e._getCurrentResult();return n?e._select(n):e.close()}return 38===t.keyCode?e._scrollToDirection(!0):40===t.keyCode?e._scrollToDirection():void(37!==t.keyCode&&39!==t.keyCode&&e._search(t.delegateTarget.value))})},US.prototype._unbindEvents=function(){this._eventMaps.forEach(function(e){xd.e.unbind(e.el,e.type,e.listener)})},US.prototype._search=function(e){var t=this;if(this._clearResults(),e&&""!==e){var n=this._searchProvider.find(e);if(n.length){n.forEach(function(e){var n=e.element.id,r=t._createResultNode(e,n);t._results[n]={element:e.element,node:r}});var r=Object(xd.i)(US.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(r),this._preselect(r)}}},US.prototype._scrollToDirection=function(e){var t=this._getCurrentResult();if(t){var n=e?t.previousElementSibling:t.nextElementSibling;n&&(this._scrollToNode(n),this._preselect(n))}},US.prototype._scrollToNode=function(e){if(e&&e!==this._getCurrentResult()){var t=e.offsetTop,n=this._resultsContainer.scrollTop,r=t-this._resultsContainer.clientHeight+e.clientHeight;t<n?this._resultsContainer.scrollTop=t:n<r&&(this._resultsContainer.scrollTop=r)}},US.prototype._clearResults=function(){Object(xd.c)(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},US.prototype._getCurrentResult=function(){return Object(xd.i)(US.RESULT_SELECTED_SELECTOR,this._resultsContainer)},US.prototype._createResultNode=function(e,t){var n=Object(xd.f)(US.RESULT_HTML);return e.primaryTokens.length>0&&HS(n,e.primaryTokens,US.RESULT_PRIMARY_HTML),HS(n,e.secondaryTokens,US.RESULT_SECONDARY_HTML),Object(xd.a)(n,US.RESULT_ID_ATTRIBUTE,t),this._resultsContainer.appendChild(n),n},US.prototype.registerProvider=function(e){this._searchProvider=e},US.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,Object(xd.b)(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},US.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,Object(xd.b)(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},US.prototype.toggle=function(){this.isOpen()?this.close():this.open()},US.prototype.isOpen=function(){return this._open},US.prototype._preselect=function(e){var t=this._getCurrentResult();if(e!==t){t&&Object(xd.b)(t).remove(US.RESULT_SELECTED_CLASS);var n=Object(xd.a)(e,US.RESULT_ID_ATTRIBUTE),r=this._results[n].element;Object(xd.b)(e).add(US.RESULT_SELECTED_CLASS),this._resetOverlay(r),this._centerViewbox(r),this._selection.select(r),this._eventBus.fire("searchPad.preselected",r)}},US.prototype._select=function(e){var t=Object(xd.a)(e,US.RESULT_ID_ATTRIBUTE),n=this._results[t].element;this.close(),this._resetOverlay(),this._centerViewbox(n),this._selection.select(n),this._eventBus.fire("searchPad.selected",n)},US.prototype._centerViewbox=function(e){var t=this._canvas.viewbox(),n=Object(lv.b)(e);this._canvas.viewbox({x:n.x+n.width/2-t.outer.width/2,y:n.y+n.height/2-t.outer.height/2,width:t.outer.width,height:t.outer.height}),this._canvas.zoom(t.scale)},US.prototype._resetOverlay=function(e){if(this._overlayId&&this._overlays.remove(this._overlayId),e){var t=function(e){var t=e.width+12,n=e.height+12;return{position:{bottom:n-6,right:t-6},show:!0,html:'<div style="'+["width: "+t+"px","height: "+n+"px"].join("; ")+'" class="'+US.OVERLAY_CLASS+'"></div>'}}(Object(lv.b)(e));this._overlayId=this._overlays.add(e,t)}},US.CONTAINER_SELECTOR=".djs-search-container",US.INPUT_SELECTOR=".djs-search-input input",US.RESULTS_CONTAINER_SELECTOR=".djs-search-results",US.RESULT_SELECTOR=".djs-search-result",US.RESULT_SELECTED_SELECTOR="."+(US.RESULT_SELECTED_CLASS="djs-search-result-selected"),US.RESULT_ID_ATTRIBUTE="data-result-id",US.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",US.OVERLAY_CLASS="djs-search-overlay",US.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',US.RESULT_HTML='<div class="djs-search-result"></div>',US.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',US.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';var $S={__depends__:[Sv,bv],searchPad:["type",US]};function WS(e,t,n){this._elementRegistry=e,this._canvas=n,t.registerProvider(this)}function GS(e){return Object(_d.e)(e,function(e){return!!e.matched}).length>0}function qS(e,t){var n=[],r=e;if(!e)return n;e=e.toLowerCase(),t=t.toLowerCase();var i=e.indexOf(t);return i>-1?(0!==i&&n.push({normal:r.substr(0,i)}),n.push({matched:r.substr(i,t.length)}),t.length+i<e.length&&n.push({normal:r.substr(t.length+i,e.length)})):n.push({normal:r}),n}WS.$inject=["elementRegistry","searchPad","canvas"],WS.prototype.find=function(e){var t=this._canvas.getRootElement(),n=this._elementRegistry.filter(function(e){return!e.labelTarget});return n=Object(_d.e)(n,function(e){return e!==t}),n=Object(_d.t)(n,function(t){return{primaryTokens:qS(k_(t),e),secondaryTokens:qS(t.id,e),element:t}}),n=Object(_d.e)(n,function(e){return GS(e.primaryTokens)||GS(e.secondaryTokens)}),Object(_d.A)(n,function(e){return k_(e.element)+e.element.id})};var KS={__depends__:[$S],__init__:["bpmnSearch"],bpmnSearch:["type",WS]};function ZS(e){Mv.call(this,e),this.on("import.parse.complete",function(e){e.error||this._collectIds(e.definitions,e.context)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}ZS.Viewer=Mv,ZS.NavigatedViewer=sg,ZS.prototype.createDiagram=function(e){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>',e)},ZS.prototype._createModdle=function(e){var t=Mv.prototype._createModdle.call(this,e);return t.ids=new wd.a([32,36,1]),t},ZS.prototype._collectIds=function(e,t){var n,r=e.$model.ids;for(n in r.clear(),t.elementsById)r.claim(n,t.elementsById[n])},ZS.prototype._modules=[].concat(ZS.prototype._modules,ZS.prototype._interactionModules=[Hv,Jv,gg,ag],ZS.prototype._modelingModules=[Og,Bg,eb,$g,Db,$w,Yw,n_,s_,u_,m_,N_,Kj,sS,_S,OS,S_,VS,KS]);var XS=function(){function e(e){this.http=e}return e.prototype.ngOnInit=function(){this.http.get("assets/resources/example.bpmn",{responseType:"text"}).subscribe(function(e){var t=e;new ZS({container:"#canvas"}).importXML(t,function(e){e?console.log("something went wrong:",e):console.log("success!")})})},e}(),YS=function(){return function(){}}(),QS=function(){return function(){}}(),JS=function(){function e(e){var t=this;this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){t.headers=new Map,e.split("\n").forEach(function(e){var n=e.indexOf(":");if(n>0){var r=e.slice(0,n),i=r.toLowerCase(),o=e.slice(n+1).trim();t.maybeSetNormalizedName(r,i),t.headers.has(i)?t.headers.get(i).push(o):t.headers.set(i,[o])}})}:function(){t.headers=new Map,Object.keys(e).forEach(function(n){var r=e[n],i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(t.headers.set(i,r),t.maybeSetNormalizedName(n,i))})}:this.headers=new Map}return e.prototype.has=function(e){return this.init(),this.headers.has(e.toLowerCase())},e.prototype.get=function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null},e.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},e.prototype.getAll=function(e){return this.init(),this.headers.get(e.toLowerCase())||null},e.prototype.append=function(e,t){return this.clone({name:e,value:t,op:"a"})},e.prototype.set=function(e,t){return this.clone({name:e,value:t,op:"s"})},e.prototype.delete=function(e,t){return this.clone({name:e,value:t,op:"d"})},e.prototype.maybeSetNormalizedName=function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)},e.prototype.init=function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))},e.prototype.copyFrom=function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})},e.prototype.clone=function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n},e.prototype.applyUpdate=function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,l(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter(function(e){return-1===i.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}},e.prototype.forEach=function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})},e}(),eC=function(){function e(){}return e.prototype.encodeKey=function(e){return tC(e)},e.prototype.encodeValue=function(e){return tC(e)},e.prototype.decodeKey=function(e){return decodeURIComponent(e)},e.prototype.decodeValue=function(e){return decodeURIComponent(e)},e}();function tC(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var nC=function(){function e(e){void 0===e&&(e={});var t,n,r,i=this;if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new eC,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=e.fromString,n=this.encoder,r=new Map,t.length>0&&t.split("&").forEach(function(e){var t=e.indexOf("="),i=u(-1==t?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),o=i[0],a=i[1],s=r.get(o)||[];s.push(a),r.set(o,s)}),r)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(function(t){var n=e.fromObject[t];i.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}return e.prototype.has=function(e){return this.init(),this.map.has(e)},e.prototype.get=function(e){this.init();var t=this.map.get(e);return t?t[0]:null},e.prototype.getAll=function(e){return this.init(),this.map.get(e)||null},e.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},e.prototype.append=function(e,t){return this.clone({param:e,value:t,op:"a"})},e.prototype.set=function(e,t){return this.clone({param:e,value:t,op:"s"})},e.prototype.delete=function(e,t){return this.clone({param:e,value:t,op:"d"})},e.prototype.toString=function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).join("&")},e.prototype.clone=function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n},e.prototype.init=function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=null)},e}();function rC(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function iC(e){return"undefined"!=typeof Blob&&e instanceof Blob}function oC(e){return"undefined"!=typeof FormData&&e instanceof FormData}var aC=function(){function e(e,t,n,r){var i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new JS),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{var a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new nC,this.urlWithParams=t}return e.prototype.serializeBody=function(){return null===this.body?null:rC(this.body)||iC(this.body)||oC(this.body)||"string"==typeof this.body?this.body:this.body instanceof nC?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},e.prototype.detectContentTypeHeader=function(){return null===this.body?null:oC(this.body)?null:iC(this.body)?this.body.type||null:rC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nC?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},e.prototype.clone=function(t){void 0===t&&(t={});var n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,c=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce(function(e,n){return e.set(n,t.setHeaders[n])},c)),t.setParams&&(u=Object.keys(t.setParams).reduce(function(e,n){return e.set(n,t.setParams[n])},u)),new e(n,r,o,{params:u,headers:c,reportProgress:s,responseType:i,withCredentials:a})},e}(),sC=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),cC=function(){return function(e,t,n){void 0===t&&(t=200),void 0===n&&(n="OK"),this.headers=e.headers||new JS,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}(),uC=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.type=sC.ResponseHeader,n}return i(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(cC),lC=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.type=sC.Response,n.body=void 0!==t.body?t.body:null,n}return i(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(cC),pC=function(e){function t(t){var n=e.call(this,t,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for "+(t.url||"(unknown url)")+": "+t.status+" "+t.statusText,n.error=t.error||null,n}return i(t,e),t}(cC);function hC(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var fC=function(){function e(e){this.handler=e}return e.prototype.request=function(e,t,n){var r,i=this;if(void 0===n&&(n={}),e instanceof aC)r=e;else{var o;o=n.headers instanceof JS?n.headers:new JS(n.headers);var a=void 0;n.params&&(a=n.params instanceof nC?n.params:new nC({fromObject:n.params})),r=new aC(e,t,void 0!==n.body?n.body:null,{headers:o,params:a,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var s=ou(r).pipe(Fu(function(e){return i.handler.handle(e)}));if(e instanceof aC||"events"===n.observe)return s;var c=s.pipe(lu(function(e){return e instanceof lC}));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return c.pipe(ee(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return c.pipe(ee(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return c.pipe(ee(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return c.pipe(ee(function(e){return e.body}))}case"response":return c;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},e.prototype.delete=function(e,t){return void 0===t&&(t={}),this.request("DELETE",e,t)},e.prototype.get=function(e,t){return void 0===t&&(t={}),this.request("GET",e,t)},e.prototype.head=function(e,t){return void 0===t&&(t={}),this.request("HEAD",e,t)},e.prototype.jsonp=function(e,t){return this.request("JSONP",e,{params:(new nC).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},e.prototype.options=function(e,t){return void 0===t&&(t={}),this.request("OPTIONS",e,t)},e.prototype.patch=function(e,t,n){return void 0===n&&(n={}),this.request("PATCH",e,hC(n,t))},e.prototype.post=function(e,t,n){return void 0===n&&(n={}),this.request("POST",e,hC(n,t))},e.prototype.put=function(e,t,n){return void 0===n&&(n={}),this.request("PUT",e,hC(n,t))},e}(),dC=function(){function e(e,t){this.next=e,this.interceptor=t}return e.prototype.handle=function(e){return this.interceptor.intercept(e,this.next)},e}(),mC=new Ce("HTTP_INTERCEPTORS"),yC=function(){function e(){}return e.prototype.intercept=function(e,t){return t.handle(e)},e}(),vC=/^\)\]\}',?\n/,gC=function(){return function(){}}(),bC=function(){function e(){}return e.prototype.build=function(){return new XMLHttpRequest},e}(),wC=function(){function e(e){this.xhrFactory=e}return e.prototype.handle=function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new M(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,c=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new JS(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new uC({headers:i,status:t,statusText:n,url:o})},u=function(){var t=c(),i=t.headers,o=t.status,a=t.statusText,s=t.url,u=null;204!==o&&(u=void 0===r.response?r.responseText:r.response),0===o&&(o=u?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof u){var p=u;u=u.replace(vC,"");try{u=""!==u?JSON.parse(u):null}catch(h){u=p,l&&(l=!1,u={error:h,text:u})}}l?(n.next(new lC({body:u,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new pC({error:u,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(e){var t=new pC({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error"});n.error(t)},p=!1,h=function(t){p||(n.next(c()),p=!0);var i={type:sC.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},f=function(e){var t={type:sC.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",u),r.addEventListener("error",l),e.reportProgress&&(r.addEventListener("progress",h),null!==a&&r.upload&&r.upload.addEventListener("progress",f)),r.send(a),n.next({type:sC.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",u),e.reportProgress&&(r.removeEventListener("progress",h),null!==a&&r.upload&&r.upload.removeEventListener("progress",f)),r.abort()}})},e}(),_C=new Ce("XSRF_COOKIE_NAME"),xC=new Ce("XSRF_HEADER_NAME"),EC=function(){return function(){}}(),OC=function(){function e(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return e.prototype.getToken=function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=al(e,this.cookieName),this.lastCookieString=e),this.lastToken},e}(),jC=function(){function e(e,t){this.tokenService=e,this.headerName=t}return e.prototype.intercept=function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)},e}(),SC=function(){function e(e,t){this.backend=e,this.injector=t,this.chain=null}return e.prototype.handle=function(e){if(null===this.chain){var t=this.injector.get(mC,[]);this.chain=t.reduceRight(function(e,t){return new dC(e,t)},this.backend)}return this.chain.handle(e)},e}(),CC=function(){function e(){}var t;return t=e,e.disable=function(){return{ngModule:t,providers:[{provide:jC,useClass:yC}]}},e.withOptions=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.cookieName?{provide:_C,useValue:e.cookieName}:[],e.headerName?{provide:xC,useValue:e.headerName}:[]]}},e}(),kC=function(){return function(){}}(),TC=la({encapsulation:0,styles:[["div#js-drop-zone[_ngcontent-%COMP%]{height:500px;width:90%;border:1px solid #000}"]],data:{}});function AC(e){return Gs(0,[(e()(),Ia(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),Ia(1,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),Ia(2,0,null,null,2,"div",[["class","content with-diagram"],["id","js-drop-zone"]],null,null,null,null,null)),(e()(),Ia(3,0,null,null,0,"div",[["class","canvas"],["id","canvas"]],null,null,null,null,null)),(e()(),Ia(4,0,null,null,0,"div",[["class","properties-panel-parent"],["id","js-properties-panel"]],null,null,null,null,null))],null,null)}function RC(e){return Gs(0,[(e()(),Ia(0,0,null,null,1,"bpmn-viewer",[],null,null,null,AC,TC)),Os(1,114688,null,0,XS,[fC],null,null)],function(e,t){e(t,1,0)},null)}var PC=es("bpmn-viewer",XS,RC,{},{},[]),MC=Array.prototype.slice;function DC(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function NC(){}function IC(e,t){Fd.call(this,e,t)}DC.prototype.on=function(e,t,n,r){if(e=Object(_d.l)(e)?e:[e],Object(_d.n)(t)&&(r=n,n=t,t=1e3),!Object(_d.o)(t))throw new Error("priority must be a number");var i=n;r&&((i=Object(_d.b)(n,r)).__fn=n.__fn||n);var o=this,a={priority:t,callback:i};e.forEach(function(e){o._addListener(e,a)})},DC.prototype.once=function(e,t,n,r){var i=this;if(Object(_d.n)(t)&&(r=n,n=t,t=1e3),!Object(_d.o)(t))throw new Error("priority must be a number");function o(){return i.off(e,o),n.apply(r,arguments)}o.__fn=n,this.on(e,t,o)},DC.prototype.off=function(e,t){e=Object(_d.l)(e)?e:[e];var n=this;e.forEach(function(e){n._removeListener(e,t)})},DC.prototype.createEvent=function(e){var t=new NC;return t.init(e),t},DC.prototype.fire=function(e,t){var n,r,i,o;if(o=MC.call(arguments),"object"==typeof e&&(e=(n=e).type),!e)throw new Error("no event type specified");if(r=this._listeners[e]){n=t instanceof NC?t:this.createEvent(t),o[0]=n;var a=n.type;e!==a&&(n.type=e);try{i=this._invokeListeners(n,o,r)}finally{e!==a&&(n.type=a)}return void 0===i&&n.defaultPrevented&&(i=!1),i}},DC.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},DC.prototype._destroy=function(){this._listeners={}},DC.prototype._invokeListeners=function(e,t,n){var r,i,o;for(r=0;(i=n[r])&&!e.cancelBubble;r++)o=this._invokeListener(e,t,i);return o},DC.prototype._invokeListener=function(e,t,n){var r;try{void 0!==(r=function(e,t){return n.callback.apply(null,t)}(0,t))&&(e.returnValue=r,e.stopPropagation()),!1===r&&e.preventDefault()}catch(i){if(!this.handleError(i))throw console.error("unhandled error in event listener"),console.error(i.stack),i}return r},DC.prototype._addListener=function(e,t){var n,r,i=this._getListeners(e);for(r=0;n=i[r];r++)if(n.priority<t.priority)return void i.splice(r,0,t);i.push(t)},DC.prototype._getListeners=function(e){var t=this._listeners[e];return t||(this._listeners[e]=t=[]),t},DC.prototype._removeListener=function(e,t){var n,r,i,o=this._getListeners(e);if(t)for(i=o.length-1;n=o[i];i--)(r=n.callback)!==t&&r.__fn!==t||o.splice(i,1);else o.length=0},NC.prototype.stopPropagation=function(){this.cancelBubble=!0},NC.prototype.preventDefault=function(){this.defaultPrevented=!0},NC.prototype.init=function(e){Object(_d.a)(this,e||{})},(IC.prototype=Object.create(Fd.prototype)).fromXML=function(e,t,n,r){Object(_d.q)(t)||(r=n,n=t,t="dmn:Definitions"),Object(_d.n)(n)&&(r=n,n={});var i=new Om(Object(_d.a)({model:this,lax:!0},n)),o=i.handler(t);i.fromXML(e,o,r)},IC.prototype.toXML=function(e,t,n){Object(_d.n)(t)&&(n=t,t={});var r,i,o=new zm(t);try{r=o.toXML(e)}catch(a){i=a}return n(i,r)};var BC={dmn:n("7NMx"),camunda:n("S0vh"),dc:n("cgRi"),biodi:n("LFrU")},LC=function(e,t){return new IC(Object(_d.a)({},BC,e),t)},FC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VC=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function UC(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var HC={width:"100%",height:"100%",position:"relative"},$C=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._viewsChanged=function(){t._emit("views.changed",{views:t._views,activeView:t._activeView})},this._eventBus=new DC,this._viewsChanged=Object(_d.c)(this._viewsChanged,0),this._views=[],this._viewers={},this._init(n)}return VC(e,[{key:"importXML",value:function(e,t,n){var r=this;"object"!==(void 0===t?"undefined":zC(t))&&(n=t,t={open:!0}),"function"!=typeof n&&(n=WC),e=this._emit("import.parse.start",{xml:e})||e,this._moddle.fromXML(e,"dmn:Definitions",function(e,i,o){i=r._emit("import.parse.complete",{error:e,definitions:i,context:o})||i;var a=o.warnings;if(r._setDefinitions(i),e&&(e=function(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);return t&&(e.message="unparsable content <"+t[1]+"> detected; this may indicate an invalid DMN 1.1 diagram file"+t[2]),e}(e)),e||!t.open)return r._emit("import.done",{error:e,warmings:a}),n(e,a);var s=r._activeView||r._getInitialView(r._views);if(!s)return n(new Error("no displayable contents"));r.open(s,function(e,t){var i=[].concat(a,t||[]);r._emit("import.done",{error:e,warnings:i}),n(e,i)})})}},{key:"getDefinitions",value:function(){return this._definitions}},{key:"getActiveView",value:function(){return this._activeView}},{key:"getActiveViewer",value:function(){var e=this.getActiveView();return e&&this._getViewer(e)}},{key:"getView",value:function(e){return this._views.filter(function(t){return t.element===e})[0]}},{key:"getViews",value:function(){return this._views}},{key:"saveXML",value:function(e,t){var n=this;"function"==typeof e&&(t=e,e={});var r=this._definitions;if(!r)return t(new Error("no definitions loaded"));r=this._emit("saveXML.start",{definitions:r})||r,this._moddle.toXML(r,e,function(e,r){try{r=n._emit("saveXML.serialized",{error:e,xml:r})||r,n._emit("saveXML.done",{error:e,xml:r})}catch(i){console.error("error in saveXML life-cycle listener",i)}t(e,r)})}},{key:"on",value:function(){var e;(e=this._eventBus).on.apply(e,arguments)}},{key:"off",value:function(){var e;(e=this._eventBus).off.apply(e,arguments)}},{key:"once",value:function(){var e;(e=this._eventBus).once.apply(e,arguments)}},{key:"attachTo",value:function(e){e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"==typeof e&&(e=Object(xd.i)(e)),e.appendChild(this._container)}},{key:"detach",value:function(){Object(xd.k)(this._container)}},{key:"destroy",value:function(){var e=this;Object.keys(this._viewers,function(t){ZC(e._viewers[t],"destroy")}),Object(xd.k)(this._container)}},{key:"_init",value:function(e){this._options=e,this._moddle=this._createModdle(e),this._viewers={},this._views=[];var t=Object(xd.f)('<div class="dmn-js-parent"></div>'),n=Object(_d.a)({},HC,e);Object(_d.a)(t.style,{width:GC(n.width),height:GC(n.height),position:n.position}),this._container=t,e.container&&this.attachTo(e.container)}},{key:"open",value:function(e){this._switchView(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:WC)}},{key:"_setDefinitions",value:function(e){this._definitions=e,this._updateViews()}},{key:"_updateViews",value:function(){var e=this._definitions;if(!e)return this._views=[],void this._switchView(null);var t=this._getViewProviders(),n=[e].concat(UC(e.drgElements||[]));this._views=n.reduce(function(e,n){var r=qC(t,function(e){return"string"==typeof e.opens?e.opens===n.$type:e.opens(n)});if(!r)return e;var i={element:n,type:r.id};return[].concat(UC(e),[i])},[]);var r,i=this._activeView;if(i){if(r=qC(this._views,function(e){return KC(i,e)})||this._getInitialView(this._views),!KC(i,r))return this._switchView(null);this._activeView=r}this._viewsChanged()}},{key:"_getInitialView",value:function(e){return e[0]}},{key:"_switchView",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WC,i=function(e,t){n._viewsChanged(),r(e,t)},o=this.getActiveView(),a=e&&this._getViewer(e),s=e&&e.element;if(o&&(t=this._getViewer(o))!==a&&(ZC(t,"clear"),t.detach()),this._activeView=e,a)return t!==a&&a.attachTo(this._container),this._emit("import.render.start",{view:e,element:s}),a.open(s,function(t,r){n._emit("import.render.complete",{view:e,error:t,warnings:r}),i(t,r)});i()}},{key:"_getViewer",value:function(e){var t=e.type,n=this._viewers[t];return n||(n=this._viewers[t]=this._createViewer(e.type),this._emit("viewer.created",{type:t,viewer:n})),n}},{key:"_createViewer",value:function(e){var t=qC(this._getViewProviders(),function(t){return t.id===e});if(!t)throw new Error("no provider for view type <"+e+">");var n=this._options[e]||{};return new(0,t.constructor)(FC({},this._options.common||{},n,{additionalModules:[].concat(UC(n.additionalModules||[]),[{_parent:["value",this],moddle:["value",this._moddle]}])}))}},{key:"_emit",value:function(){var e;(e=this._eventBus).fire.apply(e,arguments)}},{key:"_createModdle",value:function(e){return new LC(e.moddleExtensions||{})}},{key:"_getViewProviders",value:function(){return[]}}]),e}();function WC(){}function GC(e){return e+(Object(_d.o)(e)?"px":"")}function qC(e,t){return e.filter(t)[0]}function KC(e,t){return void 0===e?void 0===t:void 0!==t&&(e.element===t.element||e.element.id===t.element.id)}function ZC(e,t){"function"==typeof e[t]&&e[t]()}var XC=n("9Irz"),YC=n.n(XC);function QC(e,t){var n=JC(e);return n&&"function"==typeof n.$instanceOf&&n.$instanceOf(t)}function JC(e){return e&&e.businessObject||e}function ek(e,t){var n=[];function r(t,n){if(t.gfx)throw new Error("already rendered "+t.id);return e.element(t,n)}function i(e){var t=[];!function(e,t){var n=e.extensionElements;n&&Object(_d.i)(n.values,t)}(e,function(n){QC(n,"biodi:Bounds")?r(e,n):QC(n,"biodi:Edge")&&t.push(n)}),function(e,t){function i(t,i){var o,a=(o=i)&&o.href.slice(1),s=Object(_d.f)(e,Object(_d.u)({source:a}));s&&n.push(function(){r(t,s)})}if(QC(t,"dmn:Association"))return i(t,t.sourceRef);Object(_d.i)(["informationRequirement","knowledgeRequirement","authorityRequirement"],function(e){Object(_d.i)(t[e],function(e){var t=null;QC(e,"dmn:InformationRequirement")?t=["requiredDecision","requiredInput"]:QC(e,"dmn:KnowledgeRequirement")?t=["requiredKnowledge"]:QC(e,"dmn:AuthorityRequirement")&&(t=["requiredDecision","requiredInput","requiredAuthority"]),t&&Object(_d.i)(t,function(t){e[t]&&i(e,e[t])})})})}(t,e)}return{handleDefinitions:function(t){var r;e.root(t),Object(_d.i)(["decision","drgElements","artifacts"],function(e){t[e]&&Object(_d.i)(t[e],i)}),r=n,Object(_d.i)(r,function(e){e()})}}}var tk=n("5Qq9"),nk=0,rk={width:150,height:50};function ik(e,t){var n;t.textContent=e;try{var r,i=""===e;return t.textContent=i?"dummy":e,r={width:(n=t.getBBox()).width+2*n.x,height:n.height},i&&(r.width=0),r}catch(o){return{width:0,height:0}}}function ok(e,t,n){for(var r,i=e.shift(),o=i;;){if((r=ik(o,n)).width=o?r.width:0," "===o||""===o||r.width<Math.round(t)||o.length<2)return ak(e,o,i,r);o=sk(o,r.width,t)}}function ak(e,t,n,r){if(t.length<n.length){var i=n.slice(t.length).trim();e.unshift(i)}return{width:r.width,height:r.height,text:t}}function sk(e,t,n){var r=Math.max(e.length*(n/t),1),i=function(e,t){var n,r=e.split(/(\s|-)/g),i=[],o=0;if(r.length>1)for(;n=r.shift();){if(!(n.length+o<t)){"-"===n&&i.pop();break}i.push(n),o+=n.length}return i.join("")}(e,r);return i||(i=e.slice(0,Math.max(Math.round(r-1),1))),i}function ck(e){this._config=Object(_d.a)({},{size:rk,padding:nk,style:{},align:"center-top"},e||{})}ck.prototype.createText=function(e,t){return this.layoutText(e,t).element},ck.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions},ck.prototype.layoutText=function(e,t){var n=Object(_d.a)({},this._config.size,t.box),r=Object(_d.a)({},this._config.style,t.style),i=function(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}(t.align||this._config.align),o=function(e){return Object(_d.p)(e)?Object(_d.a)({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}(void 0!==t.padding?t.padding:this._config.padding),a=t.fitBox||!1,s=function(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}(r),c=e.split(/\r?\n/g),u=[],l=n.width-o.left-o.right,p=Object(Ed.f)("text");Object(Ed.b)(p,{x:0,y:0}),Object(Ed.b)(p,r);var h=function(){var e=document.getElementById("helper-svg");return e||(e=Object(Ed.f)("svg"),Object(Ed.b)(e,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(e)),e}();for(Object(Ed.a)(h,p);c.length;)u.push(ok(c,l,p));"middle"===i.vertical&&(o.top=o.bottom=0);var f=Object(_d.x)(u,function(e,t,n){return e+(s||t.height)},0)+o.top+o.bottom,d=Object(_d.x)(u,function(e,t,n){return t.width>e?t.width:e},0),m=o.top;"middle"===i.vertical&&(m+=(n.height-f)/2),m-=(s||u[0].height)/4;var y=Object(Ed.f)("text");return Object(Ed.b)(y,r),Object(_d.i)(u,function(e){var t;switch(m+=s||e.height,i.horizontal){case"left":t=o.left;break;case"right":t=(a?d:l)-o.right-e.width;break;default:t=Math.max(((a?d:l)-e.width)/2+o.left,0)}var n=Object(Ed.f)("tspan");Object(Ed.b)(n,{x:t,y:m}),n.textContent=e.text,Object(Ed.a)(y,n)}),Object(Ed.j)(p),{dimensions:{width:d,height:f},element:y}};var uk=n("9Ue4");function lk(e,t,n){tk.a.call(this,e);var r=new ck({style:{fontFamily:"Arial, sans-serif",fontSize:"12px"},size:{width:100}}),i={};function o(e){return"url(#"+i[e].id+")"}function a(e,t,r){return Object(_d.l)(t)||(r=t,t=[]),n.style(t||[],Object(_d.a)(r,e||{}))}function s(e,t,n,r,i,o){Object(_d.p)(i)&&(o=i,i=0),i=i||0,o=a(o,{stroke:"black",strokeWidth:2,fill:"white"});var s=Object(Ed.f)("rect");return Object(Ed.b)(s,{x:i,y:i,width:t-2*i,height:n-2*i,rx:r,ry:r}),Object(Ed.b)(s,o),Object(Ed.a)(e,s),s}function c(e,t,n){var i=r.createText(t||"",n);return Object(xd.a)(i,"class","djs-label"),Object(Ed.a)(e,i),i}function u(e,t,n){return c(e,function(e){return JC(e).name}(t),{box:t,align:n,padding:5})}function l(e,t,n){n=a(n,["no-fill"],{strokeWidth:2,stroke:"black"});var r=Object(Ed.f)("path");return Object(Ed.b)(r,{d:t}),Object(Ed.b)(r,n),Object(Ed.a)(e,r),r}var p={"dmn:Decision":function(e,t,n){var r=s(e,t.width,t.height,0,n);return u(e,t,"center-middle"),r},"dmn:KnowledgeSource":function(e,n,r){var i=l(e,t.getScaledPath("KNOWLEDGE_SOURCE",{xScaleFactor:1.021,yScaleFactor:1,containerWidth:n.width,containerHeight:n.height,position:{mx:0,my:.075}}),{strokeWidth:2,fill:"white",stroke:"black"});return u(e,n,"center-middle"),i},"dmn:BusinessKnowledgeModel":function(e,n,r){var i=l(e,t.getScaledPath("BUSINESS_KNOWLEDGE_MODEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:n.width,containerHeight:n.height,position:{mx:0,my:.3}}),{strokeWidth:2,fill:"white",stroke:"black"});return u(e,n,"center-middle"),i},"dmn:InputData":function(e,t,n){var r=s(e,t.width,t.height,22,n);return u(e,t,"center-middle"),r},"dmn:TextAnnotation":function(e,n,r){var i=s(e,n.width,n.height,0,0,{fill:"none",stroke:"none"});return l(e,t.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:n.width,containerHeight:n.height,position:{mx:0,my:0}})),c(e,pk(n).text||"",{box:n,align:"left-middle",padding:5}),i},"dmn:Association":function(e,t,n){var r=pk(t);return n=Object(_d.a)({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"},n||{}),"One"!==r.associationDirection&&"Both"!==r.associationDirection||(n.markerEnd=o("association-end")),"Both"===r.associationDirection&&(n.markerStart=o("association-start")),h(e,t.waypoints,n)},"dmn:InformationRequirement":function(e,t,n){return n=Object(_d.a)({strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:o("information-requirement-end")},n||{}),h(e,t.waypoints,n)},"dmn:KnowledgeRequirement":function(e,t,n){return n=Object(_d.a)({strokeWidth:1,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:o("knowledge-requirement-end")},n||{}),h(e,t.waypoints,n)},"dmn:AuthorityRequirement":function(e,t,n){return n=Object(_d.a)({strokeWidth:1.5,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:o("authority-requirement-end")},n||{}),h(e,t.waypoints,n)}};function h(e,t,n){n=a(n,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var r=Object(uk.b)(t,n);return Object(Ed.a)(e,r),r}this.canRender=function(e){return QC(e,"dmn:DMNElement")||QC(e,"dmn:InformationRequirement")||QC(e,"dmn:KnowledgeRequirement")||QC(e,"dmn:AuthorityRequirement")},this.drawShape=function(e,t){var n=p[t.type];return n?n(e,t):tk.a.prototype.drawShape.apply(this,[e,t])},this.drawConnection=function(e,t){var n=p[t.type];return n?n(e,t):tk.a.prototype.drawConnection.apply(this,[e,t])},e.on("canvas.init",function(e){!function(e){function t(t,n){var r=Object(_d.a)({strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},n.attrs),o=n.ref||{x:0,y:0},a=n.scale||1;"none"===r.strokeDasharray&&(r.strokeDasharray=[1e4,1]);var s=Object(Ed.f)("marker");Object(Ed.b)(n.element,r),Object(Ed.a)(s,n.element),Object(Ed.b)(s,{id:t,viewBox:"0 0 20 20",refX:o.x,refY:o.y,markerWidth:20*a,markerHeight:20*a,orient:"auto"});var c=Object(xd.i)("defs",e);return c||(c=Object(Ed.f)("defs"),Object(Ed.a)(e,c)),Object(Ed.a)(c,s),function(e,t){i[e]=s}(t)}var n=Object(Ed.f)("path");Object(Ed.b)(n,{d:"M 11 5 L 1 10 L 11 15"}),t("association-start",{element:n,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:1,y:10},scale:.5});var r=Object(Ed.f)("path");Object(Ed.b)(r,{d:"M 1 5 L 11 10 L 1 15"}),t("association-end",{element:r,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:12,y:10},scale:.5});var o=Object(Ed.f)("path");Object(Ed.b)(o,{d:"M 1 5 L 11 10 L 1 15 Z"}),t("information-requirement-end",{element:o,ref:{x:11,y:10},scale:1});var a=Object(Ed.f)("path");Object(Ed.b)(a,{d:"M 1 3 L 11 10 L 1 17"}),t("knowledge-requirement-end",{element:a,attrs:{fill:"none",stroke:"black",strokeWidth:2},ref:{x:11,y:10},scale:.8});var s=Object(Ed.f)("circle");Object(Ed.b)(s,{cx:3,cy:3,r:3}),t("authority-requirement-end",{element:s,ref:{x:3,y:3},scale:.9})}(e.svg)})}function pk(e){return e.businessObject}gd()(lk,tk.a),lk.$inject=["eventBus","pathMap","styles"];var hk=/\{([^}]+)\}/g,fk=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,dk={__init__:["drdRenderer"],drdRenderer:["type",lk],pathMap:["type",function(){this.pathMap={KNOWLEDGE_SOURCE:{d:"m {mx},{my} l 0,{e.y0} c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} l 0,-{e.y7}z",width:100,height:65,widthElements:[29.8,48.4,67.2,12.2,19.8,30.8],heightElements:[55.3,19.7,4.2,6.7,2.3,1.6,6.2,54.6]},BUSINESS_KNOWLEDGE_MODEL:{d:"m {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z",width:125,height:45,widthElements:[13.8,109.2,13.8,109.1],heightElements:[13.2,29.8,13.2]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",width:10,height:30,widthElements:[10],heightElements:[30]}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n,r,i=this.pathMap[e];t.abspos?(n=t.abspos.x,r=t.abspos.y):(n=t.containerWidth*t.position.mx,r=t.containerHeight*t.position.my);var o,a={};if(t.position){for(var s=t.containerHeight/i.height*t.yScaleFactor,c=t.containerWidth/i.width*t.xScaleFactor,u=0;u<i.heightElements.length;u++)a["y"+u]=i.heightElements[u]*s;for(var l=0;l<i.widthElements.length;l++)a["x"+l]=i.widthElements[l]*c}return o={mx:n,my:r,e:a},String(i.d).replace(hk,function(e,t){return function(e,t,n){var r=n;return t.replace(fk,function(e,t,n,i,o){t=t||i,r&&(t in r&&(r=r[t]),"function"==typeof r&&o&&(r=r()))}),r=(null==r||r==n?e:r)+""}(e,t,o)})}}]};function mk(e,t){return Object(_d.a)({id:e.id,type:e.$type,businessObject:e},t)}function yk(e,t,n,r){this._eventBus=e,this._canvas=t,this._elementRegistry=r,this._elementFactory=n}yk.$inject=["eventBus","canvas","elementFactory","elementRegistry"],yk.prototype.root=function(e){var t=this._elementFactory.createRoot(mk(e));return this._canvas.setRootElement(t),t},yk.prototype.add=function(e,t){var n,r,i,o,a,s,c,u=this._elementFactory,l=this._canvas,p=this._eventBus;if(t.$instanceOf("biodi:Bounds"))a=mk(e,{x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}),n=u.createShape(a),l.addShape(n),p.fire("drdElement.added",{element:n,di:t});else{if(!t.$instanceOf("biodi:Edge"))throw new Error("unknown di for element "+e.id);r=function(e){var n=t.waypoints;if(n)return Object(_d.t)(n,function(e){var t={x:e.x,y:e.y};return Object(_d.a)({original:t},t)})}(),s=t.source,c=e.$parent.id,QC(e,"dmn:Association")&&(c=function(e){return e&&e.href.slice(1)}(e.targetRef)),i=this._getShape(s),o=this._getShape(c),i&&o&&(a=mk(e,{hidden:!1,source:i,target:o,waypoints:r}),n=u.createConnection(a),l.addConnection(n),p.fire("drdElement.added",{element:n,di:t}))}return n},yk.prototype._getShape=function(e){return this._elementRegistry.get(e)};var vk={__depends__:[dk,{drdImporter:["type",yk]}]};function gk(e){return e.originalEvent||e.srcEvent}function bk(e){return!(gk(e)||e).button}function wk(e){return!0}var _k=500;function xk(e,t,n){var r=n.cls("djs-hit",["no-fill","no-border"],{stroke:"white",strokeWidth:15});function i(n,r,i){var o,a;(function(e,t){return!(c[n]||bk)(t)})(0,r)||(i?a=t.getGraphics(i):(o=r.delegateTarget||r.target)&&(i=t.get(a=o)),a&&i&&!1===e.fire(n,{element:i,gfx:a,originalEvent:r})&&(r.stopPropagation(),r.preventDefault()))}var o={};function a(e){return o[e]}var s={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mouseup:"element.mouseup",contextmenu:"element.contextmenu"},c={"element.contextmenu":wk},u="svg, .djs-element";function l(e,t,n,r){var a=o[n]=function(e){i(n,e)};r&&(c[n]=r),a.$delegate=xd.e.bind(e,u,t,a)}function p(e,t,n){var r=a(n);r&&xd.e.unbind(e,t,r.$delegate)}e.on("canvas.destroy",function(e){var t;t=e.svg,Object(_d.i)(s,function(e,n){p(t,n,e)})}),e.on("canvas.init",function(e){var t;t=e.svg,Object(_d.i)(s,function(e,n){l(t,n,e)})}),e.on(["shape.added","connection.added"],function(e){var t,n=e.element,i=e.gfx;n.waypoints?t=Object(uk.b)(n.waypoints):(t=Object(Ed.f)("rect"),Object(Ed.b)(t,{x:0,y:0,width:n.width,height:n.height})),Object(Ed.b)(t,r),Object(Ed.a)(i,t)}),e.on("shape.changed",_k,function(e){var t=e.element,n=e.gfx,r=Object(xd.i)(".djs-hit",n);Object(Ed.b)(r,{width:t.width,height:t.height})}),e.on("connection.changed",function(e){var t=e.element,n=e.gfx,r=Object(xd.i)(".djs-hit",n);Object(uk.c)(r,t.waypoints)}),this.fire=i,this.triggerMouseEvent=function(e,t,n){var r=s[e];if(!r)throw new Error("unmapped DOM event name <"+e+">");return i(r,t,n)},this.mouseHandler=a,this.registerEvent=l,this.unregisterEvent=p}xk.$inject=["eventBus","elementRegistry","styles"];var Ek={__init__:["interactionEvents"],interactionEvents:["type",xk]},Ok=n("XMNj"),jk=500;function Sk(e,t,n){this.offset=6;var r=t.cls("djs-outline",["no-fill"]),i=this;function o(e,t){var n=Object(Ed.f)("rect");return Object(Ed.b)(n,Object(_d.a)({x:10,y:10,width:100,height:100},r)),Object(Ed.a)(e,n),n}e.on(["shape.added","shape.changed"],jk,function(e){var t=e.element,n=e.gfx,r=Object(xd.i)(".djs-outline",n);r||(r=o(n)),i.updateShapeOutline(r,t)}),e.on(["connection.added","connection.changed"],function(e){var t=e.element,n=e.gfx,r=Object(xd.i)(".djs-outline",n);r||(r=o(n)),i.updateConnectionOutline(r,t)})}Sk.prototype.updateShapeOutline=function(e,t){Object(Ed.b)(e,{x:-this.offset,y:-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},Sk.prototype.updateConnectionOutline=function(e,t){var n=Object(Ok.a)(t);Object(Ed.b)(e,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},Sk.$inject=["eventBus","styles","elementRegistry"];var Ck={__init__:["outline"],outline:["type",Sk]};function kk(e){this._eventBus=e,this._selectedElements=[];var t=this;e.on(["shape.remove","connection.remove"],function(e){t.deselect(e.element)}),e.on(["diagram.clear"],function(e){t.select(null)})}kk.$inject=["eventBus"],kk.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(-1!==n){var r=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:t})}},kk.prototype.get=function(){return this._selectedElements},kk.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},kk.prototype.select=function(e,t){var n=this._selectedElements,r=n.slice();Object(_d.l)(e)||(e=e?[e]:[]),t?Object(_d.i)(e,function(e){-1===n.indexOf(e)&&n.push(e)}):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:n})};var Tk="hover",Ak="selected";function Rk(e,t,n,r){function i(e,n){t.addMarker(e,n)}function o(e,n){t.removeMarker(e,n)}this._multiSelectionBox=null,e.on("element.hover",function(e){i(e.element,Tk)}),e.on("element.out",function(e){o(e.element,Tk)}),e.on("selection.changed",function(e){var t=e.oldSelection,n=e.newSelection;Object(_d.i)(t,function(e){-1===n.indexOf(e)&&o(e,Ak)}),Object(_d.i)(n,function(e){-1===t.indexOf(e)&&i(e,Ak)})})}function Pk(e,t,n,r){e.on("create.end",500,function(e){e.context.canExecute&&t.select(e.context.shape)}),e.on("connect.end",500,function(e){e.context.canExecute&&e.context.target&&t.select(e.context.target)}),e.on("shape.move.end",500,function(e){var n=e.previousSelection||[],i=r.get(e.context.shape.id);Object(_d.f)(n,function(e){return i.id===e.id})||t.select(i)}),e.on("element.click",function(e){var r=e.element;r===n.getRootElement()&&(r=null);var i=t.isSelected(r),o=t.get().length>1,a=function(e){var t=gk(e)||e;return!!bk(e)&&(/mac/i.test(navigator.platform)?t.metaKey:t.ctrlKey)}(e);if(i&&o)return a?t.deselect(r):t.select(r);i?t.deselect(r):t.select(r,a)})}Rk.$inject=["eventBus","canvas","selection","styles"],Pk.$inject=["eventBus","selection","canvas","elementRegistry"];var Mk={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Ek,Ck],selection:["type",kk],selectionVisuals:["type",Rk],selectionBehavior:["type",Pk]};function Dk(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}Dk.prototype.next=function(){return this._prefix+ ++this._counter};var Nk=new Dk("ov");function Ik(e,t,n){Object(_d.a)(e.style,{left:t+"px",top:n+"px"})}function Bk(e,t){e.style.display=!1===t?"none":""}function Lk(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(n){e.style[n+"transform"]=t})}function Fk(e){return void 0!==e}function zk(e,t,n,r){var i,o;this._eventBus=t,this._canvas=n,this._elementRegistry=r,this._ids=Nk,this._overlayDefaults=Object(_d.a)({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(i=n.getContainer(),o=Object(xd.f)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />'),i.insertBefore(o,i.firstChild),o),this._init()}zk.$inject=["config.overlays","eventBus","canvas","elementRegistry"],zk.prototype.get=function(e){if(Object(_d.q)(e)&&(e={id:e}),Object(_d.q)(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?Object(_d.e)(t.overlays,Object(_d.u)({type:e.type})):t.overlays.slice():[]}return e.type?Object(_d.e)(this._overlays,Object(_d.u)({type:e.type})):e.id?this._overlays[e.id]:null},zk.prototype.add=function(e,t,n){if(Object(_d.p)(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var r=this._ids.next();return n=Object(_d.a)({},this._overlayDefaults,n,{id:r,type:t,element:e,html:n.html}),this._addOverlay(n),r},zk.prototype.remove=function(e){var t=this.get(e)||[];Object(_d.l)(t)||(t=[t]);var n=this;Object(_d.i)(t,function(e){var t=n._getOverlayContainer(e.element,!0);if(e&&(Object(xd.k)(e.html),Object(xd.k)(e.htmlContainer),delete e.htmlContainer,delete e.element,delete n._overlays[e.id]),t){var r=t.overlays.indexOf(e);-1!==r&&t.overlays.splice(r,1)}})},zk.prototype.show=function(){Bk(this._overlayRoot)},zk.prototype.hide=function(){Bk(this._overlayRoot,!1)},zk.prototype.clear=function(){this._overlays={},this._overlayContainers=[],Object(xd.c)(this._overlayRoot)},zk.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,r=t.x,i=t.y;if(t.waypoints){var o=Object(Ok.a)(t);r=o.x,i=o.y}Ik(n,r,i),Object(xd.a)(e.html,"data-container-id",t.id)},zk.prototype._updateOverlay=function(e){var t,n,r=e.position,i=e.htmlContainer,o=e.element,a=r.left,s=r.top;void 0!==r.right&&(t=o.waypoints?Object(Ok.a)(o).width:o.width,a=-1*r.right+t),void 0!==r.bottom&&(n=o.waypoints?Object(Ok.a)(o).height:o.height,s=-1*r.bottom+n),Ik(i,a||0,s||0)},zk.prototype._createOverlayContainer=function(e){var t=Object(xd.f)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n},zk.prototype._updateRoot=function(e){var t=e.scale||1,n="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";Lk(this._overlayRoot,n)},zk.prototype._getOverlayContainer=function(e,t){var n=Object(_d.f)(this._overlayContainers,function(t){return t.element===e});return n||t?n:this._createOverlayContainer(e)},zk.prototype._addOverlay=function(e){var t,n,r=e.id,i=e.element,o=e.html;o.get&&o.constructor.prototype.jquery&&(o=o.get(0)),Object(_d.q)(o)&&(o=Object(xd.f)(o)),n=this._getOverlayContainer(i),(t=Object(xd.f)('<div class="djs-overlay" data-overlay-id="'+r+'" style="position: absolute">')).appendChild(o),e.type&&Object(xd.b)(t).add("djs-overlay-"+e.type),e.htmlContainer=t,n.overlays.push(e),n.html.appendChild(t),this._overlays[r]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},zk.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,r=n&&n.minZoom,i=n&&n.maxZoom,o=e.htmlContainer,a=!0;n&&((Fk(r)&&r>t.scale||Fk(i)&&i<t.scale)&&(a=!1),Bk(o,a)),this._updateOverlayScale(e,t)},zk.prototype._updateOverlayScale=function(e,t){var n,r,i,o=e.scale,a=e.htmlContainer,s="";!0!==o&&(!1===o?(n=1,r=1):(n=o.min,r=o.max),Fk(n)&&t.scale<n&&(i=(1/t.scale||1)*n),Fk(r)&&t.scale>r&&(i=(1/t.scale||1)*r)),Fk(i)&&(s="scale("+i+","+i+")"),Lk(a,s)},zk.prototype._updateOverlaysVisibilty=function(e){var t=this;Object(_d.i)(this._overlays,function(n){t._updateOverlayVisibilty(n,e)})},zk.prototype._init=function(){var e=this._eventBus,t=this;e.on("canvas.viewbox.changing",function(e){t.hide()}),e.on("canvas.viewbox.changed",function(e){var n;t._updateRoot(n=e.viewbox),t._updateOverlaysVisibilty(n),t.show()}),e.on(["shape.remove","connection.remove"],function(e){var n=e.element,r=t.get({element:n});Object(_d.i)(r,function(e){t.remove(e.id)});var i=t._getOverlayContainer(n);if(i){Object(xd.k)(i.html);var o=t._overlayContainers.indexOf(i);-1!==o&&t._overlayContainers.splice(o,1)}}),e.on("element.changed",500,function(e){var n=t._getOverlayContainer(e.element,!0);n&&(Object(_d.i)(n.overlays,function(e){t._updateOverlay(e)}),t._updateOverlayContainer(n))}),e.on("element.marker.update",function(e){var n=t._getOverlayContainer(e.element,!0);n&&Object(xd.b)(n.html)[e.add?"add":"remove"](e.marker)}),e.on("diagram.clear",this.clear,this)};var Vk={__init__:["overlays"],overlays:["type",zk]};function Uk(e,t){this._eventBus=e,this._canvas=t,e.on("diagram.init",function(){this._init()},this),e.on("import.done",function(e){this.update()},this)}function Hk(e,t){function n(e,n){var r=t.getContainer();Object(xd.b)(r).toggle(e,n)}e.on("palette.create",function(){n("with-palette",!0)}),e.on("palette.changed",function(e){n("with-palette-two-column",e.twoColumn)})}Uk.$inject=["eventBus","canvas"],Uk.prototype._init=function(){var e=this._eventBus,t=this._canvas.getContainer(),n=this._container=Object(xd.f)(Uk.HTML_MARKUP);t.appendChild(n),this.nameElement=Object(xd.i)(".dmn-definitions-name",this._container),this.idElement=Object(xd.i)(".dmn-definitions-id",this._container),xd.e.bind(n,".dmn-definitions-name, .dmn-definitions-id","mousedown",function(e){e.stopPropagation()}),e.fire("definitionIdView.create",{html:n})},Uk.prototype.update=function(e){var t=this._canvas.getRootElement().businessObject;this.nameElement.textContent=t.name,this.idElement.textContent=t.id},Uk.HTML_MARKUP='<div class="dmn-definitions"><div class="dmn-definitions-name" title="Definition Name"></div><div class="dmn-definitions-id" title="Definition ID"></div></div>',Hk.$inject=["eventBus","canvas"];var $k={__init__:["definitionPropertiesView","definitionPropertiesPaletteAdapter"],definitionPropertiesView:["type",Uk],definitionPropertiesPaletteAdapter:["type",Hk]},Wk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Gk=[{className:"dmn-icon-decision-table",matches:function(e){var t=e.businessObject;return QC(t,"dmn:Decision")&&t.decisionTable}},{className:"dmn-icon-literal-expression",matches:function(e){var t=e.businessObject;return QC(t,"dmn:Decision")&&t.literalExpression}}],qk=function(){function e(t,n,r,i){var o=this;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._injector=t,this._eventBus=n,this._overlays=r,this._config=i||{enabled:!0},n.on(["shape.added"],function(e){for(var t=e.element,n=0;n<Gk.length;n++){var r=Gk[n],i=r.matches,a=r.className;i&&i(t)&&o.addOverlay(t,a)}})}return Wk(e,[{key:"addOverlay",value:function(e,t){var n=Object(xd.f)('\n      <div class="drill-down-overlay">\n        <span class="'+t+'"></span>\n      </div>\n    '),r=this._overlays.add(e,{position:{top:2,left:2},html:n});!1!==this._config.enabled&&(Object(xd.b)(n).add("interactive"),this.bindEventListener(e,n,r))}},{key:"bindEventListener",value:function(e,t,n){var r=this,i=this._eventBus;xd.e.bind(this._overlays._overlayRoot,'[data-overlay-id="'+n+'"]',"click",function(){!1!==i.fire("drillDown.click",{element:e})&&r.drillDown(e)})}},{key:"drillDown",value:function(e){var t=this._injector.get("_parent",!1);if(!t)return!1;var n=t.getView(e.businessObject);return!!n&&(t.open(n),!0)}}]),e}(),Kk=qk;qk.$inject=["injector","eventBus","overlays","config.drillDown"];var Zk={__depends__:[Vk],__init__:["drillDown"],drillDown:["type",Kk]},Xk='<img width="52" height="52" src="data:image/svg+xml,'+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 960"><path fill="#fff" d="M960 60v839c0 33-27 61-60 61H60c-33 0-60-27-60-60V60C0 27 27 0 60 0h839c34 0 61 27 61 60z"/><path fill="#52b415" d="M217 548a205 205 0 0 0-144 58 202 202 0 0 0-4 286 202 202 0 0 0 285 3 200 200 0 0 0 48-219 203 203 0 0 0-185-128zM752 6a206 206 0 0 0-192 285 206 206 0 0 0 269 111 207 207 0 0 0 111-260A204 204 0 0 0 752 6zM62 0A62 62 0 0 0 0 62v398l60 46a259 259 0 0 1 89-36c5-28 10-57 14-85l99 2 12 85a246 246 0 0 1 88 38l70-52 69 71-52 68c17 30 29 58 35 90l86 14-2 100-86 12a240 240 0 0 1-38 89l43 58h413c37 0 60-27 60-61V407a220 220 0 0 1-44 40l21 85-93 39-45-76a258 258 0 0 1-98 1l-45 76-94-39 22-85a298 298 0 0 1-70-69l-86 22-38-94 76-45a258 258 0 0 1-1-98l-76-45 40-94 85 22a271 271 0 0 1 41-47z"/></svg>')+'" />';function Yk(e){return e.join(";")}var Qk,Jk='<div class="bjs-powered-by-lightbox" style="'+Yk(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"])+'"><div class="backdrop" style="'+Yk(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"])+'"></div><div class="notice" style="'+Yk(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"])+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px">'+Xk+'</a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>',eT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function tT(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function nT(e){var t,n,r;this._container=this._createContainer(),t=this._container,n='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100">'+Xk+"</a>",r=Object(xd.f)(n),t.appendChild(r),xd.g.bind(r,"click",function(e){Qk||(Qk=Object(xd.f)(Jk),xd.e.bind(Qk,".backdrop","click",function(e){document.body.removeChild(Qk)})),document.body.appendChild(Qk),e.preventDefault()}),this._init(this._container,e)}gd()(nT,YC.a),nT.prototype.saveSVG=function(e,t){t||(t=e,e={});var n=this.get("canvas"),r=n.getDefaultLayer(),i=Object(xd.i)("defs",n._svg),o=Object(Ed.i)(r),a=i&&i.outerHTML||"",s=r.getBBox();t(null,'<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with dmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+s.width+'" height="'+s.height+'" viewBox="'+s.x+" "+s.y+" "+s.width+" "+s.height+'" version="1.1">'+a+o+"</svg>")},nT.prototype.getModules=function(){return this._modules},nT.prototype.destroy=function(){YC.a.prototype.destroy.call(this),Object(xd.k)(this._container)},nT.prototype.on=function(e,t,n,r){return this.get("eventBus").on(e,t,n,r)},nT.prototype.off=function(e,t){this.get("eventBus").off(e,t)},nT.prototype._init=function(e,t){var n=t.additionalModules,r=t.canvas,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["additionalModules","canvas"]),o=t.modules||this.getModules(),a=[].concat([{drd:["value",this]}],tT(o),tT(n||[])),s=eT({},i,{canvas:eT({},r,{container:e}),modules:a});YC.a.call(this,s),t&&t.container&&this.attachTo(t.container)},nT.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)},nT.prototype._createContainer=function(){return Object(xd.f)('<div class="dmn-drd-container"></div>')},nT.prototype.open=function(e,t){var n;try{return this._definitions&&this.clear(),this._definitions=e,function(e,t,n){var r,i=e.get("drdImporter"),o=e.get("eventBus"),a=[];o.fire("import.start",{definitions:t});try{!function(e){new ek({root:function(e){return i.root(e)},element:function(e,t){return i.add(e,t)},error:function(e,t){a.push({message:e,context:t})}}).handleDefinitions(e)}(t)}catch(s){r=s}o.fire("import.done",{error:r,warnings:a}),n(r,a)}(this,e,t)}catch(r){n=r}return t(n)},nT.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},nT.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))},nT.prototype._modules=[vk,{translate:["value",function(e,t){return t=t||{},e.replace(/{([^}]+)}/g,function(e,n){return t[n]||"{"+n+"}"})}]},Mk,Vk,$k,Zk];var rT=n("tqCT");function iT(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function oT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function aT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var sT=function e(t){aT(this,e),Object(_d.a)(this,t),uT(this,"businessObject",{writable:!0})},cT={root:function(e){function t(e){aT(this,t);var n=iT(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return uT(n,"rows",{enumerable:!0,value:n.rows||[]}),uT(n,"cols",{enumerable:!0,value:n.cols||[]}),n}return oT(t,sT),t}(),row:function(e){function t(e){aT(this,t);var n=iT(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return uT(n,"root",{writable:!0}),uT(n,"cells",{enumerable:!0,value:n.cells||[]}),n}return oT(t,sT),t}(),col:function(e){function t(e){aT(this,t);var n=iT(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return uT(n,"root",{writable:!0}),uT(n,"cells",{enumerable:!0,value:n.cells||[]}),n}return oT(t,sT),t}(),cell:function(e){function t(e){aT(this,t);var n=iT(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return uT(n,"row",{writable:!0}),uT(n,"col",{writable:!0}),n}return oT(t,sT),t}()};function uT(e,t,n){Object.defineProperty(e,t,n)}var lT=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pT=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._uid=12}return lT(e,[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.id||(t.id=e+"_"+this._uid++),function(e,t){var n=cT[e];if(!n)throw new Error("unknown type "+e);return new n(t)}(e,t)}},{key:"createRoot",value:function(e){return this.create("root",e)}},{key:"createRow",value:function(e){return this.create("row",e)}},{key:"createCol",value:function(e){return this.create("col",e)}},{key:"createCell",value:function(e){return this.create("cell",e)}}]),e}(),hT=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fT=function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._eventBus=t,this._elements={},t.on("table.clear",this.clear.bind(this))}return hT(e,[{key:"add",value:function(e,t){this._elements[e.id]=e}},{key:"remove",value:function(e){delete this._elements[e.id||e]}},{key:"get",value:function(e){return this._elements[e]}},{key:"getAll",value:function(){return mT(this._elements)}},{key:"forEach",value:function(e){mT(this._elements).forEach(function(t){return e(t)})}},{key:"filter",value:function(e){return mT(this._elements).filter(function(t){return e(t)})}},{key:"clear",value:function(){this._elements={}}},{key:"updateId",value:function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t}),this.remove(e),e.id=t,this.add(e)}},{key:"_validateId",value:function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")}}]),e}(),dT=fT;function mT(e){return Object.keys(e).map(function(t){return e[t]})}fT.$inject=["eventBus"];var yT=Array.prototype.slice;function vT(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function gT(){}vT.prototype.on=function(e,t,n,r){if(e=Object(_d.l)(e)?e:[e],Object(_d.n)(t)&&(r=n,n=t,t=1e3),!Object(_d.o)(t))throw new Error("priority must be a number");var i=n;r&&((i=Object(_d.b)(n,r)).__fn=n.__fn||n);var o=this,a={priority:t,callback:i};e.forEach(function(e){o._addListener(e,a)})},vT.prototype.once=function(e,t,n,r){var i=this;if(Object(_d.n)(t)&&(r=n,n=t,t=1e3),!Object(_d.o)(t))throw new Error("priority must be a number");function o(){return i.off(e,o),n.apply(r,arguments)}o.__fn=n,this.on(e,t,o)},vT.prototype.off=function(e,t){e=Object(_d.l)(e)?e:[e];var n=this;e.forEach(function(e){n._removeListener(e,t)})},vT.prototype.createEvent=function(e){var t=new gT;return t.init(e),t},vT.prototype.fire=function(e,t){var n,r,i,o;if(o=yT.call(arguments),"object"==typeof e&&(e=(n=e).type),!e)throw new Error("no event type specified");if(r=this._listeners[e]){n=t instanceof gT?t:this.createEvent(t),o[0]=n;var a=n.type;e!==a&&(n.type=e);try{i=this._invokeListeners(n,o,r)}finally{e!==a&&(n.type=a)}return void 0===i&&n.defaultPrevented&&(i=!1),i}},vT.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},vT.prototype._destroy=function(){this._listeners={}},vT.prototype._invokeListeners=function(e,t,n){var r,i,o;for(r=0;(i=n[r])&&!e.cancelBubble;r++)o=this._invokeListener(e,t,i);return o},vT.prototype._invokeListener=function(e,t,n){var r;try{void 0!==(r=function(e,t){return n.callback.apply(null,t)}(0,t))&&(e.returnValue=r,e.stopPropagation()),!1===r&&e.preventDefault()}catch(i){if(!this.handleError(i))throw console.error("unhandled error in event listener"),console.error(i.stack),i}return r},vT.prototype._addListener=function(e,t){var n,r,i=this._getListeners(e);for(r=0;n=i[r];r++)if(n.priority<t.priority)return void i.splice(r,0,t);i.push(t)},vT.prototype._getListeners=function(e){var t=this._listeners[e];return t||(this._listeners[e]=t=[]),t},vT.prototype._removeListener=function(e,t){var n,r,i,o=this._getListeners(e);if(t)for(i=o.length-1;n=o[i];i--)(r=n.callback)!==t&&r.__fn!==t||o.splice(i,1);else o.length=0},gT.prototype.stopPropagation=function(){this.cancelBubble=!0},gT.prototype.preventDefault=function(){this.defaultPrevented=!0},gT.prototype.init=function(e){Object(_d.a)(this,e||{})};var bT=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wT=function(){function e(t){var n=this;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._listeners={},t.on("elements.changed",function(e){n.elementsChanged(e.elements)}),t.on("root.remove",function(e){var r=e.root.id;n._listeners[r]&&t.once("root.add",function(e){n.updateId(r,e.root.id)})}),t.on("element.updateId",function(e){n.updateId(e.element.id,e.newId)})}return bT(e,[{key:"elementsChanged",value:function(e){for(var t={},n=e.length,r=0;r<n;r++){var i=e[r].id;if(t[i])return;t[i]=!0;var o=this._listeners[i]&&this._listeners[i].length;if(o)for(var a=0;a<o;a++)this._listeners[i][a]&&this._listeners[i][a]()}}},{key:"onElementsChanged",value:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e][this._listeners[e].length]=t}},{key:"offElementsChanged",value:function(e,t){if(this._listeners[e])if(t){var n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1)}else this._listeners[e].length=0}},{key:"updateId",value:function(e,t){this._listeners[e]&&(this._listeners[t]=this._listeners[e],delete this._listeners[e])}}]),e}(),_T=wT;wT.$inject=["eventBus"];var xT=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ET=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._listeners={}}return xT(e,[{key:"getComponent",value:function(e,t){var n=this._listeners[e];if(n){for(var r=void 0,i=0;i<n.length&&!(r=n[i].callback(t));i++);return r}}},{key:"getComponents",value:function(e,t){var n=this._listeners[e],r=[];if(!n)return r;for(var i=0;i<n.length;i++){var o=n[i].callback(t);o&&r.push(o)}return r}},{key:"onGetComponent",value:function(e,t,n){if(Object(_d.n)(t)&&(n=t,t=1e3),!Object(_d.o)(t))throw new Error("priority must be a number");var r=this._getListeners(e),i=void 0,o=void 0,a={priority:t,callback:n};for(o=0;i=r[o];o++)if(i.priority<t)return void r.splice(o,0,a);r.push(a)}},{key:"offGetComponent",value:function(e,t){var n=this._getListeners(e),r=void 0,i=void 0;if(t)for(i=n.length-1;r=n[i];i--)r.callback===t&&n.splice(i,1);else n.length=0}},{key:"_getListeners",value:function(e){var t=this._listeners[e];return t||(this._listeners[e]=t=[]),t}}]),e}(),OT="$NO_OP",jT="a runtime error occured! Use Inferno in development environment to find the error.",ST=!("undefined"==typeof window||!window.document),CT=Array.isArray;function kT(e){var t=typeof e;return"string"===t||"number"===t}function TT(e){return NT(e)||DT(e)}function AT(e){return DT(e)||!1===e||function(e){return!0===e}(e)||NT(e)}function RT(e){return"function"==typeof e}function PT(e){return"string"==typeof e}function MT(e){return"number"==typeof e}function DT(e){return null===e}function NT(e){return void 0===e}function IT(e,t){var n={};if(e)for(var r in e)n[r]=e[r];if(t)for(var i in t)n[i]=t[i];return n}var BT="$";function LT(e,t,n,r,i,o,a,s){return{childFlags:e,children:t,className:n,dom:null,flags:r,key:void 0===i?null:i,parentVNode:null,props:void 0===o?null:o,ref:void 0===a?null:a,type:s}}function FT(e,t,n,r,i,o,a,s){var c=void 0===i?1:i,u=LT(c,r,n,e,a,o,s,t);return 0===c&&GT(u,u.children),u}function zT(e,t,n,r,i){(2&e)>0&&(e=t.prototype&&RT(t.prototype.render)?4:8);var o=t.defaultProps;if(!TT(o))for(var a in n||(n={}),o)NT(n[a])&&(n[a]=o[a]);if((8&e)>0){var s=t.defaultHooks;if(!TT(s))if(i)for(var c in s)NT(i[c])&&(i[c]=s[c]);else i=s}var u=LT(1,null,null,e,r,n,i,t),l=qT.createVNode;return RT(l)&&l(u),u}function VT(e,t){return LT(1,TT(e)?"":e,null,16,t,null,null,null)}function UT(e){var t=e.props;if(t){var n=e.flags;481&n&&(void 0!==t.children&&TT(e.children)&&GT(e,t.children),void 0!==t.className&&(e.className=t.className||null,t.className=void 0)),void 0!==t.key&&(e.key=t.key,t.key=void 0),void 0!==t.ref&&(e.ref=8&n?IT(e.ref,t.ref):t.ref,t.ref=void 0)}return e}function HT(e){var t,n=e.flags;if(14&n){var r,i=e.props;if(!DT(i))for(var o in r={},i)r[o]=i[o];t=zT(n,e.type,r,e.key,e.ref)}else 481&n?t=FT(n,e.type,e.className,e.children,e.childFlags,e.props,e.key,e.ref):16&n?t=VT(e.children,e.key):1024&n&&(t=e);return t}function $T(){return VT("",null)}function WT(e,t,n,r){for(var i=e.length;n<i;n++){var o=e[n];if(!AT(o)){var a=r+BT+n;if(CT(o))WT(o,t,0,a);else{if(kT(o))o=VT(o,a);else{var s=o.key,c=PT(s)&&s[0]===BT;DT(o.dom)&&!c||(o=HT(o)),o.key=DT(s)||c?a:r+s}t.push(o)}}}}function GT(e,t){var n,r=1;if(AT(t))n=t;else if(PT(t))r=2,n=VT(t);else if(MT(t))r=2,n=VT(t+"");else if(CT(t)){var i=t.length;if(0===i)n=null,r=1;else{(Object.isFrozen(t)||!0===t.$)&&(t=t.slice()),r=8;for(var o=0;o<i;o++){var a=t[o];if(AT(a)||CT(a)){n=n||t.slice(0,o),WT(t,n,o,"");break}if(kT(a))(n=n||t.slice(0,o)).push(VT(a,BT+o));else{var s=a.key,c=DT(a.dom),u=DT(s),l=!u&&s[0]===BT;!c||u||l?(n=n||t.slice(0,o),c&&!l||(a=HT(a)),(u||l)&&(a.key=BT+o),n.push(a)):n&&n.push(a)}}(n=n||t).$=!0}}else n=t,DT(t.dom)||(n=HT(t)),r=2;return e.children=n,e.childFlags=r,e}var qT={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,roots:[]},KT="http://www.w3.org/1999/xlink",ZT="http://www.w3.org/XML/1998/namespace",XT="http://www.w3.org/2000/svg",YT={"xlink:actuate":KT,"xlink:arcrole":KT,"xlink:href":KT,"xlink:role":KT,"xlink:show":KT,"xlink:title":KT,"xlink:type":KT,"xml:base":ZT,"xml:lang":ZT,"xml:space":ZT},QT={},JT=[];function eA(e,t){e.appendChild(t)}function tA(e,t,n){TT(n)?eA(e,t):e.insertBefore(t,n)}function nA(e,t,n){e.replaceChild(t,n)}function rA(e){for(var t;void 0!==(t=e.shift());)t()}var iA={},oA={};function aA(e,t,n){var r=iA[e],i=n.$EV;t?(r||(oA[e]=function(e){var t=function(t){var n=t.type,r="click"===n||"dblclick"===n;if(r&&0!==t.button)return t.preventDefault(),t.stopPropagation(),!1;t.stopPropagation=cA;var i={dom:document};Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return i.dom}}),function(e,t,n,r,i){for(var o=t;!DT(o);){if(n&&o.disabled)return;var a=o.$EV;if(a){var s=a[r];if(s&&(i.dom=o,s.event?s.event(s.data,e):s(e),e.cancelBubble))return}o=o.parentNode}}(t,t.target,r,e,i)};return document.addEventListener(sA(e),t),t}(e),iA[e]=0),i||(i=n.$EV={}),i[e]||iA[e]++,i[e]=t):i&&i[e]&&(iA[e]--,1===r&&(document.removeEventListener(sA(e),oA[e]),oA[e]=null),i[e]=t)}function sA(e){return e.substr(2).toLowerCase()}function cA(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function uA(e,t){var n=document.createElement("i");return n.innerHTML=t,n.innerHTML===e.innerHTML}function lA(e,t,n){if(e[t]){var r=e[t];r.event?r.event(r.data,n):r(n)}else{var i=t.toLowerCase();e[i]&&e[i](n)}}function pA(e,t){var n=function(n){n.stopPropagation();var r=this.$V;if(r){var i=r.props||QT,o=r.dom;if(PT(e))lA(i,e,n);else for(var a=0;a<e.length;a++)lA(i,e[a],n);if(RT(t)){var s=this.$V;t(s.props||QT,o,!1,s)}}};return Object.defineProperty(n,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),n}function hA(e){return"checkbox"===e||"radio"===e}var fA=pA("onInput",yA),dA=pA(["onClick","onChange"],yA);function mA(e){e.stopPropagation()}function yA(e,t){var n=e.type,r=e.value,i=e.checked,o=e.multiple,a=e.defaultValue,s=!TT(r);n&&n!==t.type&&t.setAttribute("type",n),TT(o)||o===t.multiple||(t.multiple=o),TT(a)||s||(t.defaultValue=a+""),hA(n)?(s&&(t.value=r),TT(i)||(t.checked=i)):s&&t.value!==r?(t.defaultValue=r,t.value=r):TT(i)||(t.checked=i)}function vA(e,t){if("optgroup"===e.type){var n=e.children,r=e.childFlags;if(12&r)for(var i=0,o=n.length;i<o;i++)gA(n[i],t);else 2===r&&gA(n,t)}else gA(e,t)}function gA(e,t){var n=e.props||QT,r=e.dom;r.value=n.value,CT(t)&&-1!==t.indexOf(n.value)||n.value===t?r.selected=!0:TT(t)&&TT(n.selected)||(r.selected=n.selected||!1)}mA.wrapped=!0;var bA=pA("onChange",wA);function wA(e,t,n,r){var i=Boolean(e.multiple);TT(e.multiple)||i===t.multiple||(t.multiple=i);var o=r.childFlags;if(0==(1&o)){var a=r.children,s=e.value;if(n&&TT(s)&&(s=e.defaultValue),12&o)for(var c=0,u=a.length;c<u;c++)vA(a[c],s);else 2===o&&vA(a,s)}}var _A=pA("onInput",EA),xA=pA("onChange");function EA(e,t,n){var r=e.value,i=t.value;if(TT(r)){if(n){var o=e.defaultValue;TT(o)||o===i||(t.defaultValue=o,t.value=o)}}else i!==r&&(t.defaultValue=r,t.value=r)}function OA(e,t,n,r,i,o){64&e?yA(r,n):256&e?wA(r,n,i,t):128&e&&EA(r,n,i),o&&(n.$V=t)}function jA(e){return e.type&&hA(e.type)?!TT(e.checked):!TT(e.value)}function SA(e,t){CA(e),DT(t)||(function(t,n){t.removeChild(e.dom)}(t),e.dom=null)}function CA(e){var t=e.flags;if(481&t){var n=e.ref,r=e.props;RT(n)&&n(null);var i=e.children,o=e.childFlags;if(12&o?kA(i):2===o&&CA(i),!DT(r))for(var a in r)switch(a){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":aA(a,null,e.dom)}}else if(14&t){var s=e.children,c=e.ref;4&t?(RT(qT.beforeUnmount)&&qT.beforeUnmount(e),RT(s.componentWillUnmount)&&s.componentWillUnmount(),RT(c)&&c(null),s.$UN=!0,CA(s.$LI)):(!TT(c)&&RT(c.onComponentWillUnmount)&&c.onComponentWillUnmount(e.dom,e.props||QT),CA(s))}else if(1024&t){var u=e.children;DT(u)||"object"!=typeof u||SA(u,e.type)}}function kA(e){for(var t=0,n=e.length;t<n;t++)CA(e[t])}function TA(e,t){kA(t),e.textContent=""}function AA(e,t){switch(e){case"animationIterationCount":case"borderImageOutset":case"borderImageSlice":case"borderImageWidth":case"boxFlex":case"boxFlexGroup":case"boxOrdinalGroup":case"columnCount":case"fillOpacity":case"flex":case"flexGrow":case"flexNegative":case"flexOrder":case"flexPositive":case"flexShrink":case"floodOpacity":case"fontWeight":case"gridColumn":case"gridRow":case"lineClamp":case"lineHeight":case"opacity":case"order":case"orphans":case"stopOpacity":case"strokeDasharray":case"strokeDashoffset":case"strokeMiterlimit":case"strokeOpacity":case"strokeWidth":case"tabSize":case"widows":case"zIndex":case"zoom":return t;default:return t+"px"}}function RA(e,t,n,r,i,o,a){switch(e){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":aA(e,n,r);break;case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":return;case"allowfullscreen":case"autoFocus":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":r[e="autoFocus"===e?e.toLowerCase():e]=!!n;break;case"defaultChecked":case"value":case"volume":if(o&&"value"===e)return;var s=TT(n)?"":n;r[e]!==s&&(r[e]=s);break;case"dangerouslySetInnerHTML":var c=n&&n.__html||"";(t&&t.__html||"")!==c&&(TT(c)||uA(r,c)||(DT(a)||(12&a.childFlags?kA(a.children):2===a.childFlags&&CA(a.children),a.children=null,a.childFlags=1),r.innerHTML=c));break;default:"o"===e[0]&&"n"===e[1]?function(t,n,r,i){var o=e.toLowerCase();if(RT(r)||TT(r)){var a=i[o];a&&a.wrapped||(i[o]=r)}else{var s=r.event;s&&RT(s)&&(i[o]=function(e,t){return function(n){e(t.data,n)}}(s,r))}}(0,0,n,r):TT(n)?r.removeAttribute(e):"style"===e?function(e,t,n){var r,i,o=n.style;if(PT(t))o.cssText=t;else if(TT(e)||PT(e))for(r in t)o[r]=MT(i=t[r])?AA(r,i):i;else{for(r in t)(i=t[r])!==e[r]&&(o[r]=MT(i)?AA(r,i):i);for(r in e)TT(t[r])&&(o[r]="")}}(t,n,r):i&&YT[e]?r.setAttributeNS(YT[e],e,n):r.setAttribute(e,n)}}function PA(e,t,n,r,i){var o=!1,a=(448&t)>0;for(var s in a&&(o=jA(n))&&function(e,t,n){64&e?function(e,t){hA(t.type)?(e.onchange=dA,e.onclick=mA):e.oninput=fA}(t,n):256&e?function(e){e.onchange=bA}(t):128&e&&function(e,t){e.oninput=_A,t.onChange&&(e.onchange=xA)}(t,n)}(t,r,n),n)RA(s,null,n[s],r,i,o,null);a&&OA(t,e,r,n,!0,o)}function MA(e,t,n,r){var i=new t(n,r);if(e.children=i,i.$V=e,i.$BS=!1,i.context=r,i.props===QT&&(i.props=n),i.$UN=!1,RT(i.componentWillMount)){if(i.$BR=!0,i.componentWillMount(),i.$PSS){var o=i.state,a=i.$PS;if(DT(o))i.state=a;else for(var s in a)o[s]=a[s];i.$PSS=!1,i.$PS=null}i.$BR=!1}RT(qT.beforeRender)&&qT.beforeRender(i);var c,u=DA(i.render(n,i.state,r),e);return RT(i.getChildContext)&&(c=i.getChildContext()),i.$CX=TT(c)?r:IT(r,c),RT(qT.afterRender)&&qT.afterRender(i),i.$LI=u,i}function DA(e,t){return AT(e)?e=$T():kT(e)?e=VT(e,null):(e.dom&&(e=HT(e)),14&e.flags&&(e.parentVNode=t)),e}function NA(e,t,n,r,i){var o=e.flags;return 481&o?BA(e,t,n,r,i):14&o?function(e,t,n,r,i,a){var s,c=e.type,u=e.props||QT,l=e.ref;if((4&o)>0){var p=MA(e,c,u,r);e.dom=s=NA(p.$LI,null,n,p.$CX,i),FA(e,l,p,n),p.$UPD=!1}else{var h=DA(c(u,r),e);e.children=h,e.dom=s=NA(h,null,n,r,i),zA(u,l,s,n)}return DT(t)||eA(t,s),s}(e,t,n,r,i):512&o||16&o?IA(e,t):1024&o?(NA(e.children,e.type,n,r,!1),e.dom=IA($T(),t)):void 0}function IA(e,t){var n=e.dom=document.createTextNode(e.children);return DT(t)||eA(t,n),n}function BA(e,t,n,r,i){var o=e.flags,a=e.children,s=e.props,c=e.className,u=e.ref,l=e.childFlags,p=function(e,t){return!0===t?document.createElementNS(XT,e):document.createElement(e)}(e.type,i=i||(32&o)>0);if(e.dom=p,TT(c)||""===c||(i?p.setAttribute("class",c):p.className=c),DT(t)||eA(t,p),0==(1&l)){var h=!0===i&&"foreignObject"!==e.type;2===l?NA(a,p,n,r,h):12&l&&LA(a,p,n,r,h)}return DT(s)||PA(e,o,s,p,i),RT(u)&&VA(p,u,n),p}function LA(e,t,n,r,i){for(var o=0,a=e.length;o<a;o++){var s=e[o];DT(s.dom)||(e[o]=s=HT(s)),NA(s,t,n,r,i)}}function FA(e,t,n,r){RT(t)&&t(n);var i=RT(n.componentDidMount),o=qT.afterMount,a=RT(o);(i||a)&&r.push(function(e,t,n,r,i){return function(){e.$UPD=!0,t&&n(r),i&&e.componentDidMount(),e.$UPD=!1}}(n,a,o,e,i))}function zA(e,t,n,r){TT(t)||(RT(t.onComponentWillMount)&&t.onComponentWillMount(e),RT(t.onComponentDidMount)&&r.push(function(e,t,n){return function(){return e.onComponentDidMount(t,n)}}(t,n,e)))}function VA(e,t,n){n.push(function(){return t(e)})}function UA(e,t,n,r,i,o){CA(e),nA(n,NA(t,null,r,i,o),e.dom)}function HA(e,t,n,r,i,o){if(e!==t){var a=0|t.flags;e.flags!==a||2048&a?UA(e,t,n,r,i,o):481&a?function(e,t,n,r,i,o){var a=t.type;if(e.type!==a)UA(e,t,n,r,i,o);else{var s,c=e.dom,u=t.flags,l=e.props,p=t.props,h=!1,f=!1;if(t.dom=c,o=o||(32&u)>0,l!==p){var d=l||QT;if((s=p||QT)!==QT)for(var m in(h=(448&u)>0)&&(f=jA(s)),s){var y=d[m],v=s[m];y!==v&&RA(m,y,v,c,o,f,e)}if(d!==QT)for(var g in d)s.hasOwnProperty(g)||TT(d[g])||RA(g,d[g],null,c,o,f,e)}var b=e.children,w=t.children,_=t.ref,x=e.className,E=t.className;b!==w&&$A(e.childFlags,t.childFlags,b,w,c,r,i,o&&"foreignObject"!==a),h&&OA(u,t,c,s,!1,f),x!==E&&(TT(E)?c.removeAttribute("class"):o?c.setAttribute("class",E):c.className=E),RT(_)&&e.ref!==_&&VA(c,_,r)}}(e,t,n,r,i,o):14&a?function(e,t,n,r,i,o,a){var s=t.type;if(e.type!==s||e.key!==t.key)UA(e,t,n,r,i,o);else{var c=t.props||QT;if(a){var u=e.children;u.$UPD=!0,WA(u,u.state,t,c,n,r,i,o,!1,!1),u.$V=t,u.$UPD=!1}else{var l=!0,p=e.props,h=t.ref,f=!TT(h),d=e.children;if(t.dom=e.dom,t.children=d,f&&RT(h.onComponentShouldUpdate)&&(l=h.onComponentShouldUpdate(p,c)),!1!==l){f&&RT(h.onComponentWillUpdate)&&h.onComponentWillUpdate(p,c);var m=s(c,i);m!==OT&&(HA(d,m=DA(m,t),n,r,i,o),t.children=m,t.dom=m.dom,f&&RT(h.onComponentDidUpdate)&&h.onComponentDidUpdate(p,c))}else 14&d.flags&&(d.parentVNode=t)}}}(e,t,n,r,i,o,(4&a)>0):16&a?function(e,t,n){var r,i=t.children;DT(n.firstChild)?(n.textContent=i,r=n.firstChild):(r=e.dom,i!==e.children&&(r.nodeValue=i)),t.dom=r}(e,t,n):512&a?t.dom=e.dom:function(e,t,n,r){var i=e.type,o=t.type,a=t.children;if($A(e.childFlags,t.childFlags,e.children,a,i,n,r,!1),t.dom=e.dom,i!==o&&!AT(a)){var s=a.dom;i.removeChild(s),o.appendChild(s)}}(e,t,r,i)}}function $A(e,t,n,r,i,o,a,s){switch(e){case 2:switch(t){case 2:HA(n,r,i,o,a,s);break;case 1:SA(n,i);break;default:SA(n,i),LA(r,i,o,a,s)}break;case 1:switch(t){case 2:NA(r,i,o,a,s);break;case 1:break;default:LA(r,i,o,a,s)}break;default:if(12&t){var c=n.length,u=r.length;0===c?u>0&&LA(r,i,o,a,s):0===u?TA(i,n):8===t&&8===e?function(e,t,n,r,i,o,a,s){var c,u,l,p,h=a-1,f=s-1,d=0,m=0,y=e[d],v=t[m];e:{for(;y.key===v.key;){if(v.dom&&(t[m]=v=HT(v)),HA(y,v,n,r,i,o),m++,++d>h||m>f)break e;y=e[d],v=t[m]}for(y=e[h],v=t[f];y.key===v.key;){if(v.dom&&(t[f]=v=HT(v)),HA(y,v,n,r,i,o),f--,d>--h||m>f)break e;y=e[h],v=t[f]}}if(d>h){if(m<=f)for(l=(p=f+1)<s?t[p].dom:null;m<=f;)(v=t[m]).dom&&(t[m]=v=HT(v)),m++,tA(n,NA(v,null,r,i,o),l)}else if(m>f)for(;d<=h;)SA(e[d++],n);else{var g=h-d+1,b=f-m+1,w=[];for(c=0;c<b;c++)w.push(0);var _=g===a,x=!1,E=0,O=0;if(s<4||(g|b)<32)for(c=d;c<=h;c++)if(y=e[c],O<b){for(u=m;u<=f;u++)if(y.key===(v=t[u]).key){if(w[u-m]=c+1,_)for(_=!1;c>d;)SA(e[d++],n);E>u?x=!0:E=u,v.dom&&(t[u]=v=HT(v)),HA(y,v,n,r,i,o),O++;break}!_&&u>f&&SA(y,n)}else _||SA(y,n);else{var j={};for(c=m;c<=f;c++)j[t[c].key]=c;for(c=d;c<=h;c++)if(y=e[c],O<b)if(void 0!==(u=j[y.key])){if(_)for(_=!1;c>d;)SA(e[d++],n);v=t[u],w[u-m]=c+1,E>u?x=!0:E=u,v.dom&&(t[u]=v=HT(v)),HA(y,v,n,r,i,o),O++}else _||SA(y,n);else _||SA(y,n)}if(_)TA(n,e),LA(t,n,r,i,o);else if(x){var S=function(e){var t,n,r,i,o,a=e.slice(),s=[0],c=e.length;for(t=0;t<c;t++){var u=e[t];if(0!==u){if(e[n=s[s.length-1]]<u){a[t]=n,s.push(t);continue}for(r=0,i=s.length-1;r<i;)e[s[o=(r+i)/2|0]]<u?r=o+1:i=o;u<e[s[r]]&&(r>0&&(a[t]=s[r-1]),s[r]=t)}}for(i=s[(r=s.length)-1];r-- >0;)s[r]=i,i=a[i];return s}(w);for(u=S.length-1,c=b-1;c>=0;c--)0===w[c]?((v=t[E=c+m]).dom&&(t[E]=v=HT(v)),p=E+1,tA(n,NA(v,null,r,i,o),p<s?t[p].dom:null)):u<0||c!==S[u]?tA(n,(v=t[E=c+m]).dom,(p=E+1)<s?t[p].dom:null):u--}else if(O!==b)for(c=b-1;c>=0;c--)0===w[c]&&((v=t[E=c+m]).dom&&(t[E]=v=HT(v)),p=E+1,tA(n,NA(v,null,r,i,o),p<s?t[p].dom:null))}}(n,r,i,o,a,s,c,u):function(e,t,n,r,i,o,a,s){for(var c,u=a>s?s:a,l=0;l<u;l++)(c=t[l]).dom&&(c=t[l]=HT(c)),HA(e[l],c,n,r,i,o);if(a<s)for(l=u;l<s;l++)(c=t[l]).dom&&(c=t[l]=HT(c)),NA(c,n,r,i,o);else if(a>s)for(l=u;l<a;l++)SA(e[l],n)}(n,r,i,o,a,s,c,u)}else 1===t?TA(i,n):(TA(i,n),NA(r,i,o,a,s))}}function WA(e,t,n,r,i,o,a,s,c,u){var l,p=e.state,h=e.props;if(n.children=e,!e.$UN){if(h!==r||r===QT){if(!u&&RT(e.componentWillReceiveProps)){if(e.$BR=!0,e.componentWillReceiveProps(r,a),e.$UN)return;e.$BR=!1}e.$PSS&&(t=IT(t,e.$PS),e.$PSS=!1,e.$PS=null)}var f=RT(e.shouldComponentUpdate);if(c||!f||f&&e.shouldComponentUpdate(r,t,a)){RT(e.componentWillUpdate)&&(e.$BS=!0,e.componentWillUpdate(r,t,a),e.$BS=!1),e.props=r,e.state=t,e.context=a,RT(qT.beforeRender)&&qT.beforeRender(e),l=e.render(r,t,a),RT(qT.afterRender)&&qT.afterRender(e);var d,m=l!==OT;RT(e.getChildContext)&&(d=e.getChildContext()),d=TT(d)?a:IT(a,d),e.$CX=d,m&&(HA(e.$LI,e.$LI=DA(l,n),i,o,d,s),RT(e.componentDidUpdate)&&e.componentDidUpdate(h,p),RT(qT.afterUpdate)&&qT.afterUpdate(n))}else e.props=r,e.state=t,e.context=a;n.dom=e.$LI.dom}}var GA=qT.roots;function qA(e,t,n){if(e!==OT){var r,i,o=GA.length;for(i=0;i<o;i++)if(GA[i]===t){r=t.$V;break}return NT(r)?AT(e)||(e.dom&&(e=HT(e)),DT(t.firstChild)?(NA(e,t,JT,QT,!1),t.$V=e,GA.push(t)):function(e,t,n){var r=t.firstChild;if(!DT(r))for(AT(e)||function e(t,n,r,i,o){var a=t.flags;14&a?function(t,n,r,i,o,s){var c=t.type,u=t.ref,l=t.props||QT;if((4&a)>0){var p=MA(t,c,l,i),h=p.$LI;e(h,n,r,p.$CX,o),t.dom=h.dom,FA(t,u,p,r),p.$UPD=!1}else{var f=DA(c(l,i),t);e(f,n,r,i,o),t.children=f,t.dom=f.dom,zA(l,u,n,r)}}(t,n,r,i,o):481&a?function(t,n,r,i,o){var a=t.children,s=t.props,c=t.className,u=t.flags,l=t.ref;if(o=o||(32&u)>0,1!==n.nodeType||n.tagName.toLowerCase()!==t.type){var p=BA(t,null,r,i,o);t.dom=p,nA(n.parentNode,p,n)}else{t.dom=n;var h=n.firstChild,f=t.childFlags;if(0==(1&f)){for(var d=null;h;)d=h.nextSibling,8===h.nodeType&&("!"===h.data?n.replaceChild(document.createTextNode(""),h):n.removeChild(h)),h=d;if(h=n.firstChild,2===f)DT(h)?NA(a,n,r,i,o):(d=h.nextSibling,e(a,h,r,i,o),h=d);else if(12&f)for(var m=0,y=a.length;m<y;m++){var v=a[m];DT(h)?NA(v,n,r,i,o):(d=h.nextSibling,e(v,h,r,i,o),h=d)}for(;h;)d=h.nextSibling,n.removeChild(h),h=d}else DT(n.firstChild)||function(e,t){return Boolean(t&&t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html&&uA(e,t.dangerouslySetInnerHTML.__html))}(n,s)||(n.textContent="",448&u&&(n.defaultValue=""));DT(s)||PA(t,u,s,n,o),TT(c)?""!==n.className&&n.removeAttribute("class"):o?n.setAttribute("class",c):n.className=c,RT(l)&&VA(n,l,r)}}(t,n,r,i,o):16&a?function(e,t){if(3!==t.nodeType){var n=IA(e,null);e.dom=n,nA(t.parentNode,n,t)}else{var r=e.children;t.nodeValue!==r&&(t.nodeValue=r),e.dom=t}}(t,n):512&a?t.dom=n:function(e){throw e||(e=jT),new Error("Inferno Error: "+e)}()}(e,r,JT,QT,!1),r=t.firstChild;r=r.nextSibling;)t.removeChild(r);JT.length>0&&rA(JT),t.$V||qT.roots.push(t),t.$V=e,RT(void 0)&&(void 0)()}(e,t),r=e):TT(e)?(SA(r,t),GA.splice(i,1)):(e.dom&&(e=HT(e)),HA(r,e,t,JT,QT,!1),r=t.$V=e),JT.length>0&&rA(JT),RT(n)&&n(),r&&14&r.flags?r.children:void 0}}ST&&document;var KA="undefined"==typeof Promise?null:Promise.resolve(),ZA="undefined"==typeof requestAnimationFrame?setTimeout:requestAnimationFrame.bind(window);function XA(e,t,n){if(!e.$UN){if(t||!e.$BR){e.$PSS=!1;var r=IT(e.state,e.$PS),i=e.props,o=e.context;e.$PS=null;var a=e.$V,s=e.$LI;if(WA(e,r,a,i,s.dom&&s.dom.parentNode,JT,o,(32&a.flags)>0,t,!0),e.$UN)return;if(0==(1024&e.$LI.flags))for(var c=e.$LI.dom;!DT(a=a.parentVNode);)(14&a.flags)>0&&(a.dom=c);JT.length>0&&rA(JT)}else e.state=e.$PS,e.$PS=null;RT(n)&&n.call(e)}}var YA=function(e,t){this.state=null,this.$BR=!1,this.$BS=!0,this.$PSS=!1,this.$PS=null,this.$LI=null,this.$V=null,this.$UN=!1,this.$CX=null,this.$UPD=!0,this.$QU=null,this.props=e||QT,this.context=t||QT};YA.prototype.forceUpdate=function(e){this.$UN||XA(this,!0,e)},YA.prototype.setState=function(e,t){this.$UN||this.$BS||function(e,t,n){RT(t)&&(t=t(e.state,e.props,e.context));var r,i=e.$PS;if(TT(i))e.$PS=t;else for(var o in t)i[o]=t[o];if(e.$PSS||e.$BR)e.$PSS=!0,e.$BR&&RT(n)&&JT.push(n.bind(e));else if(e.$UPD){var a=e.$QU;DT(a)&&(a=e.$QU=[],r=function(e,t){return function(){e.$QU=null,e.$UPD=!0,XA(e,!1,function(){for(var n=0,r=t.length;n<r;n++)t[n].call(e)}),e.$UPD=!1}}(e,a),KA?KA.then(r):ZA(r)),RT(n)&&a.push(n)}else e.$PSS=!0,e.$UPD=!0,XA(e,!1,n),e.$UPD=!1}(this,e,t)},YA.prototype.render=function(e,t,n){},YA.defaultProps=null;var QA=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),JA=function(e){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n._injector=e.injector;return n._sheet=r.get("sheet"),n._changeSupport=r.get("changeSupport"),n._components=r.get("components"),n.onElementsChanged=n.onElementsChanged.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),QA(t,[{key:"onElementsChanged",value:function(){this.forceUpdate()}},{key:"getChildContext",value:function(){return{changeSupport:this._changeSupport,components:this._components,injector:this._injector}}},{key:"componentWillMount",value:function(){var e=this._sheet.getRoot();this._changeSupport.onElementsChanged(e.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var e=this._sheet.getRoot();this._changeSupport.offElementsChanged(e.id,this.onElementsChanged)}},{key:"render",value:function(){var e=this._sheet.getRoot(),t=e.rows,n=e.cols,r=this._components.getComponents("table.before"),i=this._components.getComponents("table.after"),o=this._components.getComponent("table.head"),a=this._components.getComponent("table.body"),s=this._components.getComponent("table.foot");return FT(1,"div","tjs-container",[r&&r.map(function(e,t){return zT(2,e,null,t)}),FT(1,"table","tjs-table",[o&&zT(2,o,{rows:t,cols:n}),a&&zT(2,a,{rows:t,cols:n}),s&&zT(2,s,{rows:t,cols:n})],0),i&&i.map(function(e,t){return zT(2,e,null,t)})],0)}}]),t}(),eR=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),tR=function(){function e(t,n,r,i,o){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var a=r.container;this._container=a,i.on("root.added",function(){qA(zT(2,JA,{injector:o}),a)}),i.on("root.remove",function(){qA(null,a)})}return eR(e,[{key:"getContainer",value:function(){return this._container}}]),e}(),nR=tR;tR.$inject=["changeSupport","components","config.renderer","eventBus","injector"];var rR={__init__:["changeSupport","components","renderer"],changeSupport:["type",_T],components:["type",ET],renderer:["type",nR]},iR=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),oR=function(){function e(t,n){var r=this;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._elementRegistry=t,this._eventBus=n,this._root=null,n.on("table.clear",function(){r.setRoot(null)})}return iR(e,[{key:"setRoot",value:function(e){if(this._root){var t=this._root;this._eventBus.fire("root.remove",{root:t}),this._root=null,this._eventBus.fire("root.removed",{root:t})}e&&this._eventBus.fire("root.add",{root:e}),this._root=e,e&&this._eventBus.fire("root.added",{root:e})}},{key:"getRoot",value:function(){return this._root||this.setRoot({id:"__implicitroot",rows:[],cols:[]}),this._root}},{key:"addRow",value:function(e,t){var n=this,r=this.getRoot();if(r.cols.length!=e.cells.length)throw new Error("number of cells is not equal to number of cols");return void 0===t&&(t=r.rows.length),sR(t,r.rows,e),e.root=r,this._elementRegistry.add(e),e.cells.forEach(function(i,o){n._elementRegistry.add(i),i.row=e,i.col=r.cols[o],sR(t,r.cols[o].cells,i)}),this._eventBus.fire("row.add",{row:e}),e}},{key:"removeRow",value:function(e){var t=this,n=this.getRoot();"string"==typeof e&&(e=this._elementRegistry.get(e));var r=n.rows.indexOf(e);-1!==r&&(cR(r,n.rows),e.root=void 0,this._elementRegistry.remove(e),e.cells.forEach(function(e,i){t._elementRegistry.remove(e),e.col=void 0,cR(r,n.cols[i].cells)}),this._eventBus.fire("row.remove",{row:e}))}},{key:"addCol",value:function(e,t){var n=this,r=this.getRoot();if(this._elementRegistry.add(e),r.rows.length!=e.cells.length)throw new Error("number of cells is not equal to number of rows");return void 0===t&&(t=r.cols.length),sR(t,r.cols,e),e.root=r,e.cells.forEach(function(i,o){n._elementRegistry.add(i),i.col=e,i.row=r.rows[o],sR(t,r.rows[o].cells,i)}),this._eventBus.fire("col.add",{col:e}),e}},{key:"removeCol",value:function(e){var t=this,n=this.getRoot();"string"==typeof e&&(e=this._elementRegistry.get(e));var r=n.cols.indexOf(e);-1!==r&&(cR(r,n.cols),e.root=void 0,this._elementRegistry.remove(e),e.cells.forEach(function(e,i){t._elementRegistry.remove(e),e.row=void 0,cR(r,n.rows[i].cells)}),this._eventBus.fire("col.remove",{col:e}))}},{key:"resized",value:function(){this._eventBus.fire("sheet.resized")}}]),e}(),aR=oR;function sR(e,t,n){return t.splice(e,0,n)}function cR(e,t){return t.splice(e,1)}oR.$inject=["elementRegistry","eventBus"];var uR={__depends__:[rR],__init__:["elementFactory","sheet"],elementFactory:["type",pT],elementRegistry:["type",dT],eventBus:["type",vT],sheet:["type",aR]},lR=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var n=t.injector;if(!n){var r=this._init(t);n=function(e){var t=[],n=[];function r(e){return t.indexOf(e)>=0}e.forEach(function e(i){r(i)||((i.__depends__||[]).forEach(e),r(i)||(function(e){t.push(e)}(i),(i.__init__||[]).forEach(function(e){n.push(e)})))});var i=new rT.a(t);return n.forEach(function(e){try{i["string"==typeof e?"get":"invoke"](e)}catch(t){throw console.error("Failed to instantiate component"),console.error(t.stack),t}}),i}([{config:["value",r.config]},uR].concat(r.modules||[]))}this.get=n.get,this.invoke=n.invoke,this.get("eventBus").fire("table.init"),this.get("eventBus").fire("diagram.init")}return lR(e,[{key:"_init",value:function(e){return{modules:e.modules,config:function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["modules"])}}},{key:"destroy",value:function(){var e=this.get("eventBus");e.fire("table.destroy"),e.fire("diagram.destroy")}},{key:"clear",value:function(){var e=this.get("eventBus");e.fire("table.clear"),e.fire("diagram.clear")}}]),e}();function hR(e){return e?"<"+e.$type+(e.id?' id="'+e.id+'"':"")+" />":"<null>"}function fR(e,t){function n(t,n,r){if(t.gfx)throw new Error("already rendered "+hR(t));return e.element(t,n,r)}function r(e,t,r){Object(_d.i)(e,function(e){n(e,t,r)})}function i(e,t,r){Object(_d.i)(e,function(e){n(e,t,r)})}return{handleDecision:function(t){t.id||(t.id="decision");var o=t.decisionTable;if(!o)throw new Error("no table for "+hR(t));if(!o.output)throw new Error("missing output for "+hR(o));var a,s,c,u=e.table(o);o.input&&r(o.input,u,o),r(o.output,u,o),a=o.rule,s=u,c=o,Object(_d.i)(a,function(e){n(e,s,c),i(e.inputEntry,e),i(e.outputEntry,e)})}}}function dR(){return FT(1,"th","annotation header",VT("Annotation"),2,{rowspan:"3"})}function mR(e,t){var n=e.$inject;if(n){var r=t.context.injector,i=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n),[function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];for(var o in r)t[n[o]]=r[o]}]);r.invoke(i)}}function yR(e,t){Object.keys(t).forEach(function(n){if("$inject"!==n&&"__init"!==n){var r=t[n];"constructor"===n&&r.call(e,e.props,e.context);var i=e[n];if(void 0!==i){if("function"!=typeof i)throw new Error("failed to mixin <"+n+">: cannot combine with non-fn component value");e[n]=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=void 0;return n.forEach(function(t){if(void 0!==(o=t.call.apply(t,[e].concat(r))))return!1}),o}).bind(e)}(e,i,r)}else e[n]=r.bind(e)}}),"$inject"in t&&mR(t,e),"__init"in t&&t.__init.call(e,e.props,e.context)}var vR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function bR(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function wR(e,t){var n,r,i=e.index;return i[t]?e:{elements:[].concat(bR(e.elements),[t]),index:gR({},i,(n={},r=t,r in n?Object.defineProperty(n,r,{value:!0,enumerable:!0,configurable:!0,writable:!0}):n[r]=!0,n))}}function _R(){for(var e={elements:[],index:{}},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){var n=void 0===t?"undefined":vR(t);"string"===n&&t.length>0?e=wR(e,t):"object"===n&&null!==t&&Object.keys(t).forEach(function(n){t[n]&&(e=wR(e,n))})}),function(e,t){return e.elements.join(" ")}(e)}var xR={getSelectionClasses:function(){var e=this.state;return _R({selected:e.selected,"selected-secondary":e.selectedSecondary,focussed:e.focussed})},selectionChanged:function(e){this.setState(e)},componentWillUpdate:function(e){e.elementId!==this.props.elementId&&this.updateSelectionSubscription(!1)},componentDidUpdate:function(e){e.elementId!==this.props.elementId&&this.updateSelectionSubscription(!0)},componentDidMount:function(){this.updateSelectionSubscription(!0)},componentWillUnmount:function(){this.updateSelectionSubscription(!1)},updateSelectionSubscription:function(e){var t=this.props.elementId;t&&t&&this.eventBus[e?"on":"off"]("selection."+t+".changed",this.selectionChanged)}},ER=xR;xR.$inject=["eventBus"];var OR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jR=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),SR=function(e){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var r,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return yR(i,ER),mR((r=i).constructor,r),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),jR(t,[{key:"getRenderProps",value:function(){for(var e=this.props,t=e.className,n=e.elementId,r=e.coords,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","elementId","coords"]),o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];var c={className:_R.apply(void 0,a.concat([this.getSelectionClasses(),t]))};return n&&(c["data-element-id"]=n),r&&(c["data-coords"]=r),OR({},c,i)}}]),t}(),CR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kR=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),TR=function(e){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,SR),kR(t,[{key:"render",value:function(){var e=this.props.children,t=this.getRenderProps("cell");return UT(FT(1,"td",null,e,0,CR({},t)))}}]),t}();function AR(e){var t=e.row.businessObject;return zT(2,TR,{className:"annotation",elementId:t.id+"__annotation",children:t.description||"-"})}function RR(e){e.onGetComponent("cell",function(e){var t=e.cellType;return"after-label-cells"===t?dR:"after-rule-cells"===t?AR:void 0})}RR.$inject=["components"];var PR={__init__:["annotationsProvider"],annotationsProvider:["type",RR]},MR=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function DR(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function NR(e,t){return Object(_d.a)({id:e.id,type:e.$type,businessObject:e},t)}var IR=function(){function e(t,n,r){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._elementFactory=t,this._eventBus=n,this._sheet=r}return MR(e,[{key:"add",value:function(e){var t=this,n=void 0;if(QC(e,"dmn:DecisionTable"))n=this._elementFactory.createRoot(NR(e)),this._sheet.setRoot(n);else if(QC(e,"dmn:InputClause"))n=this._elementFactory.createCol(NR(e)),this._sheet.addCol(n);else if(QC(e,"dmn:OutputClause"))n=this._elementFactory.createCol(NR(e)),this._sheet.addCol(n);else if(QC(e,"dmn:DecisionRule")){e.inputEntry||(e.inputEntry=[]),e.outputEntry||(e.outputEntry=[]);var r=[].concat(DR(e.inputEntry),DR(e.outputEntry)).map(function(e){return t._elementFactory.createCell(NR(e))});n=this._elementFactory.createRow(Object(_d.a)(NR(e),{cells:r})),this._sheet.addRow(n)}return this._eventBus.fire("dmnElement.added",{element:n}),n}}]),e}(),BR=IR;IR.$inject=["elementFactory","eventBus","sheet"];var LR={__depends__:[{tableImporter:["type",BR]},rR]},FR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function zR(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var VR={slotFill:function(e,t){var n=e.type,r=e.context,i=zR(e,["type","context"]),o=this.components.getComponent(n,r)||t;return o?UT(zT(2,o,FR({},r,i))):null},slotFills:function(e){var t=e.type,n=e.context,r=zR(e,["type","context"]);return this.components.getComponents(t,n).map(function(e){return UT(zT(2,e,FR({},n,r)))})}},UR=VR;VR.$inject=["components"];var HR=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function $R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WR(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function GR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qR=function(e){function t(e,n){$R(this,t);var r=WR(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onElementsChanged=function(){r.forceUpdate()},yR(r,UR),r._sheet=n.injector.get("sheet"),r._changeSupport=n.changeSupport,r}return GR(t,YA),HR(t,[{key:"componentWillMount",value:function(){var e=this._sheet.getRoot();this._changeSupport.onElementsChanged(e.id,this.onElementsChanged)}},{key:"componentWillUnmout",value:function(){var e=this._sheet.getRoot();this._changeSupport.offElementsChanged(e.id,this.onElementsChanged)}},{key:"render",value:function(e){var t=this,n=this._sheet.getRoot();if(!QC(n,"dmn:DMNElement"))return null;var r=JC(n),i=r.input,o=r.output;return FT(1,"thead",null,[FT(1,"tr",null,[this.slotFills({type:"cell",context:{cellType:"before-label-cells"}}),this.slotFill({type:"cell",context:{cellType:"input-label"}},ZR),this.slotFill({type:"cell",context:{cellType:"output-label"}},YR),this.slotFills({type:"cell",context:{cellType:"after-label-cells"}})],0),FT(1,"tr",null,[i&&i.map(function(e){return t.slotFill({type:"cell",context:{cellType:"input-header",input:e},key:e.id},KR)}),o.map(function(e){return t.slotFill({type:"cell",context:{cellType:"output-header",output:e},key:e.id},XR)})],0),FT(1,"tr",null,[i&&i.map(function(e,n){return t.slotFill({type:"cell",context:{cellType:"input-header-type-ref",element:e.inputExpression},className:"input-cell",key:e.id},QR)}),o.map(function(e){return t.slotFill({type:"cell",context:{cellType:"output-header-type-ref",element:e},className:"output-cell",key:e.id},QR)})],0)],4)}}]),t}();function KR(e){var t=e.input,n=t.label,r=t.inputExpression;return FT(1,"th",(e.className||"")+" input-cell",n?FT(1,"span","input-label",n,0,{title:"Input Label"}):FT(1,"span","input-expression",r.text||"-",0,{title:"Input Expression"}),0,{"data-col-id":t.id},t.id)}var ZR=function(e){function t(e,n){$R(this,t);var r=WR(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._sheet=n.injector.get("sheet"),r}return GR(t,YA),HR(t,[{key:"render",value:function(){var e=this._sheet.getRoot().businessObject,t=e.input;if(!t||!t.length)return null;var n=e.input.length;return FT(1,"th","input-cell inputs-label header",VT("Input"),2,{colspan:n})}}]),t}();function XR(e){var t=e.output,n=t.label,r=t.name;return FT(1,"th",(e.className||"")+" output-cell",n?FT(1,"span","output-label",n,0,{title:"Output Label"}):FT(1,"span","output-name",r||"-",0,{title:"Output Name"}),0,null,t.id)}var YR=function(e){function t(e,n){$R(this,t);var r=WR(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._sheet=n.injector.get("sheet"),r}return GR(t,YA),HR(t,[{key:"render",value:function(){var e=this._sheet.getRoot().businessObject.output.length;return FT(1,"th","output-cell outputs-label header",VT("Output"),2,{colspan:e})}}]),t}();function QR(e){return FT(1,"th",e.className+" type-ref",e.element.typeRef,0,{title:"Data Type"})}function JR(e){e.onGetComponent("table.head",function(){return qR})}JR.$inject=["components"];var eP={__init__:["decisionTableHeadProvider"],decisionTableHeadProvider:["type",JR]},tP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),nP=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),tP(t,[{key:"componentWillMount",value:function(){this._sheet=this.context.injector.get("sheet")}},{key:"render",value:function(){var e=this._sheet.getRoot();if(!QC(e,"dmn:DMNElement"))return null;var t=e.businessObject.$parent,n=t.id;return FT(1,"header","decision-table-properties",[FT(1,"h3","decision-table-name",t.name,0,{title:"Decision Name"}),FT(1,"h5","decision-table-id",n,0,{title:"Decision Id"})],4)}}]),t}(),rP=function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),t.onGetComponent("table.before",function(){return nP})},iP=rP;rP.$inject=["components"];var oP={__init__:["decisionTableProperties"],decisionTableProperties:["type",iP]},aP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),sP=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),aP(t,[{key:"render",value:function(){var e=this.props,t=e.row,n=e.rowIndex,r=this.context.components.getComponents("cell-inner",{cellType:"rule-index",row:t,rowIndex:n});return FT(1,"td","rule-index",[r&&r.map(function(e){return zT(2,e,{row:t,rowIndex:n})}),n+1],0,{"data-row-id":t.id})}}]),t}(),cP=function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),t.onGetComponent("cell",function(e){if("before-rule-cells"===e.cellType)return sP})},uP=cP;cP.$inject=["components"];var lP={__init__:["decisionRuleIndices"],decisionRuleIndices:["type",uP]},pP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hP=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),pP(t,[{key:"render",value:function(e){var t=e.cols,n=this.context.components;return FT(1,"tbody",null,e.rows.map(function(e,r){var i=n.getComponent("row",{rowType:"rule"});return i&&zT(2,i,{row:e,rowIndex:r,cols:t},e.id)}),0)}}]),t}(),fP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),dP=function(e){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return yR(r,UR),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),fP(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.row,r=t.rowIndex,i=t.cols,o=n.cells;return FT(1,"tr",null,[this.slotFills({type:"cell",context:{cellType:"before-rule-cells",row:n,rowIndex:r}}),o.map(function(t,o){return e.slotFill({type:"cell",context:{cellType:"rule",cell:t,rowIndex:r,colIndex:o},key:t.id,row:n,col:i[o]})}),this.slotFills({type:"cell",context:{cellType:"after-rule-cells",row:n,rowIndex:r}})],0)}}]),t}(),mP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),yP=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),mP(t,[{key:"render",value:function(){var e=this.props,t=e.cell,n=e.row,r=e.col;return QC(t,"dmn:UnaryTests")?zT(2,TR,{className:"input-cell",elementId:t.id,"data-row-id":n.id,"data-col-id":r.id,children:t.businessObject.text}):zT(2,TR,{className:"output-cell",elementId:t.id,"data-row-id":n.id,"data-col-id":r.id,children:t.businessObject.text})}}]),t}(),vP=function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),t.onGetComponent("table.body",function(){return hP}),t.onGetComponent("row",function(e){if("rule"===e.rowType)return dP}),t.onGetComponent("cell",function(e){if("rule"===e.cellType)return yP})},gP=vP;vP.$inject=["components"];var bP={__init__:["decisionRules"],decisionRules:["type",gP]},wP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_P=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),wP(t,[{key:"componentWillMount",value:function(){this._sheet=this.context.injector.get("sheet")}},{key:"render",value:function(){var e=this._sheet.getRoot().businessObject,t=e.hitPolicy;return FT(1,"th","hit-policy header",[t.charAt(0),function(t){switch(e.aggregation){case"SUM":return"+";case"MIN":return"<";case"MAX":return">";case"COUNT":return"#";default:return""}}()],0,{rowspan:"3",title:"Hit Policy = "+t})}}]),t}();function xP(e){e.onGetComponent("cell",function(e){if("before-label-cells"===e.cellType)return _P})}xP.$inject=["components"];var EP={__init__:["hitPolicyProvider"],hitPolicyProvider:["type",xP]},OP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jP=function(e){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onClick=function(){r._eventBus.fire("showDrd")},r._eventBus=n.injector.get("eventBus"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),OP(t,[{key:"render",value:function(){var e=this;return FT(1,"div","view-drd",FT(1,"button","view-drd-button",VT("View DRD"),2,{onClick:this.onClick}),2,null,null,function(t){return e.node=t})}}]),t}(),SP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),CP=function(){function e(t,n,r,i){var o=this;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._injector=r,this._sheet=i,t.onGetComponent("table.before",function(){if(o.canViewDrd())return jP}),n.on("showDrd",function(){var e=r.get("_parent",!1),t=TP(i.getRoot());if(t){var n=e.getView(t);e.open(n)}})}return SP(e,[{key:"canViewDrd",value:function(){var e=this._injector.get("_parent",!1);if(!e)return!1;var t=TP(this._sheet.getRoot());return!!e.getView(t)}}]),e}(),kP=CP;function TP(e){var t=e.businessObject;if(t)return t.$parent.$parent}CP.$inject=["components","eventBus","injector","sheet"];var AP={__init__:["viewDrd"],viewDrd:["type",kP]},RP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),PP=function(e){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onClick=function(){r._eventBus.fire("poweredBy.show")},r._eventBus=n.injector.get("eventBus"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),RP(t,[{key:"render",value:function(){var e=this;return FT(1,"div","powered-by-logo",FT(1,"img","logo",null,1,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC"}),2,{onClick:this.onClick,title:"Powered by bpmn.io"},null,function(t){return e.node=t})}}]),t}(),MP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),DP=function(e){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={show:!1},n.onClick=n.onClick.bind(n),n.onShow=n.onShow.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),MP(t,[{key:"onClick",value:function(){this.setState({show:!1})}},{key:"onShow",value:function(){this.setState({show:!0})}},{key:"componentWillMount",value:function(){(this._eventBus=this.context.injector.get("eventBus")).on("poweredBy.show",this.onShow)}},{key:"componentWillUnmount",value:function(){this._eventBus.off("poweredBy.show",this.onShow)}},{key:"render",value:function(){return this.state.show&&FT(1,"div","powered-by-overlay",FT(1,"div","powered-by-overlay-content",[FT(1,"div",null,FT(1,"img","logo",null,1,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC"}),2),FT(1,"div",null,[VT("Web-based tooling for BPMN, DMN and CMMN diagrams powered by "),FT(1,"a",null,VT("bpmn.io"),2,{href:"http://bpmn.io",target:"_blank"}),VT(".")],4)],4,{onClick:function(e){return e.stopPropagation()}}),2,{onClick:this.onClick})}}]),t}(),NP=function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),t.onGetComponent("table.before",function(){return PP}),t.onGetComponent("table.before",function(){return DP})},IP=NP;NP.$inject=["components","eventBus"];var BP={__init__:["poweredBy"],poweredBy:["type",IP]},LP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function FP(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var zP=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=t._createContainer(),r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object(_d.a)(e,{renderer:{container:n}})));return r._container=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,pR),LP(t,[{key:"open",value:function(e,t){var n;try{return this._decision&&this.clear(),this._decision=e,function(e,t,n){var r=e.get("tableImporter"),i=e.get("eventBus"),o=e.get("sheet"),a=e.get("modeling",!1),s=void 0,c=[];i.fire("import.render.start",{decision:t});try{!function(e){new fR({create:function(e,t,n,i){return r.create(e,t,n,i)},table:function(e){return r.add(e)},element:function(e,t,n){return r.add(e,t,n)},error:function(e,t){c.push({message:e,context:t})}},{canAddMissingEntries:a}).handleDecision(e)}(t)}catch(u){s=u}i.fire("import.render.complete",{error:s,warnings:c}),i.fire("elements.changed",{elements:[o.getRoot()]}),n(s,c)}(this,e,t)}catch(r){n=r}return t(n)}},{key:"_init",value:function(e){var t=e.modules,n=e.additionalModules,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["modules","additionalModules"]),i=t||this.getModules(),o=n||[],a=[{decisionTable:["value",this]}];return{modules:[BP].concat(FP(i),FP(o),a),config:r}}},{key:"on",value:function(e,t,n,r){return this.get("eventBus").on(e,t,n,r)}},{key:"off",value:function(e,t){this.get("eventBus").off(e,t)}},{key:"_emit",value:function(e,t){return this.get("eventBus").fire(e,t)}},{key:"attachTo",value:function(e){if(!e)throw new Error("parentNode required");this.detach(),e.appendChild(this._container),this._emit("attach",{})}},{key:"detach",value:function(){var e=this._container;e.parentNode&&(this._emit("detach",{}),Object(xd.k)(e))}},{key:"destroy",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.detach()}},{key:"getModules",value:function(){return t._getModules()}}],[{key:"_getModules",value:function(){return[PR,LR,eP,oP,lP,bP,EP,AP]}},{key:"_createContainer",value:function(){return Object(xd.f)('<div class="dmn-decision-table-container"></div>')}}]),t}(),VP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),UP=function(){function e(t){var n=this;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._listeners={},t.on("elements.changed",function(e){n.elementsChanged(e.elements)}),t.on("element.updateId",function(e){n.updateId(e.element.id,e.newId)})}return VP(e,[{key:"elementsChanged",value:function(e){for(var t={},n=e.length,r=0;r<n;r++){var i=e[r].id;if(t[i])return;t[i]=!0;var o=this._listeners[i]&&this._listeners[i].length;if(o)for(var a=0;a<o;a++)this._listeners[i][a]&&this._listeners[i][a]()}}},{key:"onElementsChanged",value:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e][this._listeners[e].length]=t}},{key:"offElementsChanged",value:function(e,t){if(this._listeners[e])if(t){var n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1)}else this._listeners[e].length=0}},{key:"updateId",value:function(e,t){this._listeners[e]&&(this._listeners[t]=this._listeners[e],delete this._listeners[e])}}]),e}(),HP=UP;UP.$inject=["eventBus"];var $P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),WP=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._listeners={}}return $P(e,[{key:"getComponent",value:function(e,t){var n=this._listeners[e];if(n){for(var r=void 0,i=0;i<n.length&&!(r=n[i].callback(t));i++);return r}}},{key:"getComponents",value:function(e,t){var n=this._listeners[e];if(n){for(var r=[],i=0;i<n.length;i++){var o=n[i].callback(t);o&&r.push(o)}if(r.length)return r}}},{key:"onGetComponent",value:function(e,t,n){if(Object(_d.n)(t)&&(n=t,t=1e3),!Object(_d.o)(t))throw new Error("priority must be a number");var r=this._getListeners(e),i=void 0,o=void 0,a={priority:t,callback:n};for(o=0;i=r[o];o++)if(i.priority<t)return void r.splice(o,0,a);r.push(a)}},{key:"offGetComponent",value:function(e,t){var n=this._getListeners(e),r=void 0,i=void 0;if(t)for(i=n.length-1;r=n[i];i--)r.callback===t&&n.splice(i,1);else n.length=0}},{key:"_getListeners",value:function(e){var t=this._listeners[e];return t||(this._listeners[e]=t=[]),t}}]),e}(),GP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),qP=function(e){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n._injector=e.injector;return n._changeSupport=r.get("changeSupport"),n._components=r.get("components"),n._renderer=r.get("renderer"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),GP(t,[{key:"getChildContext",value:function(){return{changeSupport:this._changeSupport,components:this._components,renderer:this._renderer,injector:this._injector}}},{key:"render",value:function(){var e=this._components.getComponents("viewer");return FT(1,"div","viewer-container",e&&e.map(function(e,t){return zT(2,e,null,t)}),0)}}]),t}(),KP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ZP=function(){function e(t,n,r,i,o){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var a=r.container;this._container=a,i.on("renderer.mount",function(){qA(zT(2,qP,{injector:o}),a)}),i.on("renderer.unmount",function(){qA(null,a)})}return KP(e,[{key:"getContainer",value:function(){return this._container}}]),e}(),XP=ZP;ZP.$inject=["changeSupport","components","config.renderer","eventBus","injector"];var YP={__init__:["changeSupport","components","renderer"],changeSupport:["type",HP],components:["type",WP],eventBus:["type",DC],renderer:["type",XP]},QP=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),JP=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var n=t.injector;if(!n){var r=this._init(t);n=function(e){var t=[],n=[];function r(e){return t.indexOf(e)>=0}e.forEach(function e(i){r(i)||((i.__depends__||[]).forEach(e),r(i)||(function(e){t.push(e)}(i),(i.__init__||[]).forEach(function(e){n.push(e)})))});var i=new rT.a(t);return n.forEach(function(e){try{i["string"==typeof e?"get":"invoke"](e)}catch(t){throw console.error("Failed to instantiate component"),console.error(t.stack),t}}),i}([{config:["value",r.config]},YP].concat(r.modules||[]))}this.get=n.get,this.invoke=n.invoke,this.get("eventBus").fire("viewer.init")}return QP(e,[{key:"_init",value:function(e){return{modules:e.modules,config:function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["modules"])}}},{key:"destroy",value:function(){this.get("eventBus").fire("viewer.destroy")}},{key:"clear",value:function(){this.get("eventBus").fire("viewer.clear")}}]),e}(),eM=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),tM=function(){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._eventBus=n,this._viewer=t}return eM(e,[{key:"getDecision",value:function(){return this._viewer.getDecision()}},{key:"updateId",value:function(e,t){if(e!==this.getDecision())throw new Error("element !== decision");this._eventBus.fire("element.updateId",{element:e,newId:t}),e.id=t}}]),e}(),nM=tM;tM.$inject=["viewer","eventBus"];var rM={__init__:["elementRegistry"],elementRegistry:["type",nM]},iM=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),oM=function(e){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._viewer=n.injector.get("viewer"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),iM(t,[{key:"render",value:function(){var e=this._viewer.getDecision(),t=e.id;return FT(1,"div","decision-properties",[FT(1,"h3","decision-name",e.name,0),FT(1,"h5","decision-id",t,0)],4)}}]),t}(),aM=function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),t.onGetComponent("viewer",2e3,function(){return oM})},sM=aM;aM.$inject=["components"];var cM={__init__:["decisionProperties"],decisionProperties:["type",sM]},uM=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),lM=function(e){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._viewer=n.injector.get("viewer"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),uM(t,[{key:"render",value:function(){var e=this._viewer.getDecision(),t=e.literalExpression,n=e.variable;return FT(1,"div","literal-expression-properties",FT(1,"table",null,[FT(1,"tr",null,[FT(1,"td",null,VT("Variable Name:"),2),FT(1,"td",null,FT(1,"span",null,n.name||"-",0),2)],4),FT(1,"tr",null,[FT(1,"td",null,VT("Variable Type:"),2),FT(1,"td",null,FT(1,"span",null,n.typeRef||"-",0),2)],4),FT(1,"tr",null,[FT(1,"td",null,VT("Expression Language:"),2),FT(1,"td",null,FT(1,"span",null,t.expressionLanguage||"-",0),2)],4)],4),2)}}]),t}(),pM=function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),t.onGetComponent("viewer",500,function(){return lM})},hM=pM;pM.$inject=["components"];var fM={__init__:["literalExpressionProperties"],literalExpressionProperties:["type",hM]},dM=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),mM=function(e){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onClick=function(){r._eventBus.fire("poweredBy.show")},r._eventBus=n.injector.get("eventBus"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),dM(t,[{key:"render",value:function(){var e=this;return FT(1,"div","powered-by-logo",FT(1,"img","logo",null,1,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC"}),2,{onClick:this.onClick,title:"Powered by bpmn.io"},null,function(t){return e.node=t})}}]),t}(),yM=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),vM=function(e){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={show:!1},n.onClick=n.onClick.bind(n),n.onShow=n.onShow.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),yM(t,[{key:"onClick",value:function(){this.setState({show:!1})}},{key:"onShow",value:function(){this.setState({show:!0})}},{key:"componentWillMount",value:function(){(this._eventBus=this.context.injector.get("eventBus")).on("poweredBy.show",this.onShow)}},{key:"componentWillUnmount",value:function(){this._eventBus.off("poweredBy.show",this.onShow)}},{key:"render",value:function(){return this.state.show&&FT(1,"div","powered-by-overlay",FT(1,"div","powered-by-overlay-content",[FT(1,"div",null,FT(1,"img","logo",null,1,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC"}),2),FT(1,"div",null,[VT("Web-based tooling for BPMN, DMN and CMMN diagrams powered by "),FT(1,"a",null,VT("bpmn.io"),2,{href:"http://bpmn.io",target:"_blank"}),VT(".")],4)],4,{onClick:function(e){return e.stopPropagation()}}),2,{onClick:this.onClick})}}]),t}(),gM=function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),t.onGetComponent("viewer",2e3,function(){return mM}),t.onGetComponent("viewer",function(){return vM})},bM=gM;gM.$inject=["components","eventBus"];var wM={__init__:["poweredBy"],poweredBy:["type",bM]},_M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xM=function(e){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._viewer=n.injector.get("viewer"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),_M(t,[{key:"render",value:function(){return FT(1,"div","textarea",FT(1,"div","content",this._viewer.getDecision().literalExpression.text,0),2)}}]),t}(),EM=function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),t.onGetComponent("viewer",function(){return xM})},OM=EM;EM.$inject=["components"];var jM={__init__:["textarea"],textarea:["type",OM]},SM=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),CM=function(e){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onClick=function(){r._eventBus.fire("showDrd")},r._eventBus=n.injector.get("eventBus"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,YA),SM(t,[{key:"render",value:function(){var e=this;return FT(1,"div","view-drd",FT(1,"button","view-drd-button",VT("View DRD"),2,{onClick:this.onClick}),2,null,null,function(t){return e.node=t})}}]),t}(),kM=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),TM=1500,AM=function(){function e(t,n,r,i){var o=this;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._injector=i,this._viewer=n,t.onGetComponent("viewer",TM,function(){if(o.canViewDrd())return CM}),r.on("showDrd",function(){var e=i.get("_parent",!1),t=o.getDefinitions(),n=e.getView(t);e.open(n)})}return kM(e,[{key:"canViewDrd",value:function(){var e=this._injector.get("_parent",!1);if(e){var t=this.getDefinitions();return!!e.getView(t)}}},{key:"getDefinitions",value:function(){return this._viewer.getDecision().$parent}}]),e}(),RM=AM;AM.$inject=["components","viewer","eventBus","injector"];var PM={__init__:["viewDrd"],viewDrd:["type",RM]},MM=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function DM(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var NM=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=t._createContainer(),r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object(_d.a)(e,{renderer:{container:n}})));return r._container=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,JP),MM(t,[{key:"open",value:function(e,t){var n;try{this._decision&&(this.clear(),this.get("eventBus").fire("renderer.unmount")),this._decision=e,this.get("eventBus").fire("import",e),this.get("eventBus").fire("renderer.mount")}catch(r){n=r}return t(n)}},{key:"_init",value:function(e){var t=e.modules,n=e.additionalModules,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["modules","additionalModules"]),i=t||this.getModules(),o=n||[],a=[{viewer:["value",this]}];return{modules:[].concat(DM(i),DM(o),a),config:r}}},{key:"on",value:function(e,t,n,r){return this.get("eventBus").on(e,t,n,r)}},{key:"off",value:function(e,t){this.get("eventBus").off(e,t)}},{key:"_emit",value:function(e,t){return this.get("eventBus").fire(e,t)}},{key:"getDecision",value:function(){return this._decision}},{key:"attachTo",value:function(e){if(!e)throw new Error("parentNode required");this.detach(),e.appendChild(this._container),this._emit("attach",{})}},{key:"detach",value:function(){var e=this._container;e.parentNode&&(this._emit("detach",{}),Object(xd.k)(e))}},{key:"destroy",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.detach()}},{key:"getModules",value:function(){return t._getModules()}}],[{key:"_getModules",value:function(){return[rM,cM,fM,wM,jM,PM]}},{key:"_createContainer",value:function(){return Object(xd.f)('<div class="dmn-literal-expression-container"></div>')}}]),t}();function IM(e){var t=e.extensionElements,n=t&&t.values;return n&&Object(_d.f)(n,function(e){return QC(e,"biodi:Bounds")})}var BM=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),LM=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,$C),BM(t,[{key:"_getViewProviders",value:function(){return[{id:"drd",constructor:nT,opens:function(e){return QC(e,"dmn:Definitions")&&(t=e,Object(_d.z)(t.drgElements,IM));var t}},{id:"decisionTable",constructor:zP,opens:function(e){return QC(e,"dmn:Decision")&&e.decisionTable}},{id:"literalExpression",constructor:NM,opens:function(e){return QC(e,"dmn:Decision")&&e.literalExpression}}]}}]),t}(),FM=function(){function e(e){this.http=e}return e.prototype.ngOnInit=function(){this.http.get("assets/resources/example.dmn",{responseType:"text"}).subscribe(function(e){console.log(e);var t=e,n=new LM({container:"#canvas",height:"100%",width:"100%"});n.importXML(t,function(e){e?console.log("something went wrong:",e):(console.log("success!"),n.getActiveViewer().get("canvas").zoom("fit-viewport"))})})},e}(),zM=la({encapsulation:2,styles:[],data:{}});function VM(e){return Gs(0,[(e()(),Ia(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),Ia(1,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Ia(2,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),Hs(-1,null,["POC to display a DMN diagram on a browser"])),(e()(),Ia(4,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Ia(5,0,null,null,1,"div",[["class","content with-diagram"],["id","js-drop-zone"],["style","height:500px; width:90% ; border : 1px solid black; "]],null,null,null,null,null)),(e()(),Ia(6,0,null,null,0,"div",[["class","canvas"],["id","canvas"]],null,null,null,null,null))],null,null)}function UM(e){return Gs(0,[(e()(),Ia(0,0,null,null,1,"dmn-viewer",[],null,null,null,VM,zM)),Os(1,114688,null,0,FM,[fC],null,null)],function(e,t){e(t,1,0)},null)}var HM=es("dmn-viewer",FM,UM,{},{},[]),$M=la({encapsulation:0,styles:[['ul#menu_horizontal[_ngcontent-%COMP%]{width:100%;height:30px;margin:2em 0 0;padding:0;background-color:#f4f9fd;border:1px dashed #000;list-style-type:none}ul#menu_horizontal[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;padding:0 .5em;line-height:30px}ul#menu_horizontal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;padding:0 .5em;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:18px}ul#menu_horizontal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']],data:{}});function WM(e){return Gs(0,[(e()(),Ia(0,0,null,null,12,null,null,null,null,null,null,null)),(e()(),Ia(1,0,null,null,8,"ul",[["id","menu_horizontal"]],null,null,null,null,null)),(e()(),Ia(2,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Ia(3,0,null,null,2,"a",[["routerLink","apps/bpmn-viewer"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==ps(e,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Os(4,671744,null,0,If,[Nf,kh,qu],{routerLink:[0,"routerLink"]},null),(e()(),Hs(-1,null,["BPMN viewer demo"])),(e()(),Ia(6,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Ia(7,0,null,null,2,"a",[["routerLink","apps/dmn-viewer"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==ps(e,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Os(8,671744,null,0,If,[Nf,kh,qu],{routerLink:[0,"routerLink"]},null),(e()(),Hs(-1,null,["DMN viewer demo"])),(e()(),Ia(10,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Ia(11,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Os(12,212992,null,0,zf,[Ff,bo,rr,[8,null],wo],null,null)],function(e,t){e(t,4,0,"apps/bpmn-viewer"),e(t,8,0,"apps/dmn-viewer"),e(t,12,0)},function(e,t){e(t,3,0,ps(t,4).target,ps(t,4).href),e(t,7,0,ps(t,8).target,ps(t,8).href)})}function GM(e){return Gs(0,[(e()(),Ia(0,0,null,null,1,"app-root",[],null,null,null,WM,$M)),Os(1,114688,null,0,nu,[],null,null)],function(e,t){e(t,1,0)},null)}var qM=es("app-root",nu,GM,{},{},[]),KM=function(){return function(){}}(),ZM=Jc(tu,[nu],function(e){return function(e){for(var t={},n=[],r=!1,i=0;i<e.length;i++){var o=e[i];o.token===Cr&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[sa(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([Wa(512,rr,ir,[[8,[pd,yd,PC,HM,qM]],[3,rr],ar]),Wa(5120,Ho,Go,[[3,Ho]]),Wa(4608,il,ol,[Ho,[2,rl]]),Wa(5120,Ti,Ai,[]),Wa(5120,Bo,$o,[]),Wa(5120,Lo,Wo,[]),Wa(4608,lp,pp,[cl]),Wa(6144,hi,null,[lp]),Wa(4608,rp,op,[]),Wa(5120,Al,function(e,t,n,r,i,o,a,s){return[new tp(e,t,n),new up(r),new ap(i,o,a,s)]},[cl,Gi,Mi,cl,cl,rp,Ni,[2,ip]]),Wa(4608,Rl,Rl,[Al,Gi]),Wa(135680,Dl,Dl,[cl]),Wa(4608,Vl,Vl,[Rl,Dl]),Wa(6144,vr,null,[Vl]),Wa(6144,Ml,null,[Dl]),Wa(4608,eo,eo,[Gi]),Wa(5120,kh,rd,[Nf]),Wa(4608,$f,$f,[]),Wa(6144,Uf,null,[$f]),Wa(135680,Wf,Wf,[Nf,po,Fi,et,Uf]),Wa(4608,Hf,Hf,[]),Wa(5120,Gf,Qf,[Nf,ll,qf]),Wa(5120,sd,ad,[id]),Wa(5120,Di,function(e){return[e]},[sd]),Wa(4608,EC,OC,[cl,Mi,_C]),Wa(4608,jC,jC,[EC,xC]),Wa(5120,mC,function(e){return[e]},[jC]),Wa(4608,bC,bC,[]),Wa(6144,gC,null,[bC]),Wa(4608,wC,wC,[gC]),Wa(6144,QS,null,[wC]),Wa(4608,YS,SC,[QS,et]),Wa(4608,fC,fC,[YS]),Wa(1073742336,sl,sl,[]),Wa(1024,Oi,bp,[]),Wa(1024,io,function(){return[Xf()]},[]),Wa(512,id,id,[et]),Wa(1024,Ci,function(e,t){return[(n=e,Cl("probe",Tl),Cl("coreTokens",o({},kl,(n||[]).reduce(function(e,t){return e[t.name]=t.token,e},{}))),function(){return Tl}),od(t)];var n},[[2,io],id]),Wa(512,ki,ki,[[2,Ci]]),Wa(131584,uo,uo,[Gi,Ni,et,Oi,rr,ki]),Wa(1073742336,qo,qo,[uo]),Wa(1073742336,wp,wp,[[3,wp]]),Wa(1024,Kf,ed,[[3,Nf]]),Wa(512,ah,sh,[]),Wa(512,Ff,Ff,[]),Wa(256,qf,{},[]),Wa(1024,qu,Jf,[Wu,[2,Ku],qf]),Wa(512,Zu,Zu,[qu]),Wa(512,Fi,Fi,[]),Wa(512,po,yo,[Fi,[2,fo]]),Wa(1024,kf,function(){return[[{path:"apps/home",component:hd},{path:"apps/bpmn-viewer",component:XS},{path:"apps/dmn-viewer",component:FM},{path:"**",redirectTo:"apps/bpmn-viewer"}]]},[]),Wa(1024,Nf,nd,[uo,ah,Ff,Zu,et,po,Fi,kf,qf,[2,Af],[2,Sf]]),Wa(1073742336,Yf,Yf,[[2,Kf],[2,Nf]]),Wa(1073742336,KM,KM,[]),Wa(1073742336,CC,CC,[]),Wa(1073742336,kC,kC,[]),Wa(1073742336,tu,tu,[]),Wa(256,Cr,!0,[]),Wa(256,_C,"XSRF-TOKEN",[]),Wa(256,xC,"X-XSRF-TOKEN",[])])});(function(){if(Hr)throw new Error("Cannot enable prod mode after platform setup.");Ur=!1})(),gp().bootstrapModuleFactory(ZM).catch(function(e){return console.error(e)})}},[[0,0]]]);